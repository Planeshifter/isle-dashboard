(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{10:function(e,t,n){"use strict";var a=n(0),r=n.n(a),s=n(3),c=n(12),u=n(13),o=n(20),i=n(39),p=n(1),l=n.n(p),d=function(){return l.a.createElement("div",{className:"sk-cube-grid"},l.a.createElement("div",{className:"sk-cube sk-cube1"}),l.a.createElement("div",{className:"sk-cube sk-cube2"}),l.a.createElement("div",{className:"sk-cube sk-cube3"}),l.a.createElement("div",{className:"sk-cube sk-cube4"}),l.a.createElement("div",{className:"sk-cube sk-cube5"}),l.a.createElement("div",{className:"sk-cube sk-cube6"}),l.a.createElement("div",{className:"sk-cube sk-cube7"}),l.a.createElement("div",{className:"sk-cube sk-cube8"}),l.a.createElement("div",{className:"sk-cube sk-cube9"}))};t.a=function(e){return function(t){Object(o.a)(p,t);var n,a=Object(i.a)(p);function p(e){var t;return Object(c.a)(this,p),(t=a.call(this,e)).state={component:null},t}return Object(u.a)(p,[{key:"componentDidMount",value:(n=Object(s.a)(r.a.mark((function t(){var n,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,a=n.default,this.setState({component:a});case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var e=this.state.component;return e?l.a.createElement(e,this.props):l.a.createElement(d,null)}}]),p}(p.Component)}},107:function(e,t,n){"use strict";n.d(t,"m",(function(){return v})),n.d(t,"i",(function(){return g})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return E})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return _})),n.d(t,"n",(function(){return D})),n.d(t,"l",(function(){return T})),n.d(t,"a",(function(){return I})),n.d(t,"c",(function(){return L})),n.d(t,"o",(function(){return U})),n.d(t,"e",(function(){return F})),n.d(t,"k",(function(){return M})),n.d(t,"j",(function(){return z}));var a=n(0),r=n.n(a),s=n(3),c=n(6),u=n.n(c),o=n(33),i=n.n(o),p=n(5),l=n(66),d=n(4),f=n(2);function m(e){return{type:f.q,payload:{lessonName:e}}}function b(e,t){return{type:f.nb,payload:{lessonName:e,props:t}}}function v(e){var t=e.lessons,n=e.namespaceName;return{type:f.eb,payload:{lessons:t,namespaceName:n}}}var h=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(p.a+"/get_public_lessons");case 3:n=e.sent,t((a=n.data.lessons,{type:f.fb,payload:{lessons:a}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(d.a)(t,e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e);case 2:case"end":return t.stop()}}),t)})))},O=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.lessonName,s=n.namespaceName,e.prev=1,e.next=4,u.a.get(p.a+"/get_isle_file?"+i.a.stringify({lessonName:a,namespaceName:s}));case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),Object(d.a)(t,e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lessonName,s=n.namespaceName,t.next=3,O(e,{lessonName:a,namespaceName:s});case 3:return c=t.sent,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}return e.prev=1,e.next=4,u.a.get(p.a+"/get_lessons?"+i.a.stringify({namespaceName:n}));case 4:a=e.sent,s=(s=a.data.lessons).map((function(e,t){return e.colorIndex=t%20,e.url=p.a+"/"+n+"/"+e.title,e.lockUntil&&(e.lockUntil=new Date(e.lockUntil.time)),e.createdAt||(e.createdAt=new Date(0).toLocaleString()),e.updatedAt||(e.updatedAt=e.createdAt),e})),t(v({lessons:s,namespaceName:n})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Object(d.a)(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c,o,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.sourceName,s=n.target,c=n.targetName,o=n.source,!(a&&s&&o)){e.next=13;break}return e.prev=2,e.next=5,u.a.post(p.a+"/copy_lesson",{target:s,source:o,sourceName:a,targetName:c});case 5:return i=e.sent,Object(d.b)(t,{message:i.data.message,level:"success"}),e.abrupt("return",i);case 10:e.prev=10,e.t0=e.catch(2),Object(d.a)(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s,c,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.sourceName,s=n.target,c=n.targetName,u=n.source,t.next=3,j(e,{sourceName:a,target:s,targetName:c,source:u});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.lessonName,(s=n.namespaceName)&&a){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,u.a.post(p.a+"/delete_lesson",{namespaceName:s,lessonName:a});case 6:return c=e.sent,t(m(a)),Object(d.b)(t,{message:c.data.message,level:"success"}),e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(3),Object(d.a)(t,e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lessonName,s=n.namespaceName,t.next=3,x(e,{lessonName:a,namespaceName:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.lessonName,s=n.namespaceName,e.prev=1,e.next=4,u.a.post(p.a+"/show_lesson",{namespaceName:s,lessonName:a});case 4:c=e.sent,Object(d.b)(t,{message:c.data.message,level:"success"}),t(b(a,{public:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Object(d.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),D=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lessonName,s=n.namespaceName,t.next=3,N(e,{lessonName:a,namespaceName:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},A=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.lessonName,s=n.namespaceName,e.prev=1,e.next=4,u.a.post(p.a+"/hide_lesson",{namespaceName:s,lessonName:a});case 4:c=e.sent,Object(d.b)(t,{message:c.data.message,level:"success"}),t(b(a,{public:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Object(d.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),T=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lessonName,s=n.namespaceName,t.next=3,A(e,{lessonName:a,namespaceName:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.lessonName,s=n.namespaceName,e.prev=1,e.next=4,u.a.post(p.a+"/activate_lesson?",{namespaceName:s,lessonName:a});case 4:c=e.sent,Object(d.b)(t,{message:c.data.message,level:"success"}),t(b(a,{active:!0})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Object(d.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lessonName,s=n.namespaceName,t.next=3,S(e,{lessonName:a,namespaceName:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.lessonName,s=n.namespaceName,e.prev=1,e.next=4,u.a.post(p.a+"/deactivate_lesson",{namespaceName:s,lessonName:a});case 4:c=e.sent,Object(d.b)(t,{message:c.data.message,level:"success"}),t(b(a,{active:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Object(d.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),L=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lessonName,s=n.namespaceName,t.next=3,C(e,{lessonName:a,namespaceName:s});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},R=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s,c,o,i,f,b,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.lessonName,s=n.namespaceName,c=n.newTitle,o=n.newDescription,i=n.lockUntil,f=n.template,!s||!a){e.next=18;break}return e.prev=2,b={namespaceName:s,lessonName:a,newTitle:c,newDescription:o,lockUntil:i},Object(l.isPrimitive)(f)&&(b.template=f),e.next=7,u.a.post(p.a+"/update_lesson",b);case 7:return v=e.sent,t(m(a)),Object(d.b)(t,{message:v.data.message,level:"success"}),w(t,s),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(2),Object(d.a)(t,e.t0),e.abrupt("return",!1);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var a,s,c,u,o,i,p;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.lessonName,s=n.namespaceName,c=n.newTitle,u=n.newDescription,o=n.lockUntil,i=n.template,t.next=3,R(e,{lessonName:a,namespaceName:s,newTitle:c,newDescription:u,lockUntil:o,template:i});case 3:return p=t.sent,t.abrupt("return",p);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},P=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(p.a+"/get_all_lessons");case 3:n=e.sent,t((a=n.data.lessons,{type:f.A,payload:{lessons:a}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(d.a)(t,e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),F=function(e){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:case"end":return t.stop()}}),t)})))},G=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(p.a+"/get_template_lessons");case 3:n=e.sent,t((a=n.data.lessons,{type:f.N,payload:{templateLessons:a}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(d.a)(t,e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(e){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:case"end":return t.stop()}}),t)})))},V=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(p.a+"/get_open_rooms");case 3:n=e.sent,t((a=n.data.rooms,{type:f.K,payload:{rooms:a}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(d.a)(t,e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(e){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:case"end":return t.stop()}}),t)})))}},161:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h}));var a=n(0),r=n.n(a),s=n(3),c=(n(1),n(6)),u=n.n(c),o=n(5),i=n(21),p=n(4),l=n(2),d=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(o.a+"/get_settings");case 3:n=e.sent,t({type:l.L,payload:n.data}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(p.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:case"end":return t.stop()}}),t)})))},m=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get(o.a+"/get_public_settings");case 3:n=e.sent,t({type:l.M,payload:n.data}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(p.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:case"end":return t.stop()}}),t)})))},v=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post(o.a+"/update_settings",{name:n,value:a});case 3:s=e.sent,Object(p.b)(t,{title:i.a.t("common:updated"),message:s.data.message,level:"success"}),t({type:l.pb,payload:s.data}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(p.a)(t,e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a){return e.apply(this,arguments)}}(),h=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e,n,a);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}},167:function(e){e.exports=JSON.parse('{"a":"https://echo.kymetis.com"}')},2:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return h})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return y})),n.d(t,"k",(function(){return w})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return j})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return x})),n.d(t,"x",(function(){return _})),n.d(t,"y",(function(){return N})),n.d(t,"z",(function(){return D})),n.d(t,"A",(function(){return A})),n.d(t,"B",(function(){return T})),n.d(t,"D",(function(){return S})),n.d(t,"G",(function(){return I})),n.d(t,"C",(function(){return C})),n.d(t,"E",(function(){return L})),n.d(t,"F",(function(){return R})),n.d(t,"I",(function(){return U})),n.d(t,"H",(function(){return P})),n.d(t,"J",(function(){return F})),n.d(t,"K",(function(){return G})),n.d(t,"L",(function(){return M})),n.d(t,"M",(function(){return V})),n.d(t,"N",(function(){return z})),n.d(t,"O",(function(){return K})),n.d(t,"P",(function(){return B})),n.d(t,"Q",(function(){return W})),n.d(t,"R",(function(){return q})),n.d(t,"S",(function(){return H})),n.d(t,"V",(function(){return J})),n.d(t,"W",(function(){return Y})),n.d(t,"X",(function(){return Q})),n.d(t,"Y",(function(){return X})),n.d(t,"Z",(function(){return Z})),n.d(t,"ab",(function(){return $})),n.d(t,"bb",(function(){return ee})),n.d(t,"cb",(function(){return te})),n.d(t,"eb",(function(){return ne})),n.d(t,"fb",(function(){return ae})),n.d(t,"gb",(function(){return re})),n.d(t,"hb",(function(){return se})),n.d(t,"jb",(function(){return ce})),n.d(t,"ib",(function(){return ue})),n.d(t,"kb",(function(){return oe})),n.d(t,"lb",(function(){return ie})),n.d(t,"nb",(function(){return pe})),n.d(t,"ob",(function(){return le})),n.d(t,"T",(function(){return de})),n.d(t,"U",(function(){return fe})),n.d(t,"tb",(function(){return me})),n.d(t,"ub",(function(){return be})),n.d(t,"rb",(function(){return ve})),n.d(t,"sb",(function(){return he})),n.d(t,"mb",(function(){return ge})),n.d(t,"pb",(function(){return Oe})),n.d(t,"qb",(function(){return ye})),n.d(t,"db",(function(){return we}));var a="ADD_ENROLLED_NAMESPACE",r="ADD_ERROR_NOTIFICATION",s="ADD_NOTIFICATION",c="APPEND_CREATED_NAMESPACE",u="AUTHENTICATED",o="CHANGED_NAMESPACE",i="CREATED_ANNOUNCEMENT",p="CREATED_CUSTOM_FIELD",l="CREATED_BACKUP",d="CREATED_TICKET",f="DELETED_BACKUP",m="DELETED_CURRENT_NAMESPACE",b="DELETED_CUSTOM_FIELD",v="DELETED_EVENT",h="DELETED_FILE",g="DELETED_LESSON",O="DELETED_TICKET",y="DELETED_USER",w="DELETED_ANNOUNCEMENT",E="DISABLED_TFA",j="EDITED_ANNOUNCEMENT",k="ENABLED_TFA",x="FIELD_POSITION_DECREMENTED",_="FIELD_POSITION_INCREMENTED",N="GET_ALL_COHORTS",D="GET_ALL_FILES",A="GET_ALL_LESSONS",T="GET_ALL_NAMESPACES",S="GET_BACKUPS",I="GET_EVENTS",C="GET_ALL_TICKETS",L="GET_COURSE_TICKETS",R="GET_CUSTOM_FIELDS",U="GET_OVERVIEW_STATISTICS",P="GET_HISTORICAL_OVERVIEW_STATISTICS",F="GET_REQUEST_STATISTICS",G="GET_ROOMS",M="GET_SETTINGS",V="GET_SETTINGS_PUBLIC",z="GET_TEMPLATE_LESSONS",K="GET_TFA_QRCODE",B="GET_USERS",W="GET_USER_TICKETS",q="LESSON_ORDER",H="LESSON_ORDER_DIRECTION",J="RECEIVED_FILES",Y="RECEIVED_LICENSE",Q="RECEIVED_NAMESPACE_FILES",X="RECEIVED_TOKEN",Z="REMOVED_LICENSE",$="REQUEST_TFA",ee="RETRIEVED_BADGES",te="RETRIEVED_COHORTS",ne="RETRIEVED_LESSONS",ae="RETRIEVED_PUBLIC_LESSONS",re="SEARCH_PHRASE_SET",se="TICKET_CLOSED",ce="TICKET_OPENED",ue="TICKET_MESSAGE_ADDED",oe="TICKET_PRIORITY_UPDATED",ie="TRIGGERED_EVENT",pe="UPDATED_LESSON",le="UPDATED_OWNED_NAMESPACE",de="LOGGED_IN",fe="LOGGED_OUT",me="USER_UPDATED",be="USER_UPDATED_BY_ADMIN",ve="USER_PICTURE_MODIFIED",he="USER_RECEIVED_BADGES",ge="UPDATED_CUSTOM_FIELD",Oe="UPDATED_SETTINGS",ye="UPDATED_STUDENT_PROGRESS",we="RETRIEVED_ENROLLABLE_COHORTS"},210:function(e,t,n){e.exports=n(479)},220:function(e,t){},4:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(2);function r(e,t){e({type:a.c,payload:t})}var s=function(e){return function(t){r(e,t)}};function c(e,t){var n;t.response?(n="Server response: "+t.response.status+".\n",n+=t.response.data):n=t.message,e({type:a.b,payload:n})}},479:function(e,t,n){"use strict";n.r(t);n(198);var a=n(1),r=n.n(a),s=n(46),c=n.n(s),u=n(130),o=n.n(u),i=n(28),p=n(94),l=n(166),d=n(6),f=n.n(d),m=n(26),b=n(22),v=n(163),h=n(45),g=n(16),O=n(41),y=n.n(O),w=n(2),E={cohorts:[],events:[],files:[],lessons:[],lessonsMap:{},namespaces:[],rooms:[],tickets:[],users:[],statistics:{},requestStatistics:[],historicalStatistics:[],backups:[],license:null,settings:{}};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.P:var n=t.payload.users;return n=n.map((function(e){for(var t=y()(e.lessonData),n=0,a=0,r=0;r<t.length;r++){var s=t[r];n+=e.lessonData[s].chatMessages;for(var c=y()(e.lessonData[s].actionTypes),u=0;u<c.length;u++)a+=e.lessonData[s].actionTypes[c[u]]}return e.nActions=a,e.chatMessages=n,e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt),e})),Object.assign({},e,{users:n});case w.y:var a=t.payload.cohorts;return a=a.map((function(e){return e.startDate=new Date(e.startDate),e.endDate=new Date(e.endDate),e})),Object.assign({},e,{cohorts:a});case w.z:var r=t.payload.files;return r=r.map((function(e){return e.updatedAt=new Date(e.updatedAt),e})),Object.assign({},e,{files:r});case w.p:var s=e.files.slice();return s=s.filter((function(e){return e._id!==t.payload.id})),Object.assign({},e,{files:s});case w.A:var c=t.payload.lessons,u=Object(g.a)({},e.lessonsMap);return c=c.map((function(e){return e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt),u[e._id]=e.title,e})),Object.assign({},e,{lessons:c,lessonsMap:u});case w.B:var o=t.payload.namespaces;return o=o.map((function(e){return e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt),e})),Object.assign({},e,{namespaces:o});case w.G:var i=t.payload.events;return i=i.map((function(e){return e.time=new Date(e.time),e})),Object.assign({},e,{events:i});case w.K:var p=t.payload.rooms;return p=p.map((function(e){return e.startTime=new Date(e.startTime),e})),Object.assign({},e,{rooms:p});case w.o:var l=e.events.slice();return l=l.filter((function(e){return e._id!==t.payload.id})),Object.assign({},e,{events:l});case w.s:var d=e.users.slice();return d=d.filter((function(e){return e._id!==t.payload.id})),Object.assign({},e,{users:d});case w.lb:for(var f=e.events.slice(),m=0;m<f.length;m++)f[m]._id===t.payload.id&&(f[m].done=!0);return Object.assign({},e,{events:f});case w.ub:for(var b=e.users.slice(),v=0;v<b.length;v++){var h=b[v];if(h._id===t.payload.id)for(var O=y()(t.payload),j=0;j<O.length;j++){var k=O[j];"id"!==k&&(h[k]=t.payload[k])}}return Object.assign({},e,{users:b});case w.I:return Object.assign({},e,{statistics:t.payload.statistics});case w.C:var x=t.payload.tickets;return x=x.map((function(e){return e.createdAt=new Date(e.createdAt),e.updatedAt=new Date(e.updatedAt),e})),Object.assign({},e,{tickets:x});case w.r:var _=e.tickets.slice();return _=_.filter((function(e){return e._id!==t.payload.id})),Object.assign({},e,{tickets:_});case w.jb:var N=e.tickets.map((function(e){return e._id===t.payload.id&&(e.done=!1),e}));return Object.assign({},e,{tickets:N});case w.kb:var D=e.tickets.map((function(e){return e._id===t.payload.id&&(e.priority=t.payload.priority),e}));return Object.assign({},e,{tickets:D});case w.hb:var A=e.tickets.map((function(e){return e._id===t.payload.id&&(e.done=!0),e}));return Object.assign({},e,{tickets:A});case w.ib:var T=e.tickets.map((function(e){if(e._id===t.payload.id){var n=t.payload.message;n.picture=n.picture.substring(n.picture.lastIndexOf("/")+1),e.messages.unshift(n)}return e}));return Object.assign({},e,{tickets:T});case w.W:return Object.assign({},e,{license:t.payload.license});case w.Z:return Object.assign({},e,{license:null});case w.H:var S=t.payload.statistics.map((function(e){return e.createdAt=e.createdAt.substring(0,e.createdAt.indexOf("T")),e}));return Object.assign({},e,{historicalStatistics:S});case w.J:return Object.assign({},e,{requestStatistics:t.payload.statistics});case w.D:return Object.assign({},e,{backups:t.payload.backups});case w.h:var I=e.backups.slice();return I.push(t.payload.backup),Object.assign({},e,{backups:I});case w.l:var C=e.backups.slice();return C=C.filter((function(e){return e._id!==t.payload.id})),Object.assign({},e,{backups:C});case w.L:return Object.assign({},e,{settings:t.payload});case w.pb:return Object.assign({},e,{settings:t.payload.settings});default:return e}}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.bb:return t.payload.badges;default:return e}}var x=n(34),_=n.n(x),N=n(155),D=n.n(N),A=n(89),T=n.n(A),S=n(97),I=n.n(S);function C(e,t){return(""+e.title).localeCompare(t.title)}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.db:var n=t.payload.cohorts;return _()(n)?(n=n.filter((function(e){var n=e.emailFilter||"";return D()(n)?(n=T()(n)).test(t.payload.user.email):I()(t.payload.user.email,n||"")}))).sort(C):n;default:return e}}var R=n(17),U=n.n(R);function P(e,t){return(""+e.title).localeCompare(t.title)}var F={_id:null,title:"",description:"",owners:"",enableTicketing:!1,announcements:[],lessons:[],cohorts:[],files:[],ownerFiles:[],tickets:[]};function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.f:return Object.assign({},e,{_id:t.payload._id,title:t.payload.title,description:t.payload.description,announcements:t.payload.announcements,enableTicketing:t.payload.enableTicketing,owners:t.payload.owners,cohorts:t.payload.cohorts});case w.m:return F;case w.qb:for(var n=t.payload,a=n.cohort,r=n.email,s=n.lessonID,c=n.progress,u=e.cohorts,o=0;o<u.length;o++)if(u[o].title===a){for(var i=u[o].members,p=0;p<i.length;p++)if(i[p].email===r){var l=i[p];l.lessonData[s].progress=c/100;break}break}return Object.assign({},e,{cohorts:u});case w.eb:return t.payload.namespaceName===e.title?Object.assign({},e,{lessons:t.payload.lessons}):e;case w.cb:return Object.assign({},e,{cohorts:t.payload.cohorts.sort(P)});case w.q:var d=e.lessons.slice();return d=d.filter((function(e){return e.title!==t.payload.lessonName})),Object.assign({},e,{lessons:d});case w.nb:for(var f=e.lessons.slice(),m=t.payload,b=m.props,v=m.lessonName,h=0;h<f.length;h++)if(f[h].title===v){for(var g in b)U()(b,g)&&(f[h][g]=b[g]);break}return Object.assign({},e,{lessons:f});case w.X:var O=e.lessons,y=t.payload.files;y=y.map((function(e){e.updatedAt=new Date(e.updatedAt);for(var t=0;t<O.length;t++)if(O[t]._id===e.lesson){e.lesson=O[t];break}return e}));var E={};return t.payload.owner?E.ownerFiles=y:E.files=y,Object.assign({},e,E);case w.u:for(var j=e.announcements.slice(),k=0;k<j.length;k++)j[k].createdAt===t.payload.announcement.createdAt&&(j[k]=t.payload.announcement);return Object.assign({},e,{announcements:j});case w.g:var x=e.announcements.slice();return x.unshift(t.payload.announcement),Object.assign({},e,{announcements:x});case w.k:var _=e.announcements.slice();return _.splice(t.payload.index,1),Object.assign({},e,{announcements:_});case w.E:var N=t.payload.tickets;return N=N.map((function(e){return e.createdAt=new Date(e.createdAt),e})),Object.assign({},e,{tickets:N});case w.jb:var D=e.tickets.map((function(e){return e._id===t.payload.id&&(e.done=!1),e}));return Object.assign({},e,{tickets:D});case w.hb:var A=e.tickets.map((function(e){return e._id===t.payload.id&&(e.done=!0),e}));return Object.assign({},e,{tickets:A});case w.kb:var T=e.tickets.map((function(e){return e._id===t.payload.id&&(e.priority=t.payload.priority),e}));return Object.assign({},e,{tickets:T});case w.ib:var S=e.tickets.map((function(e){if(e._id===t.payload.id){var n=t.payload.message;n.picture=n.picture.substring(n.picture.lastIndexOf("/")+1),e.messages.unshift(n)}return e}));return Object.assign({},e,{tickets:S});case w.U:return F;default:return e}}var M={message:"",level:"",position:"tl",children:null,time:null,autoDismiss:5};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.c:return Object.assign({},M,Object(g.a)(Object(g.a)({},t.payload),{},{time:new Date}));case w.b:return{title:"Error encountered",message:t.payload,level:"error",position:"tl",autoDismiss:5,time:new Date};default:return e}}var z={};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.M:return Object.assign({},e,t.payload);default:return e}}var B=n(5),W={lessons:null};function q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.fb:var n=t.payload.lessons;return n=n.map((function(e,t){return e.colorIndex=t%20,e.url=B.a+"/"+e.namespace+"/"+e.title,e.createdAt||(e.createdAt=new Date(0).toLocaleString()),e.updatedAt||(e.updatedAt=e.createdAt),e})),Object.assign({},e,{lessons:n});default:return e}}var H=n(15),J=n(104),Y=n.n(J),Q={phrase:null,type:"sequentially",direction:"ascending"};function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.gb:return Object.assign({},e,{phrase:Y()(t.payload.phrase)});case w.R:return Object.assign({},e,{type:t.payload.type});case w.S:return Object.assign({},e,{direction:t.payload.direction});case w.U:case H.b:return Q;default:return e}}var Z=n(113),$=n.n(Z),ee=n(36),te=n.n(ee),ne={loggedIn:!1,email:"",verifiedEmail:!1,name:"",organization:"",writeAccess:!1,administrator:!1,enrolledNamespaces:[],ownedNamespaces:[],lessonData:{},picture:null,createdAt:null,updatedAt:null,score:null,spentTime:null,files:null,badges:null,id:null,token:null,tickets:[],licensed:!1,customFields:null,availableCustomFields:[],twoFactorAuth:!1,requestTFA:null,templateLessons:[]};function ae(e,t){for(var n=0;n<e.length;n++)if(e[n].title===t)return e[n];return null}function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w.Y:return Object.assign({},e,{token:t.payload.token,id:t.payload.id});case w.T:return Object.assign({},e,{email:t.payload.email,verifiedEmail:t.payload.verifiedEmail,name:t.payload.name,enrolledNamespaces:t.payload.enrolledNamespaces,ownedNamespaces:t.payload.ownedNamespaces,organization:t.payload.organization,writeAccess:t.payload.writeAccess,administrator:t.payload.administrator,picture:t.payload.picture,lessonData:t.payload.lessonData,createdAt:t.payload.createdAt,updatedAt:t.payload.updatedAt,score:t.payload.score,spentTime:t.payload.spentTime,licensed:t.payload.licensed,customFields:t.payload.customFields,availableCustomFields:t.payload.availableCustomFields,twoFactorAuth:t.payload.twoFactorAuth,loggedIn:!0});case w.e:return Object.assign({},e,{writeAccess:!0});case w.U:return ne;case w.tb:return Object.assign({},e,{name:t.payload.name,organization:t.payload.organization,customFields:t.payload.customFields});case w.rb:return Object.assign({},e,{picture:t.payload.picture});case w.d:var n=e.ownedNamespaces.slice();return n.push(t.payload.namespace),Object.assign({},e,{ownedNamespaces:n});case w.m:for(var a=[],r=0;r<e.ownedNamespaces.length;r++){var s=e.ownedNamespaces[r];s._id!==t.payload.id&&a.push(s)}return Object.assign({},e,{ownedNamespaces:a});case w.eb:for(var c=e.enrolledNamespaces.slice(),u=0;u<c.length;u++){var o=c[u];o.title===t.payload.namespaceName&&(c[u].lessons=t.payload.lessons)}return Object.assign({},e,{enrolledNamespaces:c});case w.ob:for(var i=e.ownedNamespaces.slice(),p=0;p<i.length;p++){var l=i[p];l._id===t.payload._id?i[p]=t.payload:i[p]=l}return Object.assign({},e,{ownedNamespaces:i});case w.a:var d=e.enrolledNamespaces.slice();return d.push(t.payload),Object.assign({},e,{enrolledNamespaces:d});case w.g:var f=t.payload.namespaceName,m=te()(e.enrolledNamespaces),b=ae(m,f);b&&b.announcements.unshift(t.payload.announcement);var v=te()(e.ownedNamespaces);return(b=ae(v,f))&&b.announcements.unshift(t.payload.announcement),Object.assign({},e,{enrolledNamespaces:m,ownedNamespaces:v});case w.u:var h=t.payload.namespaceName,O=t.payload.announcement,y=O.createdAt,E=te()(e.enrolledNamespaces),j=ae(E,h);if(j)for(var k=0;k<j.announcements.length;k++)j.announcements[k].createdAt===y&&(j.announcements[k]=O);var x=te()(e.ownedNamespaces);if(j=ae(x,h))for(var _=0;_<j.announcements.length;_++)j.announcements[_].createdAt===y&&(j.announcements[_]=O);return Object.assign({},e,{enrolledNamespaces:E,ownedNamespaces:x});case w.k:var N=t.payload.namespaceName,D=te()(e.enrolledNamespaces),A=ae(D,N);A&&A.announcements.splice(t.payload.index,1);var T=te()(e.ownedNamespaces);return(A=ae(T,N))&&A.announcements.splice(t.payload.index,1),Object.assign({},e,{enrolledNamespaces:D,ownedNamespaces:T});case w.V:return Object.assign({},e,{files:$()(t.payload.files,(function(e){return e.namespace}))});case w.Q:var S=t.payload.tickets;return S=S.map((function(e){return e.createdAt=new Date(e.createdAt),e})),Object.assign({},e,{tickets:S});case w.j:var I=e.tickets.slice();return I.push(Object(g.a)(Object(g.a)({},t.payload),{},{messages:[],user:{picture:e.picture.substring(e.picture.lastIndexOf("/")+1),name:e.name,email:e.email}})),Object.assign({},e,{tickets:I});case w.jb:var C=e.tickets.map((function(e){return e._id===t.payload.id&&(e.done=!1),e}));return Object.assign({},e,{tickets:C});case w.hb:var L=e.tickets.map((function(e){return e._id===t.payload.id&&(e.done=!0),e}));return Object.assign({},e,{tickets:L});case w.ib:var R=e.tickets.map((function(e){if(e._id===t.payload.id){var n=t.payload.message;n.picture=n.picture.substring(n.picture.lastIndexOf("/")+1),e.messages.unshift(n)}return e}));return Object.assign({},e,{tickets:R});case w.sb:return Object.assign({},e,{badges:t.payload.badges});case w.F:case w.w:case w.x:return Object.assign({},e,{availableCustomFields:t.payload.customFields});case w.n:for(var U=[],P=0;P<e.availableCustomFields.length;P++){var F=e.availableCustomFields[P];F._id!==t.payload.id&&U.push(F)}return Object.assign({},e,{availableCustomFields:U});case w.i:var G=e.availableCustomFields.slice();return G.push(Object(g.a)({},t.payload)),Object.assign({},e,{availableCustomFields:G});case w.v:return Object.assign({},e,{twoFactorAuth:t.payload.verified});case w.t:return Object.assign({},e,{twoFactorAuth:!t.payload.disabled});case w.ab:return Object.assign({},e,{requestTFA:{email:t.payload.email,password:t.payload.password}});case w.N:return Object.assign({},e,{templateLessons:t.payload.templateLessons});default:return e}}var se=n(0),ce=n.n(se),ue=n(3),oe=n(12),ie=n(13),pe=n(20),le=n(39),de=n(30),fe=n.n(de),me=n(52),be=n(10),ve=n(58),he=n(57),ge=n(161),Oe=n(169),ye=n.n(Oe),we={NotificationItem:{DefaultStyle:{margin:"20px 2px 2px 1px"},info:{color:"black",backgroundColor:"white",boxShadow:"0 0 4px darkslategray",height:"400px",width:"400px",borderTop:"none"}}},Ee=function(e){Object(pe.a)(n,e);var t=Object(le.a)(n);function n(e){return Object(oe.a)(this,n),t.call(this,e)}return Object(ie.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.notification;e.notification.time!==n.time&&this.notificationSystem.addNotification(n)}},{key:"render",value:function(){var e=this;return r.a.createElement(ye.a,{style:we,ref:function(t){e.notificationSystem=t}})}}]),n}(a.Component);var je=Object(i.c)((function(e){return{notification:e.notification}}))(Ee),ke=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(113),n.e(144)]).then(n.bind(null,4821))})),xe=Object(be.a)((function(){return n.e(89).then(n.bind(null,3971))})),_e=Object(be.a)((function(){return n.e(88).then(n.bind(null,3972))})),Ne=Object(be.a)((function(){return Promise.all([n.e(1),n.e(2),n.e(10),n.e(73),n.e(135)]).then(n.bind(null,4822))})),De=Object(be.a)((function(){return Promise.all([n.e(74),n.e(157)]).then(n.bind(null,4829))})),Ae=Object(be.a)((function(){return Promise.all([n.e(1),n.e(2),n.e(6),n.e(10),n.e(70)]).then(n.bind(null,3973))})),Te=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(60)]).then(n.bind(null,4817))})),Se=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(79),n.e(154)]).then(n.bind(null,3974))})),Ie=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(80),n.e(153)]).then(n.bind(null,3975))})),Ce=Object(be.a)((function(){return Promise.all([n.e(83),n.e(156)]).then(n.bind(null,4830))})),Le=Object(be.a)((function(){return Promise.all([n.e(84),n.e(160)]).then(n.bind(null,4831))})),Re=Object(be.a)((function(){return Promise.all([n.e(1),n.e(2),n.e(10),n.e(93)]).then(n.bind(null,4823))})),Ue=Object(be.a)((function(){return Promise.all([n.e(1),n.e(2),n.e(91),n.e(142)]).then(n.bind(null,4820))})),Pe=Object(be.a)((function(){return Promise.all([n.e(1),n.e(2),n.e(94),n.e(159)]).then(n.bind(null,4832))})),Fe=Object(be.a)((function(){return Promise.all([n.e(77),n.e(158)]).then(n.bind(null,4833))})),Ge=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(71)]).then(n.bind(null,4826))})),Me=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(3),n.e(59)]).then(n.bind(null,4811))})),Ve=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(68)]).then(n.bind(null,4816))})),ze=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(10),n.e(64)]).then(n.bind(null,4814))})),Ke=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(2),n.e(6),n.e(69)]).then(n.bind(null,4813))})),Be=Object(be.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(24),n.e(78),n.e(170)]).then(n.bind(null,4825))})),We="ISLE_USER_"+B.a,qe=["/create-namespace","/edit-namespace/:namespace","/edit-namespace","/namespace-data/:namespace","/profile","/lessons/:namespace","/lessons","/gallery","/enroll","/admin","/admin-settings"],He=/(?:courses|new-password|complete-registration|confirm-email|shibboleth|signup|login|login-tfa|terms|privacy)/,Je=fe()("isle-dashboard"),Ye=function(e){Object(pe.a)(s,e);var t,n=Object(le.a)(s);function s(){return Object(oe.a)(this,s),n.apply(this,arguments)}return Object(ie.a)(s,[{key:"componentDidMount",value:(t=Object(ue.a)(ce.a.mark((function e(){var t,n,a;return ce.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.history,this.props.getPublicSettings(),this.props.isLoggedIn||He.test(t.location.pathname)){e.next=13;break}if(!(n=localStorage.getItem(We))){e.next=12;break}return n=JSON.parse(n),e.next=8,this.props.fetchCredentials(n);case 8:(a=e.sent)&&this.props.getEnrollableCohorts(a),e.next=13;break;case 12:t.replace("/login");case 13:this.props.isLoggedIn&&(Je("User is logged in, updating local storage..."),localStorage.getItem(We)||localStorage.setItem(We,JSON.stringify({token:this.props.user.token,id:this.props.user.id})));case 14:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=this.props.history,n=e.isLoggedIn&&!this.props.isLoggedIn,a=!e.isLoggedIn&&this.props.isLoggedIn,r=t.location.pathname;if(a)if("/login-tfa"===r){var s=this.props.user.writeAccess?"/lessons":"/profile";t.push(s)}else if(r&&"/"!==r&&"/login"!==r&&"/shibboleth"!==r)Je("User has logged in, redirecting to: "+r),t.push(t.location.pathname);else{var c=this.props.user.writeAccess?"/lessons":"/profile";Je("User has logged in, redirecting to default page: "+r),t.push(c)}else if(n)t.push("/login");else if(this.props.isLoggedIn&&r&&("/"===r||"/login"===r||"/login-tfa"===r||"/shibboleth"===r)){var u=this.props.user.writeAccess?"/lessons":"/profile";t.push(u)}}},{key:"render",value:function(){var e=this.props.settings,t=null;return this.props.isLoggedIn&&(t=r.a.createElement(a.Fragment,null,r.a.createElement(me.a,{path:qe,component:Ne,history:this.props.history}),r.a.createElement(me.a,{path:"/create-namespace",component:Ae}),r.a.createElement(me.a,{path:"/edit-namespace/:namespace",component:Te}),r.a.createElement(me.a,{path:"/namespace-data/:namespace",exact:!0,component:Me}),r.a.createElement(me.a,{path:"/namespace-data/:namespace/:subpage",component:Me}),r.a.createElement(me.a,{path:"/profile",component:Ke}),r.a.createElement(me.a,{path:"/lessons",exact:!0,component:ze}),r.a.createElement(me.a,{path:"/lessons/:namespace",component:ze}),r.a.createElement(me.a,{path:"/gallery",component:Ve}),r.a.createElement(me.a,{path:"/enroll",component:Be}),r.a.createElement(me.a,{path:"/admin",exact:!0,component:Re}),r.a.createElement(me.a,{path:"/admin/:subpage",component:Re}),r.a.createElement(me.a,{path:"/admin/settings",exact:!0,component:Ue}),r.a.createElement(me.a,{path:"/admin/settings/:subpage",component:Ue}))),r.a.createElement(h.a,{history:this.props.history},r.a.createElement("div",{className:"App"},t,r.a.createElement(me.a,{path:"/*",component:ke,history:this.props.history}),r.a.createElement(me.a,{exact:!0,path:"/",component:Pe}),r.a.createElement(me.a,{path:"/login",component:Pe}),r.a.createElement(me.a,{path:"/login-tfa",component:Fe}),r.a.createElement(me.a,{path:"/new-password",component:Se}),r.a.createElement(me.a,{path:"/complete-registration",component:Ie}),r.a.createElement(me.a,{path:"/confirm-email",component:Ce}),r.a.createElement(me.a,{path:"/shibboleth",component:Le}),e.allowUserRegistrations?r.a.createElement(me.a,{path:"/signup",component:Ge}):null,r.a.createElement(me.a,{path:"/forgot-password",component:De}),r.a.createElement(me.a,{path:"/terms",component:xe}),r.a.createElement(me.a,{path:"/privacy",component:_e}),r.a.createElement(je,null)))}}]),s}(a.Component),Qe=Object(i.c)((function(e){return{isLoggedIn:e.user.loggedIn,user:e.user,settings:e.settings}}),(function(e){return{fetchCredentials:Object(ve.b)(e),getPublicSettings:Object(ge.a)(e),getEnrollableCohorts:Object(he.g)(e)}}))(Ye);var Xe=n(21),Ze=n(482),$e=n(162),et=n(170);Xe.a.use(et.a).use($e.a).use(Ze.e).init({debug:!1,lng:localStorage.getItem("i18nextLng")||"en",fallbackLng:"en",backend:{loadPath:"./locales/{{lng}}/{{ns}}.json"},react:{useSuspense:!1},interpolation:{escapeValue:!1}});var tt=Xe.a,nt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function at(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!==n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var rt,st,ct={key:"root",blacklist:["router","license","requestTFA"],storage:o.a},ut=Object(m.b)(),ot=(rt=ut,Object(b.c)({admin:j,badges:k,cohorts:L,gallery:q,namespace:G,notification:V,router:Object(h.b)(rt),search:X,settings:K,user:re})),it=Object(p.a)(ct,ot),pt=Object(v.a)(ut),lt=Object(b.d)(it,Object(b.a)(pt)),dt=Object(p.b)(lt);f.a.interceptors.request.use((function(e){e.headers["Accept-Language"]=tt.language;var t=lt.getState().user.token;return t&&(e.headers.Authorization="JWT ".concat(t)),e})),c.a.render(r.a.createElement(i.a,{store:lt},r.a.createElement(l.a,{loading:null,persistor:dt},r.a.createElement(Qe,{history:ut}))),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",(function(){var e="".concat(window.location.origin).concat(window.location.pathname,"service-worker.js");nt?(function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!==a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):at(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,st),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):at(e,st)}))},5:function(e,t,n){"use strict";var a,r=n(167);r.a;a=window.location.origin,t.a=a},57:function(e,t,n){"use strict";n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return x})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return A})),n.d(t,"h",(function(){return S})),n.d(t,"d",(function(){return C}));var a=n(0),r=n.n(a),s=n(3),c=n(1),u=n.n(c),o=n(6),i=n.n(o),p=n(33),l=n.n(p),d=n(30),f=n.n(d),m=n(21),b=n(5),v=n(107),h=n(4),g=n(2),O=f()("isle-dashboard:actions:cohorts");function y(e,t){return{type:g.db,payload:{cohorts:e,user:t}}}var w=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get(b.a+"/get_enrollable_cohorts");case 3:a=e.sent,s=a.data.cohorts,O("Retrieved "+s.length+" cohorts..."),t(y(s,n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},j=function(){var e=Object(s.a)(r.a.mark((function e(t,n){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.namespaceID,e.prev=1,e.next=4,i.a.get(b.a+"/get_cohorts?"+l.a.stringify({namespaceID:a}));case 4:s=e.sent,t((r=s.data.cohorts,c=void 0,{type:g.cb,payload:{cohorts:r,user:c}})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Object(h.a)(t,e.t0);case 11:case"end":return e.stop()}var r,c}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a){var s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post(b.a+"/add_to_cohort",{cohortID:n});case 3:s=e.sent,Object(h.b)(t,{message:s.data.message,level:"success"}),t((u=void 0,o=void 0,p=void 0,l=void 0,u=(r=a).title,o=r.owners,p=r.description,l=r._id,{type:g.a,payload:{title:u,description:p,owners:o,_id:l}})),c=a.title,Object(v.g)(t,c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 13:case"end":return e.stop()}var r,u,o,p,l}),e,null,[[0,10]])})));return function(t,n,a){return e.apply(this,arguments)}}(),x=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e,n,a);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},_=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post(b.a+"/delete_cohort",{_id:n});case 3:s=e.sent,Object(h.b)(t,{message:s.data.message,level:"success"}),t(y(null)),a&&j(t,{namespaceID:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),N=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e,n,a);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},D=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post(b.a+"/create_cohort",n);case 3:s=e.sent,Object(h.b)(t,{message:s.data.message,level:"success"}),t(y(null)),j(t,{namespaceID:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,a){return e.apply(this,arguments)}}(),A=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e,n,a);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},T=function(){var e=Object(s.a)(r.a.mark((function e(t,n,a){var s,c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post(b.a+"/update_cohort",{cohort:n});case 3:s=e.sent,c=s.data.message,o=s.data.newEmails&&s.data.newEmails.length>0?{children:u.a.createElement("div",null,u.a.createElement("p",null,c),u.a.createElement("p",null,m.a.t("common:email-invitations-sent")),u.a.createElement("p",null,s.data.newEmails.join("\n"))),level:"success",autoDismiss:0,dismissible:"button"}:{message:c,level:"success"},Object(h.b)(t,o),t(y(null)),j(t,{namespaceID:a}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,a){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n,a){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e,n,a);case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},I=function(){var e=Object(s.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get(b.a+"/get_all_cohorts");case 3:n=e.sent,t((a=n.data.cohorts,{type:g.y,payload:{cohorts:a}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){return Object(s.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:case"end":return t.stop()}}),t)})))}},58:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return y})),n.d(t,"d",(function(){return E}));var a=n(98),r=n(16),s=n(0),c=n.n(s),u=n(3),o=n(6),i=n.n(o),p=n(30),l=n.n(p),d=n(5),f=n(4),m=n(70),b=l()("isle-dashboard:actions:authentication"),v=function(e){for(var t=e.ownedNamespaces,n=[],a=new Set,r=0;r<t.length;r++)a.has(t[r]._id)||(a.add(t[r]._id),n.push(t[r]));var s=e.enrolledNamespaces,c=[];a=new Set;for(var u=0;u<s.length;u++)a.has(s[u]._id)||(a.add(s[u]._id),c.push(s[u]));var o=n.length!==t.length||c.length!==s.length;return o&&(e.ownedNamespaces=n,e.enrolledNamespaces=c),b("Does user need sanitizing? "+o),[e,o]},h=function(e,t){try{return i.a.post(d.a+"/sanitize_user",{id:t.id})}catch(n){return Object(f.a)(e,n),null}},g=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h(e,n);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var s,u,o,p,l,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b("Fetch user credentials..."),localStorage.setItem("ISLE_USER_"+d.a,JSON.stringify(n)),e.prev=2,e.next=5,i.a.post(d.a+"/credentials_dashboard",{id:n.id});case 5:return s=e.sent,(u=s.data).picture&&(u.picture=d.a+"/avatar/"+u.picture),u=Object(r.a)(Object(r.a)({},n),u),o=v(u),p=Object(a.a)(o,2),l=p[0],g=p[1],t(Object(m.k)(u)),g&&h(t,n),e.abrupt("return",l);case 15:return e.prev=15,e.t0=e.catch(2),Object(f.a)(t,e.t0),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O(e,n);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=Object(u.a)(c.a.mark((function e(t,n){var a,r,s,u,o,p,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.eppn,r=n.name,s=n.affil,u=n.time,o=n.salt,p=n.token,e.prev=1,e.next=4,i.a.post(d.a+"/shibboleth",{eppn:a,name:r,affil:s,time:u,salt:o,token:p});case 4:return l=e.sent,t(Object(m.m)(l.data)),e.abrupt("return",l);case 9:e.prev=9,e.t0=e.catch(1),Object(f.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){return function(){var t=Object(u.a)(c.a.mark((function t(n){var a,r,s,u,o,i,p;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.eppn,r=n.name,s=n.affil,u=n.time,o=n.salt,i=n.token,t.next=3,w(e,{eppn:a,name:r,affil:s,time:u,salt:o,token:i});case 3:return p=t.sent,t.abrupt("return",p);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},70:function(e,t,n){"use strict";n.d(t,"k",(function(){return y})),n.d(t,"m",(function(){return w})),n.d(t,"g",(function(){return j})),n.d(t,"j",(function(){return x})),n.d(t,"e",(function(){return N})),n.d(t,"q",(function(){return A})),n.d(t,"b",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"p",(function(){return R})),n.d(t,"d",(function(){return U})),n.d(t,"h",(function(){return F})),n.d(t,"i",(function(){return M})),n.d(t,"o",(function(){return V})),n.d(t,"l",(function(){return K})),n.d(t,"r",(function(){return W})),n.d(t,"c",(function(){return q})),n.d(t,"n",(function(){return J})),n.d(t,"a",(function(){return Q}));var a=n(16),r=n(0),s=n.n(r),c=n(3),u=n(6),o=n.n(u),i=n(30),p=n.n(i),l=n(33),d=n.n(l),f=n(21),m=n(5),b=n(58),v=n(57),h=n(4),g=n(2),O=p()("isle-dashboard:actions:user");function y(e){return{type:g.T,payload:{email:e.email,verifiedEmail:e.verifiedEmail,name:e.name,enrolledNamespaces:e.enrolledNamespaces,ownedNamespaces:e.ownedNamespaces,organization:e.organization,writeAccess:e.writeAccess,administrator:e.administrator,lessonData:e.lessonData,picture:e.picture,createdAt:e.createdAt,updatedAt:e.updatedAt,score:e.score,spentTime:e.spentTime,licensed:e.licensed,customFields:e.customFields,availableCustomFields:e.availableCustomFields,twoFactorAuth:e.twoFactorAuth}}}function w(e){var t=e.token,n=e.id;return{type:g.Y,payload:{token:t,id:n}}}var E=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(m.a+"/get_users");case 3:n=e.sent,t({type:g.P,payload:{users:n.data.users}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(h.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),j=function(e){return Object(c.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E(e);case 2:case"end":return t.stop()}}),t)})))},k=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a,r,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,r=n.password,O("Impersonating user with id "+a),e.prev=2,e.next=5,o.a.post(m.a+"/impersonate",{id:a,password:r});case 5:return c=e.sent,e.next=8,Object(b.a)(t,{id:c.data.id});case 8:(u=e.sent)&&Object(v.f)(t,u),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),Object(h.a)(t,e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.id,r=n.password,t.next=3,k(e,{id:a,password:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,e.prev=1,e.next=4,o.a.post(m.a+"/delete_user",{id:a});case 4:r=e.sent,Object(h.b)(t,{title:f.a.t("common:deleted"),message:r.data.message,level:"success"}),t({type:g.s,payload:{id:a}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),Object(h.a)(t,e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}(),N=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.id,t.next=3,_(e,{id:a});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a,r,c,u,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.token,a=n.avatarData,r=n.thumbnailData,e.prev=1,e.next=4,o.a.post(m.a+"/upload_profile_pic",a);case 4:return c=e.sent,u=c.data.message,i=c.data.filename,i=m.a+"/avatar/"+i,t((s=i,{type:g.rb,payload:{picture:s}})),e.next=11,o.a.post(m.a+"/upload_thumbnail_pic",r);case 11:c=e.sent,Object(h.b)(t,{title:f.a.t("profile-pic-title"),message:u,level:"success",position:"tl"}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),Object(h.a)(t,e.t0);case 18:case"end":return e.stop()}var s}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}(),A=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.avatarData,r=n.thumbnailData,t.next=3,D(e,{avatarData:a,thumbnailData:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.writeAccessToken,e.prev=1,e.next=4,o.a.post(m.a+"/set_write_access",{token:a});case 4:return r=e.sent,t({type:g.e}),Object(h.b)(t,{message:r.data.message+" You can now create your own courses on ISLE and have access to the gallery of public lessons.",level:"success",autoDismiss:10}),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e.catch(1),Object(h.a)(t,e.t0),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.writeAccessToken,t.next=3,T(e,{writeAccessToken:a});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},I=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.email,e.prev=1,e.next=4,o.a.get(m.a+"/forgot_password?"+d.a.stringify({email:a}));case 4:Object(h.b)(t,{message:"Check your email inbox for a link to choose a new password.",level:"success"}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),Object(h.a)(t,e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.email,t.next=3,I(e,{email:a});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},L=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(m.a+"/update_user",n);case 3:a=e.sent,t((r={name:n.name,organization:n.organization,customFields:n.customFields},s=void 0,c=void 0,s=r.name,c=r.organization,{type:g.tb,payload:{name:s,organization:c}})),Object(h.b)(t,{message:a.data.message,level:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 11:case"end":return e.stop()}var r,s,c}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a,r,c,u;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name,r=n.organization,c=n.password,u=n.customFields,t.next=3,L(e,{name:a,organization:r,password:c,customFields:u});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return o.a.post(m.a+"/create_user",e)},P=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.post(m.a+"/login",n);case 2:return"finish-login-via-tfa"===(a=e.sent).data.message?t((r=a.data,s=void 0,c=void 0,s=r.email,c=r.password,{type:g.ab,payload:{email:s,password:c}})):t(w(a.data)),e.abrupt("return",a);case 5:case"end":return e.stop()}var r,s,c}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e,n);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(m.a+"/login_tfa",n);case 3:return a=e.sent,t(w(a.data)),e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),M=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e,n);case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(e){return function(t){!function(e,t){e(y(t))}(e,t)}},z=function(e){localStorage.removeItem("ISLE_USER_"+m.a),e({type:g.U})},K=function(e){return function(){z(e)}},B=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var r,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(m.a+"/user_update_check?"+d.a.stringify({updatedAt:n.updatedAt}));case 3:if(r=e.sent,O("Received response: "+r.data),r.data.hasMostRecent){e.next=14;break}return e.next=8,o.a.post(m.a+"/credentials_dashboard",{id:n.id});case 8:c=e.sent,(u=c.data).picture&&(u.picture=m.a+"/avatar/"+u.picture),u=Object(a.a)({id:n.id,token:n.token},u),O("Updated user data..."),t(y(u));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),W=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},q=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(m.a+"/confirm_email",{token:t});case 3:return n=e.sent,e.abrupt("return",n.data.message);case 7:if(e.prev=7,e.t0=e.catch(0),!e.t0.response||!e.t0.response.data){e.next=11;break}return e.abrupt("return",e.t0.response.data);case 11:return e.abrupt("return",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(c.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(m.a+"/resend_confirm_email");case 3:Object(h.b)(t,{title:"Email sent",message:f.a.t("common:verification-email-sent"),level:"success",position:"tl"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Y=function(){var e=Object(c.a)(s.a.mark((function e(t,n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(m.a+"/admin_update_user",n);case 3:a=e.sent,Object(h.b)(t,{message:a.data.message,level:"success"}),t((r=n,{type:g.ub,payload:r})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(h.a)(t,e.t0);case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Q=function(e){return function(){var t=Object(c.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Y(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}},[[210,56,58]]]);
//# sourceMappingURL=main.07fdab25.chunk.js.map