(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1583:function(t,e,a){"use strict";var n=a(34),i=a.n(n);e.a=function(t,e,a){var n=a.config.rshell;n&&n.libraries&&(t=t.concat(n.libraries));var r=function(t){return t.map((function(t){return"library("+t+");"})).join(" ")}(t);return n&&n.global&&(r+=n.global+"\n"),e=i()(e)?e.join("\n"):e,r+=e+="\n"}},1584:function(t,e,a){"use strict";var n=a(16),i=a(12),r=a(13),s=a(27),o=a(20),c=a(39),l=a(50),p=a(485),u=a.n(p),h=a(687),d=a(859),g=a.n(d),v=function(t){Object(o.a)(a,t);var e=Object(c.a)(a);function a(t){var n;return Object(i.a)(this,a),n=e.call(this,t),Object(l.a)(Object(s.a)(n),"startSpinner",(function(){var t=Object(h.findDOMNode)(Object(s.a)(n)).getContext("2d");n.context=t;var e=new Date,a=n.props.lines,i=t.canvas.width,r=t.canvas.height;n.activeSpinner=window.setInterval((function(){var n=(new Date-e)/1e3*a,s=parseInt(n,10)/a;t.save(),t.clearRect(0,0,i,r),t.translate(i/2,r/2),t.rotate(2*g.a*s);for(var o=0;o<a;o++)t.beginPath(),t.rotate(2*g.a/a),t.moveTo(i/10,0),t.lineTo(i/4,0),t.lineWidth=i/30,t.strokeStyle="rgba(0, 0, 0,"+o/a+")",t.stroke();t.restore()}),50)})),n}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(){this.activeSpinner&&this.context.canvas&&(clearInterval(this.activeSpinner),this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height)),!0===this.props.running&&this.startSpinner()}},{key:"render",value:function(){return u.a.createElement("canvas",{style:Object(n.a)({width:this.props.width,height:this.props.height,display:this.props.running?this.props.display:"none",margin:"auto"},this.props.style)})}}]),a}(p.Component);v.defaultProps={display:"block",height:64,lines:16,style:{},width:128},e.a=v},1585:function(t,e,a){"use strict";var n=a(514),i=Object(n.a)((function(){return a.e(130).then(a.bind(null,2110))}));e.a=i},3963:function(t,e,a){"use strict";a.r(e);var n=a(9),i=a(545),r=a(12),s=a(13),o=a(27),c=a(20),l=a(39),p=a(50),u=a(485),h=a.n(u),d=a(1048),g=a(2054),v=a.n(g),b=a(2057),f=a.n(b),m=a(610),j=a.n(m),y=a(1583),w=a(1584),O=a(1585),k=a(504),D=a(521);Object(D.a)("R");var P=function(t){Object(c.a)(a,t);var e=Object(l.a)(a);function a(t){var n;return Object(r.a)(this,a),n=e.call(this,t),Object(p.a)(Object(o.a)(n),"savePlot",(function(t,e,a){t?n.props.onDone(t):n.setState({plotURL:e,plot:a,waiting:!1},(function(){n.props.onDone(null,e,a)}))})),n.state={plotURL:null,plot:null,last:"",waiting:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getPlot()}},{key:"componentDidUpdate",value:function(){this.getPlot()}},{key:"getPlot",value:function(){if(this.props.code!==this.state.last){this.setState({waiting:!0,last:this.props.code});var t=this.context,e=Object(y.a)(this.props.libraries,this.props.prependCode,t)+this.props.code;t.getRPlot(e,this.props.fileType,this.savePlot)}}},{key:"render",value:function(){var t=this,e=null;this.props.draggable&&(e=h.a.createElement("div",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(e){var a;if(t.props.meta){var n=t.props.meta;n=f()(n,(function(t,e){return j()(e)})),n=v.a.dump(n),a='<img src="'.concat(t.state.plot,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(t.props.id,'" data-plot-meta="').concat(n,'"></img>')}else a='<img src="'.concat(t.state.plot,'" alt="R Plot" style="display: block; margin: 0 auto;" />');e.dataTransfer.setData("text/html",a)}},this.props.t("drag-plot")));var a=this.props,r=a.className,s=Object(i.a)(a,["className"]);return h.a.createElement("div",{className:"rplot ".concat(r),style:{minHeight:128,cursor:"pointer"}},h.a.createElement(w.a,{running:this.state.waiting,width:256,height:128}),this.state.waiting?h.a.createElement("span",null):h.a.createElement(u.Fragment,null,e,h.a.createElement(O.a,Object(n.a)({src:this.state.plotURL,body:this.state.plot,title:this.props.t("r-plot")},s))))}}]),a}(u.Component);P.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},P.contextType=k.a;e.default=Object(d.a)("R")(P)}}]);
//# sourceMappingURL=RPlot.ddfffd4d.chunk.js.map