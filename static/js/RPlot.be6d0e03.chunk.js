(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[8922],{95113:function(t,e,n){"use strict";var a=(0,n(37086).Z)((function(){return Promise.all([n.e(17412),n.e(81686)]).then(n.bind(n,17412))}));e.Z=a},86015:function(t,e,n){"use strict";var a=n(28991),i=n(6610),r=n(5991),s=n(63349),o=n(10379),l=n(60446),c=n(96156),p=n(73284),u=n(74745),h=n(6117),d=n.n(h),v=function(t){(0,o.Z)(n,t);var e=(0,l.Z)(n);function n(t){var a;return(0,i.Z)(this,n),a=e.call(this,t),(0,c.Z)((0,s.Z)(a),"startSpinner",(function(){var t=(0,u.findDOMNode)((0,s.Z)(a)).getContext("2d");a.context=t;var e=new Date,n=a.props.lines,i=t.canvas.width,r=t.canvas.height;a.activeSpinner=window.setInterval((function(){var a=(new Date-e)/1e3*n,s=parseInt(a,10)/n;t.save(),t.clearRect(0,0,i,r),t.translate(i/2,r/2),t.rotate(2*d()*s);for(var o=0;o<n;o++)t.beginPath(),t.rotate(2*d()/n),t.moveTo(i/10,0),t.lineTo(i/4,0),t.lineWidth=i/30,t.strokeStyle="rgba(0, 0, 0,"+o/n+")",t.stroke();t.restore()}),50)})),a}return(0,r.Z)(n,[{key:"componentDidUpdate",value:function(){this.activeSpinner&&this.context.canvas&&(clearInterval(this.activeSpinner),this.context.clearRect(0,0,this.context.canvas.width,this.context.canvas.height)),!0===this.props.running&&this.startSpinner()}},{key:"render",value:function(){return p.createElement("canvas",{style:(0,a.Z)({width:this.props.width,height:this.props.height,display:this.props.running?this.props.display:"none",margin:"auto"},this.props.style)})}}]),n}(p.Component);v.defaultProps={display:"block",height:64,lines:16,style:{},width:128},e.Z=v},52370:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return P}});var a=n(22122),i=n(81253),r=n(6610),s=n(5991),o=n(63349),l=n(10379),c=n(60446),p=n(96156),u=n(73284),h=n(25472),d=n(18540),v=n.n(d),g=n(9795),f=n.n(g),m=n(944),Z=n.n(m),b=n(60758),y=n(86015),w=n(95113),k=n(87651);(0,n(72439).E4)("R");var D=function(t){(0,l.Z)(n,t);var e=(0,c.Z)(n);function n(t){var a;return(0,r.Z)(this,n),a=e.call(this,t),(0,p.Z)((0,o.Z)(a),"savePlot",(function(t,e,n){t?a.props.onDone(t):a.setState({plotURL:e,plot:n,waiting:!1},(function(){a.props.onDone(null,e,n)}))})),a.state={plotURL:null,plot:null,last:"",waiting:!1},a}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this.getPlot()}},{key:"componentDidUpdate",value:function(){this.getPlot()}},{key:"getPlot",value:function(){if(this.props.code!==this.state.last){this.setState({waiting:!0,last:this.props.code});var t=this.context,e=(0,b.Z)(this.props.libraries,this.props.prependCode,t)+this.props.code;t.getRPlot(e,this.props.fileType,this.savePlot)}}},{key:"render",value:function(){var t=this,e=null;this.props.draggable&&(e=u.createElement("div",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(e){var n;if(t.props.meta){var a=t.props.meta;a=f()(a,(function(t,e){return Z()(e)})),a=v().dump(a),n='<img src="'.concat(t.state.plot,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(t.props.id,'" data-plot-meta="').concat(a,'"></img>')}else n='<img src="'.concat(t.state.plot,'" alt="R Plot" style="display: block; margin: 0 auto;" />');e.dataTransfer.setData("text/html",n)}},this.props.t("drag-plot")));var n=this.props,r=n.className,s=(0,i.Z)(n,["className"]);return u.createElement("div",{className:"rplot ".concat(r),style:{minHeight:128,cursor:"pointer"}},u.createElement(y.Z,{running:this.state.waiting,width:256,height:128}),this.state.waiting?u.createElement("span",null):u.createElement(u.Fragment,null,e,u.createElement(w.Z,(0,a.Z)({src:this.state.plotURL,body:this.state.plot,title:this.props.t("r-plot")},s))))}}]),n}(u.Component);D.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},D.contextType=k.Z;var P=(0,h.Z)("R")(D)},60758:function(t,e,n){"use strict";var a=n(37263),i=n.n(a);e.Z=function(t,e,n){var a=n.config.rshell;a&&a.libraries&&(t=t.concat(a.libraries));var r=function(t){return t.map((function(t){return"library("+t+");"})).join(" ")}(t);return a&&a.global&&(r+=a.global+"\n"),e=i()(e)?e.join("\n"):e,r+=e+="\n"}}}]);
//# sourceMappingURL=RPlot.be6d0e03.chunk.js.map