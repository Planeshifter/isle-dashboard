/*! For license information please see 85.b0875130.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[85],{1021:function(e,t,a){"use strict";var n=a(9),r=a(23),l=a(483),o=a.n(l),i=a(485),s=a.n(i),c=a(515),u=s.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,i=Object(r.a)(e,["bsPrefix","className"]),u=Object(c.a)(a,"btn-toolbar");return s.a.createElement("div",Object(n.a)({},i,{ref:t,className:o()(l,u)}))}));u.displayName="ButtonToolbar",u.defaultProps={role:"toolbar"},t.a=u},1173:function(e,t,a){"use strict";t.a=function(e,t){var a=new String(e);return a.categories=t,a}},1174:function(e,t,a){"use strict";var n=a(514),r=Object(n.a)((function(){return a.e(30).then(a.bind(null,1618))}));t.a=r},1280:function(e,t,a){"use strict";var n=a(1464);t.a=n.a},1464:function(e,t,a){"use strict";(function(e){var n=a(12),r=a(13),l=a(27),o=a(20),i=a(39),s=a(50),c=a(485),u=a.n(c),p=a(8),d=a.n(p),m=a(510),h=a.n(m),b=a(519),f=a(586),g=a(504),v=(a(1465),Object(f.a)("text-input")),y=function(t){Object(o.a)(c,t);var a=Object(i.a)(c);function c(t,r){var o;Object(n.a)(this,c),o=a.call(this,t),Object(s.a)(Object(l.a)(o),"handleChange",(function(t){var a=t.target.value;o.props.onChange(a),o.setState({value:a},(function(){o.props.bind&&e.lesson.setState({[o.props.bind]:a})}))})),Object(s.a)(Object(l.a)(o),"focus",(function(){o.textInput.focus()}));var i=r;return o.state={value:t.bind&&i.state?i.state[t.bind]:t.defaultValue,prevProps:t},o.id=t.id||v(t),o}return Object(r.a)(c,[{key:"componentDidUpdate",value:function(){if(this.props.bind){var t=e.lesson.state[this.props.bind];t!==this.state.value&&this.setState({value:t})}}},{key:"render",value:function(){var e=this,t=this.state.value;return null!==this.props.value&&(t=this.props.value),this.props.inline?u.a.createElement("span",{className:"input",style:this.props.style},this.props.legend?u.a.createElement("label",{htmlFor:this.id},this.props.legend,":"):u.a.createElement("span",null),u.a.createElement("input",{id:this.id,className:"text-inline-input",type:"text",name:"input",placeholder:this.props.placeholder,value:t,ref:function(t){e.textInput=t},style:{width:this.props.width},onChange:this.handleChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp}),this.props.description?u.a.createElement("span",null," (",this.props.description,") "):u.a.createElement("span",null)):u.a.createElement("div",{className:"input text-container-div",style:this.props.style},u.a.createElement("span",null,this.props.legend?u.a.createElement("label",{htmlFor:this.id},this.props.legend,":"):null,this.props.description?u.a.createElement("span",null," ",this.props.description):u.a.createElement("span",null)),u.a.createElement("input",{id:this.id,className:"text-input",type:"text",name:"input",placeholder:this.props.placeholder,value:t,ref:function(t){e.textInput=t},style:{width:this.props.width},onBlur:this.props.onBlur,onChange:this.handleChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp}))}}],[{key:"getDerivedStateFromProps",value:function(t,a){var n={},r=a.prevProps;return t.defaultValue!==r.defaultValue?n.value=t.defaultValue:t.bind!==r.bind&&(n.value=e.lesson.state[t.bind]),h()(n)?null:(n.prevProps=t,n)}}]),c}(b.a);y.defaultProps={bind:null,defaultValue:"",value:null,legend:"",width:80,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,placeholder:"Enter text",style:{}},y.propTypes={bind:d.a.string,defaultValue:d.a.string,value:d.a.string,legend:d.a.oneOfType([d.a.string,d.a.node]),inline:d.a.bool,onBlur:d.a.func,onChange:d.a.func,onKeyDown:d.a.func,onKeyPress:d.a.func,onKeyUp:d.a.func,placeholder:d.a.string,width:d.a.number,style:d.a.object},y.contextType=g.a,t.a=y}).call(this,a(29))},1465:function(e,t,a){},1466:function(e,t,a){"use strict";var n=a(9),r=a(23),l=a(483),o=a.n(l),i=a(485),s=a.n(i),c=a(515),u=s.a.forwardRef((function(e,t){var a=e.bsPrefix,l=e.className,i=e.striped,u=e.bordered,p=e.borderless,d=e.hover,m=e.size,h=e.variant,b=e.responsive,f=Object(r.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),g=Object(c.a)(a,"table"),v=o()(l,g,h&&g+"-"+h,m&&g+"-"+m,i&&g+"-striped",u&&g+"-bordered",p&&g+"-borderless",d&&g+"-hover"),y=s.a.createElement("table",Object(n.a)({},f,{className:v,ref:t}));if(b){var E=g+"-responsive";return"string"===typeof b&&(E=E+"-"+b),s.a.createElement("div",{className:E},y)}return y}));t.a=u},1467:function(e,t,a){"use strict";var n=a(1468);e.exports=n},1468:function(e,t,a){"use strict";var n=a(40).isPrimitive;e.exports=function(e){var t,a,r;if(!n(e))return!1;if(0===(t=e.length))return!1;for(r=0;r<t;r++)if((a=e.charCodeAt(r))<48||a>57)return!1;return!0}},1791:function(e,t,a){"use strict";var n=a(35),r=a(1412),l=a(1705),o=a(173),i=a(54),s=a(17),c=a(739),u=a(177),p=a(1703).factory,d=a(95),m=a(1709),h=a(2806),b=a(2807);e.exports=function(){var e,t,a,f,g,v;if(0===arguments.length)t=p();else if(1===arguments.length){if(!o(e=arguments[0]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(s(e,"prng")){if(!i(e.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+e.prng+"`.");t=e.prng}else t=p(e)}else{if(f=h(g=arguments[0],v=arguments[1]))throw f;if(arguments.length>2){if(!o(e=arguments[2]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(s(e,"prng")){if(!i(e.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+e.prng+"`.");t=e.prng}else t=p(e)}else t=p()}return n(a=void 0===g?N:k,"NAME","uniform"),e&&e.prng?(n(a,"seed",null),n(a,"seedLength",null),l(a,"state",c(null),u),n(a,"stateLength",null),n(a,"byteLength",null),n(a,"toJSON",c(null)),n(a,"PRNG",t)):(r(a,"seed",y),r(a,"seedLength",E),l(a,"state",C,x),r(a,"stateLength",O),r(a,"byteLength",j),n(a,"toJSON",w),n(a,"PRNG",t),t=t.normalized),a;function y(){return t.seed}function E(){return t.seedLength}function O(){return t.stateLength}function j(){return t.byteLength}function C(){return t.state}function x(e){t.state=e}function w(){var e={type:"PRNG"};return e.name=a.NAME,e.state=m(t.state),e.params=void 0===g?[]:[g,v],e}function k(){return b(t,g,v)}function N(e,a){return d(e)||d(a)||e>=a?NaN:b(t,e,a)}}},2804:function(e,t,a){"use strict";var n=a(35),r=a(2805);n(r,"factory",a(1791)),e.exports=r},2805:function(e,t,a){"use strict";var n=a(1791)();e.exports=n},2806:function(e,t,a){"use strict";var n=a(53).isPrimitive,r=a(64);e.exports=function(e,t){return!n(e)||r(e)?new TypeError("invalid argument. First argument must be a number primitive and not `NaN`. Value: `"+e+"`."):!n(t)||r(t)?new TypeError("invalid argument. Second argument must be a number primitive and not `NaN`. Value: `"+t+"`."):e>=t?new RangeError("invalid argument. Minimum support `a` must be less than maximum support `b`. Value: `["+e+","+t+"]`."):null}},2807:function(e,t,a){"use strict";e.exports=function(e,t,a){var n=e();return a*n+(1-n)*t}},4815:function(e,t,a){"use strict";a.r(t);var n=a(98),r=a(485),l=a.n(r),o=a(489),i=a(16),s=a(30),c=a.n(s),u=a(909),p=a(878),d=a(737),m=a(1156),h=a(665),b=a(571),f=a(649),g=a(635),v=a(2804),y=a.n(v),E=a(41),O=a.n(E),j=a(554),C=a.n(j),x=a(36),w=a.n(x),k=a(53),N=a(552),V=a(539),P=a(1280),S=a(1154),F=a(650),K=a(514),G=a(521);Object(G.a)("Panel");var L=Object(K.a)((function(){return a.e(44).then(a.bind(null,4828))})),H=a(774),T=a(64),q=a.n(T),D=a(1173),A=a(856),B=a(973),z=a(879),M=a(531),I=a(1218);var U=function(e){e.stopPropagation()},R=a(1785),J=a(1781),Y=c()("isle:data-explorer:variable-transformer"),W=/shapes\[(\d)\]\.x0/,$={group:null,displayDensity:!0,densityType:"Data-driven",chooseBins:!1,nBins:null};function X(e,t){return e-t}var Z=function(e){for(var t=[],a=0;a<e.length;a++)t.push({type:"line",x0:e[a],y0:-100,x1:e[a],y1:100,line:{color:"red",width:3}});return t},Q=function(e,t){var a=new Array(t.length);t[0]?a[0]=t[0]:a[0]="(-\u221e,".concat(e[0],")");for(var n=1;n<t.length;n++)t[n]?a[n]=t[n]:a[n]="[".concat(e[n-1],",").concat(e[n],")");var r=t.length-1;return t[r]?a[r]=t[r]:a[r]="[".concat(e[e.length-1],",\u221e)"),a},_=function(e){var t,a,s=Object(r.useState)(""),c=Object(n.a)(s,2),v=c[0],E=c[1],j=Object(r.useState)(0),x=Object(n.a)(j,2),K=x[0],G=x[1],T=Object(r.useState)({variable:null,configHist:null,breakpoints:null,categories:null,customNames:null}),_=Object(n.a)(T,2),ee=_[0],te=_[1],ae=v.length<2,ne=function(){var t=ee.variable,a=ee.categories,n=ee.breakpoints,r=e.data[t],l=Object(R.a)(r,a,n);e.logAction(M.c,{name:v,variable:t,breaks:n,categories:a});var o=Object(D.a)(v,a);e.onGenerate(o,l),e.onHide()},re=function(e){13!==e.charCode||ae||ne()},le=function(e){E(e.target.value)},oe=function(e){return function(t){Y("Change break point...");var a=ee.breakpoints.slice();a[e]=C()(t,-K),a.sort(X);var n=w()(ee.configHist);n.layout.shapes=Z(a),te(Object(i.a)(Object(i.a)({},ee),{},{configHist:n,breakpoints:a,categories:Q(a,ee.customNames)}))}},ie=function(e){return function(t){var a=ee.categories.slice();a[e]=t;var n=ee.customNames.slice();n[e]=t;var r=Object(i.a)(Object(i.a)({},ee),{},{categories:a,customNames:n});te(r)}},se=function(e){return function(){var t=ee.breakpoints,a=ee.categories,n=ee.customNames;t.splice(e,1),a.splice(e,1),n.splice(e,1);var r=Object(i.a)({},ee.configHist);r.layout.shapes=Z(t),te(Object(i.a)(Object(i.a)({},ee),{},{configHist:r,categories:a,customNames:n,breakpoints:t}))}},ce=function(e){var t=O()(e),a=W.exec(t[0]);if(a){var n=a[1],r=ee.breakpoints.slice();r[n]=C()(e[t[0]],-K),r.sort(X);var l=w()(ee.configHist);l.layout.shapes=Z(r),te(Object(i.a)(Object(i.a)({},ee),{},{configHist:l,breakpoints:r,categories:Q(r,ee.customNames)}))}},ue=function(t){Y("Change variable to bin...");var a=Object(i.a)({data:e.data,variable:t},$),n=Object(I.b)(a);n.layout.yaxis={range:[Object(B.a)(n.data[1].y),Object(z.a)(n.data[1].y)],fixedrange:!0},n.layout.xaxis={fixedrange:!0};var r=e.data[t];r=r.filter((function(e){return Object(k.isPrimitive)(e)&&!q()(e)}));var l=[C()(Object(A.a)(r),-K)];n.layout.shapes=Z(l);var o=[!1,!1];te({variable:t,configHist:n,breakpoints:l,customNames:o,categories:Q(l,o)})},pe=function(){var t=ee.breakpoints.slice(),a=e.data[ee.variable];a=a.filter((function(e){return Object(k.isPrimitive)(e)&&!q()(e)}));var n=y()(.8,1.2)*Object(A.a)(a);t.push(C()(n,-K)),t.sort(X);var r=w()(ee.configHist);r.layout.shapes=Z(t);var l=ee.customNames;l.push(!1);var o=Object(i.a)(Object(i.a)({},ee),{},{breakpoints:t,configHist:r,categories:Q(t,l)});te(o)};return l.a.createElement(S.a,{cancel:".card-body",onDragStart:U,style:{zIndex:1006}},l.a.createElement(L,{onHide:e.onHide,show:e.show,header:e.t("bin-transformer-header"),footer:l.a.createElement(o.a,{onClick:ne,disabled:ae},e.t("create-new-variable")),bodyStyle:{maxHeight:"calc(100vh - 200px)",overflowY:"auto",position:"relative"},role:"button",tabIndex:0},(t=ee.configHist,a=l.a.createElement(V.a,{legend:e.t("variable-to-bin"),defaultValue:ee.variable,options:e.quantitative,onChange:ue,style:{maxWidth:400}}),t?l.a.createElement(r.Fragment,null,a,l.a.createElement(o.a,{className:"insert-line-button",onClick:pe},e.t("insert-break-line")),l.a.createElement("p",null,e.t("drag-red-bars"),"(",l.a.createElement(N.a,{legend:e.t("digits-after-comma-snap"),min:0,max:9,inline:!0,defaultValue:K,onChange:G}),")"),l.a.createElement("div",{style:{height:250}},l.a.createElement(F.a,{data:t.data,layout:t.layout,editable:!0,fit:!0,removeButtons:!0,legendButtons:!1,onRelayout:ce})),l.a.createElement("div",null,l.a.createElement(b.a,{className:"mb-2"},l.a.createElement(b.a.Header,null,e.t("choose-category-labels"),":"),l.a.createElement(b.a.Body,null,function(){var e=[],t=ee.breakpoints,a=1===t.length;if(e.push(l.a.createElement(f.a,{key:"div-0"},l.a.createElement(g.a,{md:7},l.a.createElement(H.a,{raw:"x < "}),l.a.createElement(N.a,{inline:!0,onBlur:oe(0),defaultValue:t[0],step:"any"})),l.a.createElement(g.a,{md:4},l.a.createElement(P.a,{key:0,legend:"Label 1",defaultValue:ee.categories[0],onChange:ie(0),style:{width:200}})),l.a.createElement(g.a,{md:1}))),t.length>1)for(var n=0;n<t.length-1;n++){var r=ie(n+1);e.push(l.a.createElement(f.a,{key:"div-".concat(n+1)},l.a.createElement(g.a,{md:7},l.a.createElement(N.a,{inline:!0,onBlur:oe(n),defaultValue:t[n],step:"any"}),l.a.createElement(H.a,{raw:"le x <"}),l.a.createElement(N.a,{inline:!0,onBlur:oe(n+1),defaultValue:t[n+1],step:"any"})),l.a.createElement(g.a,{md:4},l.a.createElement(P.a,{key:1+n,legend:"Label ".concat(n+2),defaultValue:ee.categories[n+1],onChange:r,style:{width:200}})),l.a.createElement(g.a,{md:1},l.a.createElement(J.a,{onClick:se(n),style:{marginTop:"5px"},disabled:a,tooltipPlacement:"right"}))))}var o=t.length;return e.push(l.a.createElement(f.a,{key:"div-".concat(o)},l.a.createElement(g.a,{md:7},l.a.createElement(H.a,{raw:"x ge"}),l.a.createElement(N.a,{inline:!0,onChange:oe(o-1),defaultValue:t[o-1],step:"any"})),l.a.createElement(g.a,{md:4},l.a.createElement(P.a,{legend:"Label ".concat(o+1),defaultValue:ee.categories[o],onChange:ie(o),key:o,style:{width:200}})),l.a.createElement(g.a,{md:1},l.a.createElement(J.a,{onClick:se(o-1),style:{marginTop:"5px"},disabled:a})))),e}()))),l.a.createElement(d.a,{style:{width:"fit-content"}},l.a.createElement(p.a,null,e.t("name-new-variable"),":"),l.a.createElement(u.a,{type:"text",placeholder:e.t("select-name"),onChange:le,onKeyPress:re}),l.a.createElement(m.a,null,e.t("new-variable-appended")))):l.a.createElement(r.Fragment,null,a,l.a.createElement(h.a,{variant:"info"},e.t("select-variable-bin"))))))};_.defaultProps={logAction:function(){},onGenerate:function(){}};var ee=_,te=a(12),ae=a(13),ne=a(27),re=a(20),le=a(39),oe=a(50),ie=a(3960),se=a(1466),ce=a(977),ue=a(1021),pe=a(1345),de=a(1174),me=a(510),he=a.n(me),be=a(586),fe=Object(be.a)("text-area"),ge=function(e){Object(re.a)(a,e);var t=Object(le.a)(a);function a(e){var n;return Object(te.a)(this,a),n=t.call(this,e),Object(oe.a)(Object(ne.a)(n),"handleChange",(function(e){var t=e.target.value;n.setState({value:t}),n.props.onChange(t)})),n.id=e.id||fe(e),n.state=Object(i.a)({value:e.value||e.defaultValue},e),n}return Object(ae.a)(a,[{key:"renderLegend",value:function(){return this.props.legend?l.a.createElement(p.a,{htmlFor:this.id},this.props.legend):null}},{key:"render",value:function(){var e=this,t=this.state.value;return null!==this.props.value&&(t=this.props.value),l.a.createElement(d.a,{className:"input",id:"".concat(this.id,"-form")},this.renderLegend(),l.a.createElement(u.a,{id:this.id,as:"textarea",placeholder:this.props.placeholder,ref:function(t){e.textarea=t},onBlur:this.props.onBlur,onChange:this.handleChange,style:Object(i.a)({resize:this.props.resizable},this.props.style),rows:this.props.rows,value:t,disabled:this.props.disabled}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.defaultValue!==t.defaultValue&&(a.value=e.defaultValue),he()(a)?null:a}}]),a}(r.Component);ge.defaultProps={defaultValue:"",value:null,disabled:!1,legend:"",onBlur:function(){},onChange:function(){},placeholder:"Enter text",resizable:"none",rows:5,style:{}};var ve=ge,ye=a(497),Ee=a(970),Oe=a.n(Ee),je=a(97),Ce=a.n(je),xe=a(541),we=a.n(xe),ke=a(2114),Ne=a(1784),Ve=Oe()(0,10,1),Pe=/(?:^|\n)([^\n]*)$/,Se=/^[0-9]/,Fe=l.a.forwardRef((function(e,t){var a=e.children,o=e.style,i=e.className,s=e["aria-labelledby"],c=Object(r.useState)(""),p=Object(n.a)(c,2),d=p[0],m=p[1];return l.a.createElement("div",{ref:t,style:o,className:i,"aria-labelledby":s},l.a.createElement(u.a,{className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",onChange:function(e){return m(e.target.value)},value:d}),l.a.createElement("ul",{className:"list-unstyled"},l.a.Children.toArray(a).filter((function(e){return!d||e.props.children.toLowerCase().startsWith(d)}))))})),Ke=function(e){Object(re.a)(a,e);var t=Object(le.a)(a);function a(e){var n;return Object(te.a)(this,a),n=t.call(this,e),Object(oe.a)(Object(ne.a)(n),"handleGenerate",(function(){var e,t=n.state,a=t.code,r=t.name;Ce()(a,"return ")||(a=we()(a,Pe,"\nreturn $1"));try{e=Object(ke.a)(a,n.props.data),n.props.logAction(M.Z,{code:a,name:r}),n.props.onGenerate(r,e)}catch(l){return n.props.session.addNotification({title:"Errored",message:"Encountered the following error: "+l.message,level:"error",position:"tr"})}n.props.onHide()})),Object(oe.a)(Object(ne.a)(n),"handleNameChange",(function(e){n.setState({name:e.target.value})})),Object(oe.a)(Object(ne.a)(n),"handleCodeChange",(function(e){n.setState({code:e})})),Object(oe.a)(Object(ne.a)(n),"handleKeyPress",(function(e){13===e.charCode&&n.state.name.length>=2&&n.handleGenerate()})),Object(oe.a)(Object(ne.a)(n),"insertVarFactory",(function(e){return function(){var t=n.state.code.substring(0,n.state.selection),a="datum";t+=a+=!Ce()(e," ")&&!Ce()(e,".")&&!Se.test(e)?".".concat(e):"['".concat(e,"']"),t+=n.state.code.substring(n.state.selection),n.setState({code:t,selection:n.state.selection+a.length})}})),Object(oe.a)(Object(ne.a)(n),"insertLiteralFactory",(function(e){return function(){var t=n.state.code.substring(0,n.state.selection),a=e;t+=a,t+=n.state.code.substring(n.state.selection),n.setState({code:t,selection:n.state.selection+a.length})}})),Object(oe.a)(Object(ne.a)(n),"insertFuncFactory",(function(e){return function(){var t=n.state.code.substring(0,n.state.selection),a=" "+e+"()";t+=a,t+=n.state.code.substring(n.state.selection),n.setState({code:t,selection:n.state.selection+a.length-1})}})),n.state={code:e.defaultCode,selection:null,name:"",showGuide:!1},n}return Object(ae.a)(a,[{key:"render",value:function(){var e=this,t=this.props.t,a=this.props.quantitative.map((function(t,a){return l.a.createElement(pe.a.Item,{key:a,onClick:e.insertVarFactory(t),eventKey:a},t)}));return l.a.createElement(S.a,{cancel:".card-body",onDragStart:function(e){e.stopPropagation()},style:{zIndex:1006}},l.a.createElement(L,{show:this.props.show,onHide:this.props.onHide,header:this.props.t("formula-transformer-header"),footer:l.a.createElement(o.a,{onClick:this.handleGenerate,disabled:this.state.name.length<2},this.props.t("create-new-variable")),role:"button",tabIndex:0,bodyStyle:{maxHeight:"calc(100vh - 200px)",overflowY:"auto",position:"relative"}},l.a.createElement("div",{className:"formula-transformer-body"},l.a.createElement(de.a,{headerClassName:"title",header:this.state.showGuide?t("hide-example-guide"):t("show-example-guide"),visible:this.state.showGuide,onClick:function(){return e.setState({showGuide:!e.state.showGuide})}},l.a.createElement("p",null,t("formula-transformer-example-intro")),l.a.createElement(se.a,{condensed:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,t("type")),l.a.createElement("th",null,t("example")),l.a.createElement("th",null,t("description")))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,t("interaction"),":"),l.a.createElement("td",null,l.a.createElement("code",null,"datum.",this.props.quantitative[0]," * datum.",this.props.quantitative[1])),l.a.createElement("td",null,l.a.createElement(ie.a,{i18nKey:"example-description-multiply",ns:"DataExplorer"},"Multiply values of variables ",l.a.createElement("code",null,{first:this.props.quantitative[0]})," and ",l.a.createElement("code",null,{second:this.props.quantitative[1]})))),l.a.createElement("tr",null,l.a.createElement("td",null,t("transformation"),":"),l.a.createElement("td",null,l.a.createElement("code",null,"exp( datum.",this.props.quantitative[0]," )")),l.a.createElement("td",null,l.a.createElement(ie.a,{i18nKey:"example-description-exponential",ns:"DataExplorer"},"Natural exponential function of variable ",l.a.createElement("code",null,{variable:this.props.quantitative[0]})))),l.a.createElement("tr",null,l.a.createElement("td",null,t("function"),":"),l.a.createElement("td",null,l.a.createElement("code",null,"9/5 * ",this.props.quantitative[0]," + 32")),l.a.createElement("td",null,l.a.createElement(ie.a,{i18nKey:"example-description-calculation",ns:"DataExplorer"},"Multiply values of ",l.a.createElement("code",null,{variable:this.props.quantitative[0]})," by ",l.a.createElement("code",null,"9/5")," and add ",l.a.createElement("code",null,"32"))))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"mb-2"},l.a.createElement(ue.a,{style:{marginBottom:5}},l.a.createElement(pe.a,{className:"mr-2"},l.a.createElement(pe.a.Toggle,{variant:"light",id:"dropdown-custom-components"},t("quantitative")),l.a.createElement(pe.a.Menu,{variant:"light",as:Fe,id:"bg-nested-dropdown"},a)),l.a.createElement(pe.a,{className:"mr-2"},l.a.createElement(pe.a.Toggle,{variant:"light",id:"dropdown-custom-components"},t("categorical")),l.a.createElement(pe.a.Menu,{variant:"light",as:Fe,id:"bg-nested-dropdown"},this.props.categorical.map((function(t,a){return l.a.createElement(pe.a.Item,{key:a,onClick:e.insertVarFactory(t),eventKey:a},t)})))))),l.a.createElement(b.a,{className:"mb-2"},l.a.createElement(b.a.Body,null,l.a.createElement(ue.a,{style:{marginBottom:5}},l.a.createElement(ce.a,{size:"sm",className:"mr-2"},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" < ")},"<"),l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" > ")},">"),l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" <= ")},"<="),l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" >= ")},">=")),l.a.createElement(ce.a,{size:"sm",className:"mr-2"},l.a.createElement(ye.a,{placement:"top",tooltip:t("open-parenthesis")},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" ( ")},"(")),l.a.createElement(ye.a,{placement:"top",tooltip:t("closing-parenthesis")},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" ) ")},")"))),l.a.createElement(ce.a,{size:"sm",className:"mr-2"},l.a.createElement(ye.a,{placement:"top",tooltip:t("addition")},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" + ")},"+")),l.a.createElement(ye.a,{placement:"top",tooltip:t("subtraction")},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" - ")},"-")),l.a.createElement(ye.a,{placement:"top",tooltip:t("multiplication")},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" * ")},"*")),l.a.createElement(ye.a,{placement:"top",tooltip:t("division")},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" / ")},"/"))),l.a.createElement(ce.a,{size:"sm",className:"mr-2"},l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" && ")},t("and")),l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" || ")},t("or")),l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(" !")},t("not"))),l.a.createElement(ce.a,{size:"sm",className:"me-2"},Ne.map((function(t,a){return l.a.createElement(o.a,{key:a,variant:"light",onClick:e.insertFuncFactory(t),eventKey:a},t)})))),l.a.createElement(ue.a,null,l.a.createElement(ce.a,{size:"sm",className:"mr-2"},Ve.map((function(t,a){return l.a.createElement(o.a,{key:a,variant:"light",onClick:e.insertLiteralFactory("".concat(t))},t)})),l.a.createElement(o.a,{variant:"light",onClick:this.insertLiteralFactory(".")},"."))))),l.a.createElement(b.a,{className:"mb-2"},l.a.createElement(b.a.Body,null,l.a.createElement(ve,{ref:function(t){e.textarea=t},legend:"Expression:",placeholder:"Enter formula...",value:this.state.code,onChange:this.handleCodeChange,onBlur:function(t){var a=t.target.selectionStart;e.setState({selection:a})},rows:3}))),l.a.createElement(d.a,{style:{margin:8}},l.a.createElement(p.a,null,t("name-new-variable"),":"),l.a.createElement(u.a,{type:"text",placeholder:t("select-name"),onChange:this.handleNameChange,onKeyPress:this.handleKeyPress}),l.a.createElement(m.a,null,t("new-variable-appended"))))))}}]),a}(r.Component);Ke.defaultProps={logAction:function(){},onGenerate:function(){},defaultCode:"",session:{}};var Ge=Ke,Le=a(786),He=a(968),Te=a.n(He),qe=a(969),De=a.n(qe),Ae=a(1467),Be=a.n(Ae),ze=a(526),Me=a(1786),Ie=a(855),Ue=c()("isle:data-explorer:variable-transformer");function Re(e){return e?we()(e,".","[dot]"):e}function Je(e){for(var t=O()(e),a=!0,n=0;n<t.length;n++)Be()(e[t[n]])||(a=!1);return a}var Ye=function(e){Object(re.a)(a,e);var t=Object(le.a)(a);function a(e){var n;Object(te.a)(this,a),n=t.call(this,e),Object(oe.a)(Object(ne.a)(n),"handleFirstVariableChange",(function(e){var t,a={};if(n.state.secondVar){var r=e,l=n.state.secondVar,o=n.props.data[r];t=Te()(o,De.a);for(var i=Object(Ie.a)(t,r),s=Object(Ie.a)(n.state.secondFreqs,l),c=0;c<i.length;c++)for(var u=0;u<s.length;u++){var p=i[c]+"-"+s[u];a[Re(p)]=p}}else{var d=n.props.data[e];t=Te()(d,De.a);for(var m=Object(Ie.a)(t,e),h=0;h<m.length;h++)a[Re(m[h])]=m[h]}var b=Je(a);n.setState({firstVar:e,firstFreqs:t,nameMappings:a,onlyNumbers:b})})),Object(oe.a)(Object(ne.a)(n),"handleSecondVariableChange",(function(e){if(!e){for(var t=n.state.firstVar,a=Object(Ie.a)(n.state.firstFreqs,t),r={},l=0;l<a.length;l++)r[Re(a[l])]=a[l];return n.setState({secondVar:e,nameMappings:r})}for(var o={},i=n.state.firstVar,s=n.props.data[e],c=Te()(s,De.a),u=Object(Ie.a)(n.state.firstFreqs,i),p=Object(Ie.a)(c,e),d=0;d<u.length;d++)for(var m=0;m<p.length;m++){var h=u[d]+"-"+p[m];o[Re(h)]=h}var b=Je(o);n.setState({secondVar:e,secondFreqs:c,nameMappings:o,onlyNumbers:b})})),Object(oe.a)(Object(ne.a)(n),"handleKeyPress",(function(e){13===e.charCode&&n.state.generatedName.length>=2&&n.makeNewVar()})),Object(oe.a)(Object(ne.a)(n),"changeFreqFactory",(function(e){return function(t){var a=w()(n.state.nameMappings);a[Re(e)]=t.target.value;var r=Je(a);n.setState({nameMappings:a,onlyNumbers:r})}})),Object(oe.a)(Object(ne.a)(n),"changeContigencyFactory",(function(e,t){return function(a){var r=w()(n.state.nameMappings);r[Re(t)+"-"+Re(e)]=a.target.value,n.setState({nameMappings:r})}})),Object(oe.a)(Object(ne.a)(n),"handleGeneratedNameChange",(function(e){n.setState({generatedName:e.target.value})})),Object(oe.a)(Object(ne.a)(n),"makeNewVar",(function(){Ue("Generating new categorical variable...");var e=n.state,t=e.firstVar,a=e.secondVar,r=e.nameMappings,l=e.castNumeric,o=Object(Me.a)(t,a,r,n.props.data,l);n.props.onGenerate(n.state.generatedName,o),n.props.logAction(M.e,{name:n.state.generatedName,firstVar:t,secondVar:a,nameMappings:r,castNumeric:l}),n.props.onHide()})),Object(oe.a)(Object(ne.a)(n),"renderFrequencyTable",(function(){var e=n.state.firstVar,t=n.props.data[e],a=Te()(t,De.a),r=Object(Ie.a)(a,e);return l.a.createElement(Le.a,{bordered:!0,style:{margin:8}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,n.props.t("old"),":"),r.map((function(t,a){return l.a.createElement("th",{key:"".concat(e,"-").concat(a,"-old")},t)})))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("th",null,n.props.t("new"),":"),r.map((function(t,a){return l.a.createElement("th",{key:"".concat(e,"-").concat(a,"-new")},l.a.createElement("input",{className:"transformer-table-input",type:"text",defaultValue:t,onChange:n.changeFreqFactory(t)}))}))),l.a.createElement("tr",{style:{borderTop:"1px solid black"}},l.a.createElement("th",null,n.props.t("frequencies"),":"),r.map((function(t,a){var r=n.state.firstFreqs[t];return l.a.createElement("td",{key:"".concat(e,"-").concat(a,"-freq")},r)})))))})),Object(oe.a)(Object(ne.a)(n),"renderContingencyTable",(function(){var e=n.state.secondVar,t=n.state.firstVar,a=n.props.data[e],r=n.props.data[t],o=Te()(a,De.a),i=Te()(r,De.a),s=Object(Ie.a)(o,e),c=Object(Ie.a)(i,t);return l.a.createElement(Le.a,{bordered:!0,style:{margin:8}},l.a.createElement("tr",null,l.a.createElement("th",null),c.map((function(e,t){return l.a.createElement("th",{key:"".concat(e,"-").concat(t)},e)}))),s.map((function(e,t){return l.a.createElement("tr",{key:"".concat(e,"-").concat(t)},l.a.createElement("th",null,e),c.map((function(t,a){return l.a.createElement("td",{key:"".concat(e,"-").concat(t,"-").concat(a)},l.a.createElement("input",{className:"transformer-table-input",type:"text",defaultValue:"".concat(t,"-").concat(e),onChange:n.changeContigencyFactory(e,t)}))})))})))}));for(var r=e.categorical[0],o=e.data[r],i=Te()(o,De.a),s=Object(Ie.a)(i,r),c={},u=0;u<s.length;u++)c[Re(s[u])]=s[u];return n.state={generatedName:"",firstVar:r,firstFreqs:i,nameMappings:c,secondVar:null,secondFreqs:null,castNumeric:!1,onlyNumbers:!1},n}return Object(ae.a)(a,[{key:"renderTable",value:function(){return this.state.firstVar&&this.state.secondVar?this.renderContingencyTable():this.state.firstVar||this.state.secondVar?this.renderFrequencyTable():null}},{key:"render",value:function(){var e=this,t=this.props.t;return l.a.createElement(S.a,{cancel:".card-body",onDragStart:function(e){e.stopPropagation()},style:{zIndex:1006}},l.a.createElement(L,{onHide:this.props.onHide,show:this.props.show,header:t("categorical-transformer-header"),footer:l.a.createElement(o.a,{onClick:this.makeNewVar,disabled:this.state.generatedName.length<2},t("create-new-variable")),bodyStyle:{maxHeight:"calc(100vh - 200px)",overflowY:"auto",position:"relative"},role:"button",tabIndex:0},l.a.createElement(f.a,null,l.a.createElement(g.a,{md:4},l.a.createElement(V.a,{legend:t("first-variable"),defaultValue:this.state.firstVar||"",options:this.props.categorical,onChange:this.handleFirstVariableChange})),l.a.createElement(g.a,{md:4},l.a.createElement(V.a,{clearable:!0,legend:t("optional-second-variable"),defaultValue:this.state.secondVar||"",options:this.props.categorical,onChange:this.handleSecondVariableChange}))),l.a.createElement(f.a,{style:{overflowX:"auto",width:"100%"}},this.renderTable()),l.a.createElement(f.a,null,l.a.createElement(ye.a,{tooltip:t("treat-labels-as-numbers-tooltip")},l.a.createElement(ze.a,{legend:t("treat-labels-as-numbers"),defaultValue:!1,disabled:!this.state.onlyNumbers,onChange:function(){e.setState({castNumeric:!e.state.castNumeric})}}))),l.a.createElement(f.a,null,l.a.createElement(d.a,{style:{margin:8}},l.a.createElement(p.a,null,t("name-new-variable"),":"),l.a.createElement(u.a,{type:"text",placeholder:t("select-name"),onChange:this.handleGeneratedNameChange,onKeyPress:this.handleKeyPress}),l.a.createElement(m.a,null,t("new-variable-appended"))))))}}]),a}(r.Component);Ye.defaultProps={logAction:function(){}};var We=Ye,$e=a(1252),Xe=a.n($e),Ze=a(1153),Qe=a.n(Ze),_e=c()("isle:data-explorer:group-transformer"),et=function(e){Object(re.a)(a,e);var t=Object(le.a)(a);function a(e){var n;return Object(te.a)(this,a),n=t.call(this,e),Object(oe.a)(Object(ne.a)(n),"handleGeneratedNameChange",(function(e){n.setState({generatedName:e.target.value})})),Object(oe.a)(Object(ne.a)(n),"handleGroupNumberChange",(function(e){for(var t=new Array(e).fill(1/e),a=new Array(e),r=0;r<a.length;r++)a[r]="".concat(n.props.t("group")," ").concat(r+1);n.setState({groupProbs:t,labels:a,nGroups:e})})),Object(oe.a)(Object(ne.a)(n),"handleKeyPress",(function(e){if(13===e.charCode){for(var t=0,a=0;a<n.state.groupProbs.length;a++)t+=n.state.groupProbs[a];n.state.generatedName.length>2&&Qe()(t,1)<=15e-9&&n.makeNewVar()}})),Object(oe.a)(Object(ne.a)(n),"makeNewVar",(function(){_e("Generating new categorical variable...");var e=O()(n.props.data),t=n.props.data[e[0]].length,a=Xe()(n.state.labels,{size:t,probs:n.state.groupProbs,replace:!0});n.props.onGenerate(n.state.generatedName,a),n.props.logAction(M.k,{name:n.state.generatedName,labels:n.state.labels,groupProbs:n.state.groupProbs}),n.props.onHide()})),n.state={generatedName:"",nGroups:2,groupProbs:[.5,.5],labels:["Group 1","Group 2"]},n}return Object(ae.a)(a,[{key:"renderTable",value:function(){for(var e=this,t=new Array(this.state.nGroups),a=function(a){t[a]=l.a.createElement(f.a,{key:a},l.a.createElement(g.a,null,l.a.createElement(P.a,{legend:"Label for Group ".concat(a+1),defaultValue:e.state.labels[a],onChange:function(t){var n=e.state.labels.slice();n[a]=t,e.setState({labels:n})}})),l.a.createElement(g.a,null,l.a.createElement(N.a,{legend:"Group Proportion",onChange:function(t){var n=e.state.groupProbs.slice();n[a]=t,e.setState({groupProbs:n})},defaultValue:e.state.groupProbs[a],step:.01,min:0,max:1,numbersOnly:!1})))},n=0;n<t.length;n++)a(n);return l.a.createElement(r.Fragment,null,t,l.a.createElement("p",null,this.props.t("proportions-sum-one")))}},{key:"render",value:function(){for(var e=0,t=0;t<this.state.groupProbs.length;t++)e+=this.state.groupProbs[t];var a=this.state.generatedName.length>2&&Qe()(e,1)<=15e-9;return l.a.createElement(S.a,{cancel:".card-body",onDragStart:function(e){e.stopPropagation()},style:{zIndex:1006}},l.a.createElement(L,{onHide:this.props.onHide,show:this.props.show,header:this.props.t("group-transformer-header"),footer:l.a.createElement(o.a,{onClick:this.makeNewVar,disabled:!a},this.props.t("create-new-variable")),role:"button",tabIndex:0,bodyStyle:{maxHeight:"calc(100vh - 200px)",overflowY:"auto",position:"relative"}},l.a.createElement(f.a,null,l.a.createElement(g.a,null,l.a.createElement(N.a,{legend:this.props.t("number-of-groups"),onChange:this.handleGroupNumberChange,defaultValue:this.state.nGroups,step:1,min:1,max:99}))),this.renderTable(),l.a.createElement(f.a,null,l.a.createElement(d.a,{style:{margin:8}},l.a.createElement(p.a,null,this.props.t("name-new-variable"),":"),l.a.createElement(u.a,{type:"text",placeholder:this.props.t("select-name"),onChange:this.handleGeneratedNameChange,onKeyPress:this.handleKeyPress}),l.a.createElement(m.a,null,this.props.t("new-variable-appended"))))))}}]),a}(r.Component);et.defaultProps={logAction:function(){}};var tt=et,at=function(e){var t,a=e.data,i=e.categorical,s=e.quantitative,c=e.t,u=e.session,p=e.defaultCode,d=e.logAction,m=e.onGenerate,h=Object(r.useState)(null),b=Object(n.a)(h,2),f=b[0],g=b[1],v=function(){var t="formula"===f?null:"formula";g(t),e.onActive(t)},y=function(){var t="bin"===f?null:"bin";g(t),e.onActive(t)},E=function(){var t="categorical"===f?null:"categorical";g(t),e.onActive(t)},O=function(){var t="group"===f?null:"group";g(t),e.onActive(t)};if(a)switch(f){case"bin":t=l.a.createElement(ee,{show:!0,onHide:y,quantitative:s,logAction:d,onGenerate:m,data:a,t:c});break;case"categorical":t=l.a.createElement(We,{show:!0,onHide:E,categorical:i,logAction:d,onGenerate:m,data:a,t:c});break;case"formula":t=l.a.createElement(Ge,{show:!0,onHide:v,categorical:i,quantitative:s,data:a,defaultCode:p,logAction:d,onGenerate:m,session:u,t:c});break;case"group":t=l.a.createElement(tt,{show:!0,onHide:O,logAction:d,onGenerate:m,data:a,t:c})}return l.a.createElement(r.Fragment,null,l.a.createElement("div",{className:"well",style:{padding:15,margin:15}},l.a.createElement("div",{style:{padding:12}},l.a.createElement(o.a,{onClick:v,variant:"primary",block:!0,style:{fontSize:"1.2em"}},c("interactions-functions"))),l.a.createElement("div",{style:{padding:12}},l.a.createElement(o.a,{onClick:y,disabled:0===s.length,variant:"primary",block:!0,style:{fontSize:"1.2em"}},c("bin-quantitative"))),l.a.createElement("div",{style:{padding:12}},l.a.createElement(o.a,{onClick:E,disabled:0===i.length,variant:"primary",block:!0,style:{fontSize:"1.2em"}},c("rename-or-combine"))),l.a.createElement("div",{style:{padding:12}},l.a.createElement(o.a,{onClick:O,variant:"primary",block:!0,style:{fontSize:"1.2em"}},c("create-groups")))),t)};at.defaultProps={logAction:function(){},onActive:function(){},onGenerate:function(){},defaultCode:"",session:{}};t.default=at},520:function(e,t,a){"use strict";var n=a(63),r=a.n(n),l=a(172),o=a.n(l);t.a=function(e){var t="Enter a".concat(1===e.step?"n integer":" number"," ");return e.max!==r.a&&e.min!==o.a?t+="between ".concat(e.min," and ").concat(e.max):e.min!==o.a?t+="larger or equal to ".concat(e.min):e.max!==r.a&&(t+="smaller or equal to ".concat(e.max)),t}},526:function(e,t,a){"use strict";var n=a(529);t.a=n.a},529:function(e,t,a){"use strict";(function(e){var n=a(16),r=a(12),l=a(13),o=a(27),i=a(20),s=a(39),c=a(50),u=a(485),p=a.n(u),d=a(8),m=a.n(d),h=a(510),b=a.n(h),f=a(177),g=a.n(f),v=a(519),y=a(497),E=a(504),O=(a(530),function(t){Object(i.a)(u,t);var a=Object(s.a)(u);function u(t,n){var l;Object(r.a)(this,u),l=a.call(this,t),Object(c.a)(Object(o.a)(l),"updateValue",(function(t){l.setState({value:t},(function(){l.props.bind&&e.lesson.setState({[l.props.bind]:t})}))})),Object(c.a)(Object(o.a)(l),"handleChange",(function(e){var t=e.target.checked;l.props.onChange(t),l.updateValue(t)})),Object(c.a)(Object(o.a)(l),"handleSpanChange",(function(e){var t=null!==l.props.value?!l.props.value:!l.state.value;l.props.onChange(t),l.updateValue(t)}));var i=n;return l.state={value:t.bind&&i.state?i.state[t.bind]:t.defaultValue,bind:t.bind,defaultValue:t.defaultValue},l}return Object(l.a)(u,[{key:"componentDidUpdate",value:function(){if(this.props.bind){var t=e.lesson.state[this.props.bind];t!==this.state.value&&this.setState({value:t})}}},{key:"render",value:function(){var e=this.state.value;null!==this.props.value&&(e=this.props.value);var t=p.a.createElement("input",{className:"checkbox-input",type:"checkbox",checked:e,value:"checkbox",onChange:this.handleChange,disabled:this.props.disabled,"aria-label":this.props.tooltip});if(!0===this.props.inline)return p.a.createElement(y.a,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},p.a.createElement("span",{style:Object(n.a)({marginLeft:"8px"},this.props.style)},t,p.a.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:this.handleSpanChange,onKeyPress:this.handleSpanChange},this.props.legend)));var a=this.props.disabled?g.a:this.handleSpanChange;return p.a.createElement(y.a,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},p.a.createElement("div",{className:"input checkbox-input-div",style:this.props.style},t,p.a.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:a,onKeyPress:a},this.props.legend)))}}],[{key:"getDerivedStateFromProps",value:function(t,a){var n={};return t.defaultValue!==a.defaultValue?(n.value=t.defaultValue,n.defaultValue=t.defaultValue):t.bind!==a.bind&&(n.value=e.lesson.state[t.bind],n.bind=t.bind),b()(n)?null:n}}]),u}(v.a));O.defaultProps={bind:"",onChange:function(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}},O.propTypes={bind:m.a.string,defaultValue:m.a.bool,value:m.a.bool,disabled:m.a.bool,inline:m.a.bool,onChange:m.a.func,legend:m.a.oneOfType([m.a.string,m.a.node]),tooltip:m.a.string,tooltipPlacement:m.a.oneOf(["left","top","right","bottom"]),style:m.a.object},O.contextType=E.a,t.a=O}).call(this,a(29))},530:function(e,t,a){},552:function(e,t,a){"use strict";var n=a(555);a(520).a;t.a=n.a},555:function(e,t,a){"use strict";(function(e){var n=a(16),r=a(12),l=a(13),o=a(27),i=a(20),s=a(39),c=a(50),u=a(485),p=a.n(u),d=a(8),m=a.n(d),h=a(30),b=a.n(h),f=a(519),g=a(97),v=a.n(g),y=a(95),E=a.n(y),O=a(40),j=a(53),C=a(510),x=a.n(C),w=a(63),k=a.n(w),N=a(172),V=a.n(N),P=a(497),S=a(504),F=a(586),K=a(520),G=(a(556),b()("isle:number-input")),L=Object(F.a)("number-input"),H=function(t){Object(i.a)(u,t);var a=Object(s.a)(u);function u(t,n){var l;Object(r.a)(this,u),l=a.call(this,t),Object(c.a)(Object(o.a)(l),"handleChange",(function(t){G("Handle change of input field...");var a=t.target.validity.valid,n=t.target.value;l.setState({value:n},(function(){l.props.value||a&&""!==n&&"-"!==n&&"."!==n&&"-."!==n?(n=parseFloat(n),E()(n)&&(n=""),l.props.onChange(n),l.props.bind&&e.lesson.setState({[l.props.bind]:n})):l.props.bind&&e.lesson.setState({[l.props.bind]:n})}))})),Object(c.a)(Object(o.a)(l),"finishChange",(function(t){var a=l.props,n=a.max,r=a.min,o=a.step;G("Finished change...");var i=t.target.value;if(v()(i,"/")){G("Encountered a fraction...");var s=i.split("/");""!==s[0]&&""!==s[1]&&(i=parseFloat(s[0])/parseFloat(s[1]))}E()(i)?i="":""!==i&&"-"!==i&&"."!==i&&"-."!==i&&(i=parseFloat(i)),i>n?i=n:i<r?i=r:1===o&&""!==i&&"-"!==i&&"."!==i&&"-."!==i&&(i-=i%l.props.step),l.props.onChange(i),l.props.onBlur(i),i!==l.state.value&&l.setState({value:i},(function(){l.props.bind&&e.lesson.setState({[l.props.bind]:i})}))}));var i=n;return l.id=t.id||L(t),l.state={value:t.value||(t.bind&&i.state?i.state[t.bind]:t.defaultValue),tooltip:t.tooltip||Object(K.a)(t),prevProps:t},l}return Object(l.a)(u,[{key:"componentDidUpdate",value:function(){if(G("Component did update..."),this.props.bind){var t=e.lesson.state[this.props.bind];t!==this.state.value&&Object(j.isPrimitive)(this.state.value)&&this.setState({value:t})}}},{key:"render",value:function(){var e=this.state.value;if(null!==this.props.value&&(e=this.props.value),!0===this.props.inline){var t=p.a.createElement("span",{className:"input",style:Object(n.a)({padding:"5px"},this.props.style)},this.props.legend?p.a.createElement("label",{htmlFor:this.id}," ",this.props.legend," =  "):null,p.a.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:Object(n.a)({width:"80px",paddingLeft:"6px",marginLeft:"3px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"}),this.props.description?p.a.createElement("span",null,"(",this.props.description,")"):p.a.createElement("span",null));return this.props.disabled?t:p.a.createElement(P.a,{id:"number-input-tooltip-inline",placement:"top",tooltip:this.state.tooltip},t)}var a=p.a.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:Object(n.a)({width:"80px",marginLeft:"24px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"});return p.a.createElement("div",{className:"input",style:Object(n.a)({marginBottom:"4px",marginTop:"4px"},this.props.style)},this.props.legend?p.a.createElement("span",null,p.a.createElement("label",{htmlFor:this.id},Object(O.isPrimitive)(this.props.legend)?this.props.legend+":":this.props.legend),this.props.description?p.a.createElement("span",null," ",this.props.description):null):null,p.a.createElement(P.a,{id:"number-input-tooltip",placement:this.props.tooltipPlacement,tooltip:this.state.tooltip},p.a.createElement("span",{className:"number-input-span"},a)))}}],[{key:"getDerivedStateFromProps",value:function(t,a){var n={},r=a.prevProps;return t.defaultValue!==r.defaultValue?n.value=t.defaultValue:t.bind!==r.bind&&(n.value=e.lesson.state[t.bind]),t.min!==r.min||t.max!==r.max?n.tooltip=t.tooltip||Object(K.a)(t):t.tooltip&&t.tooltip!==a.tooltip&&(n.tooltip=t.tooltip),x()(n)?null:(G("Created new state from props..."),n.prevProps=t,n)}}]),u}(f.a);H.defaultProps={bind:"",disabled:!1,legend:null,min:V.a,max:k.a,step:1,defaultValue:0,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"},H.propTypes={bind:m.a.string,defaultValue:m.a.number,disabled:m.a.bool,inline:m.a.bool,legend:m.a.oneOfType([m.a.string,m.a.node]),max:m.a.number,min:m.a.number,numbersOnly:m.a.bool,onBlur:m.a.func,onChange:m.a.func,onKeyDown:m.a.func,onKeyPress:m.a.func,onKeyUp:m.a.func,step:m.a.oneOfType([m.a.number,m.a.string]),style:m.a.object,inputStyle:m.a.object,value:m.a.number,tooltip:m.a.string,tooltipPlacement:m.a.oneOf(["top","right","bottom","left"])},H.contextType=S.a,t.a=H}).call(this,a(29))},556:function(e,t,a){}}]);
//# sourceMappingURL=85.b0875130.chunk.js.map