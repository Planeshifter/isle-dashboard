/*! For license information please see 8174.e35df5b6.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[8174],{98032:function(e,t,r){"use strict";var a=r(6233),n=r.n(a),o=r(67583),s=r.n(o),i=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;t.Z=function(e){for(var t={},r={},a=s()(e[0]).filter((function(e){return""!==e})),o=0;o<a.length;o++){var l=n()(a[o]);r[a[o]]=l,t[l]=new Array(e.length)}for(var c=0;c<e.length;c++)for(var u=0;u<a.length;u++){var m=a[u],d=e[c][m];i.test(d)&&(d=Number(d)),t[r[m]][c]=d}return t}},23218:function(e,t,r){"use strict";r.r(t);var a=r(87757),n=r.n(a),o=r(92137),s=r(6610),i=r(5991),l=r(63349),c=r(10379),u=r(60446),m=r(96156),d=r(41488),p=r(10077),f=r.n(p),v=r(25472),g=r(66734),h=r(92637),E=r(70048),Z=r(47701),y=r(47355),x=r(35683),b=r.n(x),w=r(4135),N=r(42263),k=r(2388),C=r(38409),P=r(80062),T=r(98032),D=r(52428),S=f()("isle-dashboard:admin"),M=function(e){(0,c.Z)(r,e);var t=(0,u.Z)(r);function r(e){var a;return(0,s.Z)(this,r),a=t.call(this,e),(0,m.Z)((0,l.Z)(a),"createColumns",(function(){var e=a.props.t;return[(0,C.Z)({Header:e("common:type"),id:"type",accessor:"type",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,P.Z)({Header:e("common:time"),accessor:"time",style:{marginTop:"2px",color:"darkslategrey"},maxWidth:150}),{Header:e("common:data"),accessor:"data",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:function(e){if(e.value){var t=d.createElement(h.Z,{id:"popover-data",style:{maxWidth:400}},d.createElement(h.Z.Title,{as:"h3"},"Data"),d.createElement(h.Z.Content,{style:{backgroundColor:"lightblue"}},d.createElement("pre",null,JSON.stringify(e.value,null,2))));return d.createElement(g.Z,{trigger:"click",placement:"right",overlay:t},d.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:120,resizable:!1,filterable:!1,sortable:!1},(0,k.Z)({Header:e("common:done"),accessor:"done",trueLabel:e("common:done"),falseLabel:e("common:not-done")}),{Header:"Pic",accessor:"user.picture",Cell:function(e){return d.createElement("img",{className:"table-pic",src:"".concat(w.ZP,"/thumbnail/").concat(e.value),alt:"Profile Pic"})},style:{marginTop:"8px",color:"darkslategrey"},maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1},(0,C.Z)({Header:e("common:name"),accessor:"user.name",style:{marginTop:"8px",color:"darkslategrey"}}),(0,C.Z)({Header:e("common:email"),accessor:"user.email",style:{marginTop:"8px",color:"darkslategrey"}}),{Header:e("common:actions"),Cell:function(t){return d.createElement("div",null,d.createElement(g.Z,{placement:"bottom",overlay:d.createElement(Z.Z,{id:"delete_event"},e("delete-event"))},d.createElement(E.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:a.askToDeleteSelectedEventFactory(t.row._original),"aria-label":e("delete-event")},d.createElement("div",{className:"fa fa-trash-alt"}))),d.createElement(g.Z,{placement:"bottom",overlay:d.createElement(Z.Z,{id:"trigger_event"},e("trigger-event"))},d.createElement(E.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:a.triggerEventFactory(t.row._original),"aria-label":e("trigger-event")},d.createElement("div",{className:"fas fa-share-square"}))))},resizable:!1,filterable:!1,sortable:!1}]})),(0,m.Z)((0,l.Z)(a),"triggerEventFactory",(function(e){return function(){a.props.triggerEvent(e._id)}})),(0,m.Z)((0,l.Z)(a),"askToDeleteSelectedEventFactory",(function(e){return function(){a.setState({showDeleteModal:!a.state.showDeleteModal,selectedEvent:e})}})),(0,m.Z)((0,l.Z)(a),"deleteSelectedEvent",(function(){a.setState({showDeleteModal:!1},(0,o.Z)(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("Delete event with id ".concat(a.state.selectedEvent._id,"...")),e.next=3,a.props.deleteEvent(a.state.selectedEvent._id);case 3:S("Retrieve events from server..."),a.props.getEvents();case 5:case"end":return e.stop()}}),e)}))))})),(0,m.Z)((0,l.Z)(a),"toggleDeleteModal",(function(){a.setState({showDeleteModal:!a.state.showDeleteModal})})),(0,m.Z)((0,l.Z)(a),"toggleExplorer",(function(){a.setState({showExplorer:!a.state.showExplorer})})),a.columns=a.createColumns(),a.state={showDeleteModal:!1,selectedEvent:null,showExplorer:!1},a}return(0,i.Z)(r,[{key:"componentDidMount",value:function(){this.props.getEvents()}},{key:"render",value:function(){var e=this.props.t;if(this.state.showExplorer){var t=["user","done","time","type"],r=(0,T.Z)(this.props.admin.events);return(r=b()(r,t)).user=r.user.map((function(e){return e?e.email:null})),d.createElement(D.Z,{title:e("explorer-events-title"),data:r,categorical:t,quantitative:[],close:this.toggleExplorer})}return d.createElement(d.Fragment,null,d.createElement(y.Z,{data:this.props.admin.events,columns:this.columns,onButtonClick:this.toggleExplorer,t:this.props.t}),this.state.showDeleteModal?d.createElement(N.Z,{title:e("delete-event"),message:d.createElement("span",null,e("delete-event-confirm")),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedEvent}):null)}}]),r}(d.Component);t.default=(0,v.Z)(["admin","common"])(M)},41411:function(e){"use strict";var t=RegExp.prototype.exec;e.exports=t},31428:function(e,t,r){"use strict";var a=r(32782);e.exports=a},32782:function(e,t,r){"use strict";var a=r(58456),n=r(19221),o=r(86910),s=a();e.exports=function(e){return"object"===typeof e&&(e instanceof RegExp||(s?o(e):"[object RegExp]"===n(e)))}},86910:function(e,t,r){"use strict";var a=r(41411);e.exports=function(e){try{return a.call(e),!0}catch(t){return!1}}},50288:function(e,t,r){"use strict";var a=r(97939);e.exports=a},97939:function(e,t,r){"use strict";var a=r(94595),n=r(65773),o=r(20842).isPrimitive,s=r(31428);e.exports=function(e,t,r){if(!o(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(o(t))t=a(t),t=new RegExp(t,"g");else if(!s(t))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+t+"`.");if(!o(r)&&!n(r))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+r+"`.");return e.replace(t,r)}},6233:function(e,t,r){"use strict";var a=r(73529);e.exports=a},73529:function(e,t,r){"use strict";var a=r(20842).isPrimitive,n=r(50288),o=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;e.exports=function(e){if(!a(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return n(e,o,"$1")}},94595:function(e,t,r){"use strict";var a=r(43987);e.exports=a},43987:function(e,t,r){"use strict";var a=r(20842).isPrimitive,n=/[-\/\\^$*+?.()|[\]{}]/g;e.exports=function(e){var t,r;if(!a(e))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+e+"`.");if("/"===e[0])for(r=e.length-1;r>=0&&"/"!==e[r];r--);return void 0===r||r<=0?e.replace(n,"\\$&"):(t=(t=e.substring(1,r)).replace(n,"\\$&"),e=e[0]+t+e.substring(r))}},61422:function(e,t,r){"use strict";var a=r(22122),n=r(19756),o=r(78265),s=r.n(o),i=r(41488),l=r(83603),c=r.n(l),u=["as","className","type","tooltip"],m={type:c().string,tooltip:c().bool,as:c().elementType},d=i.forwardRef((function(e,t){var r=e.as,o=void 0===r?"div":r,l=e.className,c=e.type,m=void 0===c?"valid":c,d=e.tooltip,p=void 0!==d&&d,f=(0,n.Z)(e,u);return i.createElement(o,(0,a.Z)({},f,{ref:t,className:s()(l,m+"-"+(p?"tooltip":"feedback"))}))}));d.displayName="Feedback",d.propTypes=m,t.Z=d},67064:function(e,t,r){"use strict";var a=r(41488).createContext({controlId:void 0});t.Z=a},75018:function(e,t,r){"use strict";var a=r(22122),n=r(19756),o=r(78265),s=r.n(o),i=(r(84910),r(41488)),l=(r(47815),r(61422)),c=r(67064),u=r(38674),m=["bsPrefix","bsCustomPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","custom","as"],d=i.forwardRef((function(e,t){var r,o,l=e.bsPrefix,d=e.bsCustomPrefix,p=e.type,f=e.size,v=e.htmlSize,g=e.id,h=e.className,E=e.isValid,Z=void 0!==E&&E,y=e.isInvalid,x=void 0!==y&&y,b=e.plaintext,w=e.readOnly,N=e.custom,k=e.as,C=void 0===k?"input":k,P=(0,n.Z)(e,m),T=(0,i.useContext)(c.Z).controlId,D=N?[d,"custom"]:[l,"form-control"],S=D[0],M=D[1];if(l=(0,u.vE)(S,M),b)(o={})[l+"-plaintext"]=!0,r=o;else if("file"===p){var R;(R={})[l+"-file"]=!0,r=R}else if("range"===p){var z;(z={})[l+"-range"]=!0,r=z}else if("select"===C&&N){var F;(F={})[l+"-select"]=!0,F[l+"-select-"+f]=f,r=F}else{var _;(_={})[l]=!0,_[l+"-"+f]=f,r=_}return i.createElement(C,(0,a.Z)({},P,{type:p,size:v,ref:t,readOnly:w,id:g||T,className:s()(h,r,Z&&"is-valid",x&&"is-invalid")}))}));d.displayName="FormControl",t.Z=Object.assign(d,{Feedback:l.Z})},92637:function(e,t,r){"use strict";var a=r(22122),n=r(19756),o=r(78265),s=r.n(o),i=r(41488),l=(r(90427),r(38674)),c=r(60145),u=r(52299),m=["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"],d=i.forwardRef((function(e,t){var r=e.bsPrefix,o=e.placement,c=e.className,d=e.style,p=e.children,f=e.content,v=e.arrowProps,g=(e.popper,e.show,(0,n.Z)(e,m)),h=(0,l.vE)(r,"popover"),E=((null==o?void 0:o.split("-"))||[])[0];return i.createElement("div",(0,a.Z)({ref:t,role:"tooltip",style:d,"x-placement":E,className:s()(c,h,E&&"bs-popover-"+E)},g),i.createElement("div",(0,a.Z)({className:"arrow"},v)),f?i.createElement(u.Z,null,p):p)}));d.defaultProps={placement:"right"},d.Title=c.Z,d.Content=u.Z,t.Z=d},52299:function(e,t,r){"use strict";var a=r(22122),n=r(19756),o=r(78265),s=r.n(o),i=r(41488),l=r(38674),c=["as","bsPrefix","className","children"],u=i.forwardRef((function(e,t){var r=e.as,o=void 0===r?"div":r,u=e.bsPrefix,m=e.className,d=e.children,p=(0,n.Z)(e,c);return u=(0,l.vE)(u,"popover-body"),i.createElement(o,(0,a.Z)({ref:t},p,{className:s()(m,u)}),d)}));t.Z=u},60145:function(e,t,r){"use strict";var a=r(22122),n=r(19756),o=r(78265),s=r.n(o),i=r(41488),l=r(38674),c=["as","bsPrefix","className","children"],u=i.forwardRef((function(e,t){var r=e.as,o=void 0===r?"div":r,u=e.bsPrefix,m=e.className,d=e.children,p=(0,n.Z)(e,c);return u=(0,l.vE)(u,"popover-header"),i.createElement(o,(0,a.Z)({ref:t},p,{className:s()(u,m)}),d)}));t.Z=u}}]);
//# sourceMappingURL=8174.e35df5b6.chunk.js.map