(window.webpackJsonp=window.webpackJsonp||[]).push([[142],{1006:function(e,t,n){"use strict";n.d(t,"f",(function(){return P})),n.d(t,"a",(function(){return N})),n.d(t,"h",(function(){return S})),n.d(t,"c",(function(){return B})),n.d(t,"e",(function(){return C})),n.d(t,"b",(function(){return I})),n.d(t,"i",(function(){return U})),n.d(t,"d",(function(){return R})),n.d(t,"g",(function(){return A}));var a=n(0),r=n.n(a),c=n(3),s=n(1),i=n.n(s),u=n(6),o=n.n(u),p=n(33),l=n.n(p),f=n(21),d=n(5),m=n(639),b=n.n(m),v=n(496),h=n(505),g=n(490),k=n(4),w=n(2);function O(e,t){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(r.a.mark((function e(t,n){var a,c,s,i,u,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.namespaceName,c=n.owner,s=void 0!==c&&c,e.prev=1,i="".concat(d.a,"/get_files?").concat(l.a.stringify({namespaceName:a,owner:s})),e.next=5,o.a.get(i);case 5:u=e.sent,p=u.data.files,t(E({files:p,owner:s})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Object(k.a)(t,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function x(e){return{type:w.W,payload:{license:e}}}function y(){return{type:w.Z}}function E(e){var t=e.files,n=e.owner;return{type:w.X,payload:{files:t,owner:n}}}var _=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(d.a+"/get_user_files");case 3:n=e.sent,t((a=n.data.files,{type:w.V,payload:{files:a}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(k.a)(t,e.t0);case 10:case"end":return e.stop()}var a}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){return Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_(e);case 2:case"end":return t.stop()}}),t)})))},F=function(){var e=Object(c.a)(r.a.mark((function e(t,n,a,c){var s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("".concat(d.a,"/delete_file"),{_id:n});case 3:s=e.sent,a?O(t,{namespaceName:a,owner:c}):t({type:w.p,payload:{id:n}}),Object(k.b)(t,{title:f.a.t("common:delete-file-title"),message:s.data.message,level:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),Object(k.a)(t,e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),N=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n,a,c){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e,n,a,c);case 2:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}()},L=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,s,u,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.formData,c=n.user,e.prev=1,s=l.a.stringify({namespaceName:a.get("namespaceName"),owner:a.get("owner"),jwt:c.token}),e.next=5,o.a.post(d.a+"/upload_file?"+s,a);case 5:return u=e.sent,O(t,{namespaceName:a.get("namespaceName"),owner:a.get("owner")}),(p={title:f.a.t("common:file-upload-title"),message:u.data.message,level:"success",position:"tl",autoDismiss:10}).children=i.a.createElement("div",{style:{marginBottom:30}},i.a.createElement(v.a,{placement:"bottom",overlay:i.a.createElement(h.a,{id:"ownerTooltip"},f.a.t("common:copy-link"))},i.a.createElement(g.a,{size:"sm",variant:"outline-secondary",style:{float:"right",marginRight:"10px"},onClick:function(){b()(d.a+"/"+u.data.filename),Object(k.b)(t,{title:f.a.t("common:copied-title"),message:f.a.t("common:link-copied"),level:"success",position:"tl"})}},i.a.createElement("i",{className:"fa fa-clipboard"}))),i.a.createElement(v.a,{placement:"bottom",overlay:i.a.createElement(h.a,{id:"ownerTooltip"},f.a.t("common:open-uploaded-file"))},i.a.createElement("a",{href:d.a+"/"+u.data.filename,target:"_blank",rel:"noopener noreferrer",style:{float:"right",marginRight:"10px"}},i.a.createElement(g.a,{size:"sm",variant:"outline-secondary"},i.a.createElement("i",{className:"fa fa-external-link-alt"}))))),e.abrupt("return",Object(k.b)(t,p));case 12:e.prev=12,e.t0=e.catch(1),Object(k.a)(t,e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.formData,c=n.user,t.next=3,L(e,{formData:a,user:c});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.namespaceName,t.next=3,O(e,{namespaceName:a});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.namespaceName,t.next=3,O(e,{namespaceName:a,owner:!0});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(d.a+"/get_all_files");case 3:n=e.sent,t({type:w.z,payload:{files:n.data.files}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(k.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){return Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:case"end":return t.stop()}}),t)})))},K=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,s,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.formData,c=n.user,e.prev=1,s=l.a.stringify({jwt:c.token}),e.next=5,o.a.post(d.a+"/upload_license?"+s,a);case 5:i=e.sent,Object(k.b)(t,{title:f.a.t("common:uploaded"),message:i.data.message,level:"success",position:"tl",autoDismiss:5}),t(x(i.data.license)),e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Object(k.a)(t,e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),U=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.formData,c=n.user,t.next=3,K(e,{formData:a,user:c});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=l.a.stringify({jwt:n.token}),e.next=4,o.a.get(d.a+"/get_license?"+a);case 4:c=e.sent,t(x(c.data.license)),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(k.a)(t,e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(d.a+"/remove_license");case 3:"ok"===e.sent.data.message&&t(y()),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.t0.message.includes("404")&&t(y()),e.abrupt("return",Object(k.a)(t,e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(e);case 2:case"end":return t.stop()}}),t)})))}},1126:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return k})),n.d(t,"a",(function(){return O}));var a=n(0),r=n.n(a),c=n(3),s=n(6),i=n.n(s),u=n(5),o=n(21),p=n(4),l=n(2),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.get(u.a+"/get_custom_fields");case 3:n=e.sent,t({type:l.F,payload:{customFields:n.data.fields}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(p.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),d=function(e){return Object(c.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:case"end":return t.stop()}}),t)})))},m=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post(u.a+"/increment_field_position",{id:n});case 3:a=e.sent,t({type:l.x,payload:{customFields:a.data.fields}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(p.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),b=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post(u.a+"/decrement_field_position",{id:n});case 3:a=e.sent,t({type:l.w,payload:{customFields:a.data.fields}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(p.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),h=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post(u.a+"/delete_custom_field",{id:n});case 3:a=e.sent,Object(p.b)(t,{title:o.a.t("common:deleted"),message:a.data.message,level:"success"}),t({type:l.n,payload:{id:n}}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(p.a)(t,e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),k=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(){var e=Object(c.a)(r.a.mark((function e(t,n){var a,c,s,f,d,m,b,v,h;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,c=n.description,s=n.type,f=n.options,d=n.position,m=n.showOnProfile,b=n.editableOnSignup,v=n.editableOnProfile,e.prev=1,e.next=4,i.a.post(u.a+"/create_custom_field",{name:a,description:c,type:s,options:f,position:d,showOnProfile:m,editableOnSignup:b,editableOnProfile:v});case 4:return h=e.sent,Object(p.b)(t,{title:o.a.t("common:created"),message:h.data.message,level:"success"}),t({type:l.i,payload:h.data.field}),e.abrupt("return",h);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",Object(p.a)(t,e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(e){return function(){var t=Object(c.a)(r.a.mark((function t(n){var a,c,s,i,u,o,p,l;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name,c=n.description,s=n.type,i=n.options,u=n.position,o=n.showOnProfile,p=n.editableOnSignup,l=n.editableOnProfile,t.next=3,w(e,{name:a,description:c,type:s,options:i,position:u,showOnProfile:o,editableOnSignup:p,editableOnProfile:l});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},4820:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(28),s=n(12),i=n(13),u=n(27),o=n(20),p=n(39),l=n(50),f=n(1048),d=n(990),m=n(10),b=Object(m.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(19),n.e(96)]).then(n.bind(null,4827))})),v=Object(m.a)((function(){return Promise.all([n.e(97),n.e(161)]).then(n.bind(null,4838))})),h=Object(m.a)((function(){return Promise.all([n.e(6),n.e(19),n.e(120)]).then(n.bind(null,3984))})),g=Object(m.a)((function(){return Promise.all([n.e(0),n.e(100)]).then(n.bind(null,3985))})),k=Object(m.a)((function(){return Promise.all([n.e(0),n.e(139)]).then(n.bind(null,3986))})),w=function(e){Object(o.a)(n,e);var t=Object(p.a)(n);function n(e){var a,r;switch(Object(s.a)(this,n),a=t.call(this,e),Object(l.a)(Object(u.a)(a),"handleSelect",(function(e){e=Number(e);var t=a.props.history;switch(e){case 0:t.replace("/admin/settings/license");break;case 1:t.replace("/admin/settings/configuration");break;case 2:t.replace("/admin/settings/branding");break;case 3:t.replace("/admin/settings/credentials");break;case 4:t.replace("/admin/settings/badges");break;case 5:t.replace("/admin/settings/user-fields");break;case 6:t.replace("/admin/settings/backups")}a.setState({activePage:e})})),e.match.params.subpage){default:case"license":r=0;break;case"configuration":r=1;break;case"branding":r=2;break;case"credentials":r=3;break;case"badges":r=4;break;case"user-fields":r=5;break;case"backups":r=6}return a.state={activePage:r},a}return Object(i.a)(n,[{key:"renderPage",value:function(){switch(this.state.activePage){case 0:return r.a.createElement(g,{admin:this.props.admin,uploadLicense:this.props.uploadLicense,getLicense:this.props.getLicense,user:this.props.user,removeLicense:this.props.removeLicense,getUsers:this.props.getUsers});case 1:return r.a.createElement(h,{admin:this.props.admin,user:this.props.user,getSettings:this.props.getSettings,updateSettings:this.props.updateSettings});case 2:return r.a.createElement(v,null);case 3:return r.a.createElement("div",null,"CREDENTIALS");case 4:return r.a.createElement("div",null,"BADGES");case 5:return r.a.createElement(b,{admin:this.props.admin,user:this.props.user,createCustomField:this.props.createCustomField,deleteCustomField:this.props.deleteCustomField,getCustomFields:this.props.getCustomFields,incrementFieldPosition:this.props.incrementFieldPosition,decrementFieldPosition:this.props.decrementFieldPosition});case 6:return r.a.createElement(k,{admin:this.props.admin,user:this.props.user,createBackup:this.props.createBackup,getBackups:this.props.getBackups,deleteBackup:this.props.deleteBackup})}}},{key:"render",value:function(){var e=this.renderPage(),t=this.props.t;return r.a.createElement("div",{className:"admin-settings-div"},r.a.createElement("div",{className:"admin-settings-navbar"},r.a.createElement(d.a,{variant:"pills",activeKey:this.state.activePage,onSelect:this.handleSelect},r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{eventKey:"0",title:"License"},t("license"))),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{eventKey:"1",title:"Configuration"},t("configuration"))),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{disabled:!0,eventKey:"2",title:"Branding"},t("branding"))),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{disabled:!0,eventKey:"3",title:"Credentials"},t("credentials"))),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{disabled:!0,eventKey:"4",title:"Badges"},t("common:badges"))),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{eventKey:"5",title:"User Fields"},t("user-fields"))),r.a.createElement(d.a.Item,null,r.a.createElement(d.a.Link,{eventKey:"6",title:"Backups"},t("backups"))))),r.a.createElement("div",{className:"admin-settings-container"},e))}}]),n}(a.Component),O=Object(f.a)(["admin_settings","common"])(w),j=n(70),x=n(4),y=n(1006),E=n(1126),_=n(0),P=n.n(_),F=n(3),N=n(6),L=n.n(N),S=n(5),B=n(21),C=n(2),D=function(){var e=Object(F.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(S.a+"/get_backups");case 3:n=e.sent,t({type:C.D,payload:{backups:n.data.backups}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(x.a)(t,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=function(e){return Object(F.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:case"end":return t.stop()}}),t)})))},K=function(){var e=Object(F.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(S.a+"/create_backup");case 3:n=e.sent,Object(x.b)(t,{title:B.a.t("common:created"),message:n.data.message,level:"success"}),t({type:C.h,payload:{backup:n.data.backup}}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(x.a)(t,e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){return Object(F.a)(P.a.mark((function t(){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,K(e);case 2:case"end":return t.stop()}}),t)})))},z=function(){var e=Object(F.a)(P.a.mark((function e(t,n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(S.a+"/delete_backup",{id:n});case 3:a=e.sent,Object(x.b)(t,{title:B.a.t("common:deleted"),message:a.data.message,level:"success"}),t({type:C.l,payload:{id:n}}),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",Object(x.a)(t,e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(e){return function(){var t=Object(F.a)(P.a.mark((function t(n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e,n);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},T=n(161);var A=Object(c.c)((function(e){return{admin:e.admin,user:e.user}}),(function(e){return{addNotification:Object(x.c)(e),getBackups:I(e),getUsers:Object(j.g)(e),createBackup:U(e),createCustomField:Object(E.a)(e),deleteBackup:R(e),deleteCustomField:Object(E.c)(e),getCustomFields:Object(E.d)(e),getLicense:Object(y.d)(e),getSettings:Object(T.b)(e),updateSettings:Object(T.c)(e),uploadLicense:Object(y.i)(e),removeLicense:Object(y.g)(e),incrementFieldPosition:Object(E.e)(e),decrementFieldPosition:Object(E.b)(e)}}))(O);t.default=A}}]);
//# sourceMappingURL=142.52eee911.chunk.js.map