(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[39963],{39963:function(e,t,n){"use strict";n.r(t);var a=n(6610),l=n(5991),i=n(10379),o=n(60446),s=n(73284),r=n(10077),p=n.n(r),u=n(9617),c=n(9548),d=n(72731),h=n(87950),m=n(87914),b=n(51992),v=n(10724),f=n(64001),g=p()("isle:data-explorer:contingency-table"),y=function(e){(0,i.Z)(n,e);var t=(0,o.Z)(n);function n(e){var l;return(0,a.Z)(this,n),(l=t.call(this,e)).state={relativeFreqs:!1,rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],group:null,nDecimalPlaces:3,variables:e.variables,display:[]},l}return(0,l.Z)(n,[{key:"generateContingencyTable",value:function(){var e=this.state,t=e.rowVar,n=e.colVar,a=e.group,l=e.relativeFreqs,i=e.nDecimalPlaces,o=e.display;if(!t||!n)return this.props.session.addNotification({title:"Select Variables",message:"You need to select a row and column variable for the contingency table",level:"warning",position:"tr"});var r=s.createElement(b.Z,{rowVar:t,colVar:n,group:a,relativeFreqs:l,nDecimalPlaces:i,display:o,data:this.props.data});this.props.logAction(v.lS,{rowVar:t,colVar:n,group:a,relativeFreqs:l,display:o}),this.props.onCreated(r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.variables,a=t.groupingVariables,l=t.t;return s.createElement(c.Z,null,s.createElement(c.Z.Header,{as:"h4"},l("Contingency Table"),s.createElement(f.Z,{title:l("Contingency Table"),content:l("Contingency Table-description")})),s.createElement(c.Z.Body,null,s.createElement(h.Z,{legend:l("row-variable"),defaultValue:this.state.rowVar,options:n,onChange:function(t){e.setState({rowVar:t})}}),s.createElement(h.Z,{legend:l("column-variable"),defaultValue:this.state.colVar,options:n,onChange:function(t){e.setState({colVar:t})}}),s.createElement(h.Z,{legend:l("group-by"),options:a,clearable:!0,menuPlacement:"top",onChange:function(t){e.setState({group:t})},tooltip:l("contingency-table-group-tooltip")}),s.createElement(d.Z,{legend:l("relative-frequency"),defaultValue:!1,onChange:function(){e.setState({relativeFreqs:!e.state.relativeFreqs})}}),s.createElement(h.Z,{legend:l("display"),options:["Row Percent","Column Percent"],multi:!0,onChange:function(t){e.setState({display:t||[]})}}),this.state.relativeFreqs||this.state.display.length>0?s.createElement("p",null,l("report-relative-frequencies"),s.createElement(m.Z,{inline:!0,width:50,max:16,min:0,defaultValue:this.state.nDecimalPlaces,onChange:function(t){e.setState({nDecimalPlaces:t})}}),l("decimal-places")):null,s.createElement(u.Z,{variant:"primary",block:!0,onClick:this.generateContingencyTable.bind(this)},l("generate"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.variables.length!==t.variables.length?(g("Available variables have changed..."),{rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],variables:e.variables}):null}}]),n}(s.Component);y.defaultProps={defaultRowVar:null,defaultColVar:null,groupingVariables:null,logAction:function(){}},t.default=y},64001:function(e,t,n){"use strict";var a=n(73284),l=n(9617),i=n(9874),o=n(36936),s=n(90105),r=n(69066);t.Z=function(e){var t=a.createElement(i.Z,{id:"popover-positioned-right"},a.createElement(o.Z,null,e.title),a.createElement(s.Z,null,e.content));return a.createElement(r.Z,{trigger:["hover","focus"],placement:"left",rootClose:!0,overlay:t},a.createElement(l.Z,{size:"sm",variant:"outline-secondary",className:"question-button"},a.createElement("div",{className:"fa fa-question"})))}},72731:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var a=n(28991),l=n(6610),i=n(5991),o=n(63349),s=n(10379),r=n(60446),p=n(96156),u=n(73284),c=n(83603),d=n.n(c),h=n(67775),m=n.n(h),b=n(38958),v=n.n(b),f=n(43200),g=n(84972),y=n(87651),Z=function(e){(0,s.Z)(c,e);var t=(0,r.Z)(c);function c(e,a){var i;(0,l.Z)(this,c),i=t.call(this,e),(0,p.Z)((0,o.Z)(i),"updateValue",(function(e){i.setState({value:e},(function(){i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,e))}))})),(0,p.Z)((0,o.Z)(i),"handleChange",(function(e){var t=e.target.checked;i.props.onChange(t),i.updateValue(t)})),(0,p.Z)((0,o.Z)(i),"handleSpanChange",(function(e){var t=null!==i.props.value?!i.props.value:!i.state.value;i.props.onChange(t),i.updateValue(t)}));var s=a;return i.state={value:e.bind&&s.state?s.state[e.bind]:e.defaultValue,bind:e.bind,defaultValue:e.defaultValue},i}return(0,i.Z)(c,[{key:"componentDidUpdate",value:function(){if(this.props.bind){var e=n.g.lesson.state[this.props.bind];e!==this.state.value&&this.setState({value:e})}}},{key:"render",value:function(){var e=this.state.value;null!==this.props.value&&(e=this.props.value);var t=u.createElement("input",{className:"checkbox-input",type:"checkbox",checked:e,value:"checkbox",onChange:this.handleChange,disabled:this.props.disabled,"aria-label":this.props.tooltip});if(!0===this.props.inline)return u.createElement(g.Z,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},u.createElement("span",{style:(0,a.Z)({marginLeft:"8px"},this.props.style)},t,u.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:this.handleSpanChange,onKeyPress:this.handleSpanChange},this.props.legend)));var n=this.props.disabled?v():this.handleSpanChange;return u.createElement(g.Z,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},u.createElement("div",{className:"input checkbox-input-div",style:this.props.style},t,u.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:n,onKeyPress:n},this.props.legend)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.defaultValue!==t.defaultValue?(a.value=e.defaultValue,a.defaultValue=e.defaultValue):e.bind!==t.bind&&(a.value=n.g.lesson.state[e.bind],a.bind=e.bind),m()(a)?null:a}}]),c}(f.Z);Z.defaultProps={bind:"",onChange:function(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}},Z.propTypes={bind:d().string,defaultValue:d().bool,value:d().bool,disabled:d().bool,inline:d().bool,onChange:d().func,legend:d().oneOfType([d().string,d().node]),tooltip:d().string,tooltipPlacement:d().oneOf(["left","top","right","bottom"]),style:d().object},Z.contextType=y.Z;var C=Z},87914:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var a=n(28991),l=n(6610),i=n(5991),o=n(63349),s=n(10379),r=n(60446),p=n(96156),u=n(73284),c=n(83603),d=n.n(c),h=n(10077),m=n.n(h),b=n(43200),v=n(24833),f=n.n(v),g=n(75209),y=n.n(g),Z=n(52015),C=n(40231),V=n(67775),E=n.n(V),x=n(40867),P=n.n(x),S=n(66785),k=n.n(S),w=n(84972),K=n(87651),F=n(20216);var D=function(e){var t="Enter a".concat(1===e.step?"n integer":" number"," ");return e.max!==P()&&e.min!==k()?t+="between ".concat(e.min," and ").concat(e.max):e.min!==k()?t+="larger or equal to ".concat(e.min):e.max!==P()&&(t+="smaller or equal to ".concat(e.max)),t},q=m()("isle:number-input"),T=(0,F.Z)("number-input"),N=function(e){(0,s.Z)(c,e);var t=(0,r.Z)(c);function c(e,a){var i;(0,l.Z)(this,c),i=t.call(this,e),(0,p.Z)((0,o.Z)(i),"handleChange",(function(e){q("Handle change of input field...");var t=e.target.validity.valid,a=e.target.value;i.setState({value:a},(function(){i.props.value||t&&""!==a&&"-"!==a&&"."!==a&&"-."!==a?(a=parseFloat(a),y()(a)&&(a=""),i.props.onChange(a),i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,a))):i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,a))}))})),(0,p.Z)((0,o.Z)(i),"finishChange",(function(e){var t=i.props,a=t.max,l=t.min,o=t.step;q("Finished change...");var s=e.target.value;if(f()(s,"/")){q("Encountered a fraction...");var r=s.split("/");""!==r[0]&&""!==r[1]&&(s=parseFloat(r[0])/parseFloat(r[1]))}y()(s)?s="":""!==s&&"-"!==s&&"."!==s&&"-."!==s&&(s=parseFloat(s)),s>a?s=a:s<l?s=l:1===o&&""!==s&&"-"!==s&&"."!==s&&"-."!==s&&(s-=s%i.props.step),i.props.onChange(s),i.props.onBlur(s),s!==i.state.value&&i.setState({value:s},(function(){i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,s))}))}));var s=a;return i.id=e.id||T(e),i.state={value:e.value||(e.bind&&s.state?s.state[e.bind]:e.defaultValue),tooltip:e.tooltip||D(e),prevProps:e},i}return(0,i.Z)(c,[{key:"componentDidUpdate",value:function(){if(q("Component did update..."),this.props.bind){var e=n.g.lesson.state[this.props.bind];e!==this.state.value&&(0,C.isPrimitive)(this.state.value)&&this.setState({value:e})}}},{key:"render",value:function(){var e=this.state.value;if(null!==this.props.value&&(e=this.props.value),!0===this.props.inline){var t=u.createElement("span",{className:"input",style:(0,a.Z)({padding:"5px"},this.props.style)},this.props.legend?u.createElement("label",{htmlFor:this.id}," ",this.props.legend," =  "):null,u.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:(0,a.Z)({width:"80px",paddingLeft:"6px",marginLeft:"3px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"}),this.props.description?u.createElement("span",null,"(",this.props.description,")"):u.createElement("span",null));return this.props.disabled?t:u.createElement(w.Z,{id:"number-input-tooltip-inline",placement:"top",tooltip:this.state.tooltip},t)}var n=u.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:(0,a.Z)({width:"80px",marginLeft:"24px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"});return u.createElement("div",{className:"input",style:(0,a.Z)({marginBottom:"4px",marginTop:"4px"},this.props.style)},this.props.legend?u.createElement("span",null,u.createElement("label",{htmlFor:this.id},(0,Z.isPrimitive)(this.props.legend)?this.props.legend+":":this.props.legend),this.props.description?u.createElement("span",null," ",this.props.description):null):null,u.createElement(w.Z,{id:"number-input-tooltip",placement:this.props.tooltipPlacement,tooltip:this.state.tooltip},u.createElement("span",{className:"number-input-span"},n)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},l=t.prevProps;return e.defaultValue!==l.defaultValue?a.value=e.defaultValue:e.bind!==l.bind&&(a.value=n.g.lesson.state[e.bind]),e.min!==l.min||e.max!==l.max?a.tooltip=e.tooltip||D(e):e.tooltip&&e.tooltip!==t.tooltip&&(a.tooltip=e.tooltip),E()(a)?null:(q("Created new state from props..."),a.prevProps=e,a)}}]),c}(b.Z);N.defaultProps={bind:"",disabled:!1,legend:null,min:k(),max:P(),step:1,defaultValue:0,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"},N.propTypes={bind:d().string,defaultValue:d().number,disabled:d().bool,inline:d().bool,legend:d().oneOfType([d().string,d().node]),max:d().number,min:d().number,numbersOnly:d().bool,onBlur:d().func,onChange:d().func,onKeyDown:d().func,onKeyPress:d().func,onKeyUp:d().func,step:d().oneOfType([d().number,d().string]),style:d().object,inputStyle:d().object,value:d().number,tooltip:d().string,tooltipPlacement:d().oneOf(["top","right","bottom","left"])},N.contextType=K.Z;var O=N}}]);
//# sourceMappingURL=39963.e18b5336.chunk.js.map