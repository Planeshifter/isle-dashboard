(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{4825:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),l=t(28),o=t(12),s=t(13),c=t(20),i=t(39),m=t(1051),h=t(1048),u=t(966),p=t.n(u),d=t(176),g=t.n(d),b=t(113),v=t.n(b),f=t(41),E=t.n(f),k=t(27),w=t(50),y=t(490),N=t(904),O=t(581),j=t(522),C=t(559),x=t(511),M=t(534),D=t(512),L=t.n(D),S=t(5);var T=function(e){Object(c.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(o.a)(this,t),r=a.call(this,e),Object(w.a)(Object(k.a)(r),"handleEnroll",(function(){var e=r.props.cohorts[r.state.checked]._id;r.props.addUserToCohort(e,r.props.namespace),r.setState({showModal:!1})})),Object(w.a)(Object(k.a)(r),"handleFormClick",(function(e){var a=e.target.checked,t=e.target.dataset.pos;a&&r.setState({checked:Number(t)})})),Object(w.a)(Object(k.a)(r),"toggleModal",(function(){r.setState({showModal:!r.state.showModal})})),r.state={showModal:!1,checked:null},r}return Object(s.a)(t,[{key:"renderOwners",value:function(){for(var e,a,t=[],r=this.props.namespace.owners.filter((function(e){return e.writeAccess})),l=g()(L()(r.length)),o=0;o<r.length;o+=l){for(var s=[],c=0;c<l;c++)s[c]=(e=r[o+c],a=o+c,e?n.a.createElement(j.a,{key:"owner-".concat(a),className:"enroll-page-course-teacher"},n.a.createElement("img",{className:"enroll-page-course-teacher-thumbnail",src:S.a+"/thumbnail/"+e.picture,alt:"Lesson Thumbnail"}),n.a.createElement("span",{className:"enroll-page-course-teacher-info"},n.a.createElement("span",{className:"enroll-page-courses-teacher-name"},e.name),n.a.createElement("br",null),n.a.createElement("span",{className:"enroll-page-course-teacher-email"},n.a.createElement("a",{href:"mailto:"+e.email},e.email)))):null);t.push(n.a.createElement(O.a,{key:"row-".concat(o)},s))}return n.a.createElement("div",{className:"enroll-page-course-owner-wrapper"},n.a.createElement(N.a,{className:"enroll-page-course-owners"},t))}},{key:"renderAvailableCohorts",value:function(){for(var e=[],a=0;a<this.props.cohorts.length;a++){var t=this.props.cohorts[a],l=new Date(t.startDate).toLocaleDateString(),o=new Date(t.endDate).toLocaleDateString(),s=n.a.createElement(r.Fragment,null,n.a.createElement("span",null,t.title),n.a.createElement("span",{className:"enroll-cohort-date"},l," - ",o));e.push(n.a.createElement(M.a,{id:a,key:a,"data-pos":a,type:"radio",checked:this.state.checked===a,label:s,name:"radioGroup",onChange:this.handleFormClick}))}return e}},{key:"render",value:function(){var e=this.props.t,a="enroll-page-course-item",t=e("common:enroll");return!1===this.props.enrollable&&(a="enroll-item-deactivated",t=e("already-enrolled")),n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:a},n.a.createElement("h1",null,this.props.namespace.title),n.a.createElement("div",{className:"enroll-page-course-description"},this.props.namespace.description),this.renderOwners(),n.a.createElement(y.a,{size:"sm",className:"enroll-button",disabled:!this.props.enrollable,onClick:this.toggleModal},t)),n.a.createElement(C.a,{onHide:this.toggleModal,show:this.state.showModal},n.a.createElement(C.a.Header,{closeButton:!0},n.a.createElement("h1",null,this.props.namespace.title)),n.a.createElement(C.a.Body,null,n.a.createElement("div",{className:"enroll-page-cohort-information"},"(",e("select-cohort"),")"),n.a.createElement("div",{className:"enroll-page-cohorts-list"},n.a.createElement(x.a,null,this.renderAvailableCohorts(this.props.cohorts))),n.a.createElement(y.a,{onClick:this.handleEnroll,size:"sm",className:"enroll-button-modal"},e("enroll-in-course")))))}}]),t}(r.Component),A=Object(m.WidthProvider)(m.Responsive),F=function(e){Object(c.a)(t,e);var a=Object(i.a)(t);function t(e){var r;return Object(o.a)(this,t),(r=a.call(this,e)).state={},r}return Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCohorts(this.props.user)}},{key:"createLayout",value:function(e){var a=3.72,t=e.map((function(e,t){return{lg:{i:"cell-".concat(t),x:6*t%24,y:g()(t/4)*a,w:6,h:a},md:{i:"cell-".concat(t),x:6*t%18,y:g()(t/3)*a,w:6,h:a},sm:{i:"cell-".concat(t),x:6*t%12,y:g()(t/2)*a,w:6,h:a},xs:{i:"cell-".concat(t),x:6*t%6,y:g()(t/1)*a,w:6,h:a}}}));return t={lg:p()(t,"lg"),md:p()(t,"md"),sm:p()(t,"sm"),xs:p()(t,"xs")}}},{key:"checkEnrollable",value:function(e){for(var a=this.props.user,t=0;t<a.enrolledNamespaces.length;t++)if(a.enrolledNamespaces[t].title===e)return!1;return!0}},{key:"renderCourses",value:function(){var e=this.props.cohorts;if(!e)return null;e=e.filter((function(e){return e.namespace}));for(var a=v()(e,(function(e){return e.namespace.title})),t=E()(a),r=new Array(t.length),l=0;l<t.length;l++){var o=t[l];r[l]=n.a.createElement("div",{className:"enroll-page-course",key:"cell-".concat(l)},n.a.createElement(T,{addUserToCohort:this.props.addUserToCohort,enrollable:this.checkEnrollable(o),namespace:a[o][0].namespace,user:this.props.user,cohorts:a[o],t:this.props.t}))}var s=this.createLayout(t);return n.a.createElement(A,{margin:[20,20],containerPadding:[10,10],layouts:s,breakpoints:{lg:1800,md:1400,sm:900,xs:500},cols:{lg:24,md:18,sm:12,xs:6},isResizable:!1,isDraggable:!1,rowHeight:60},r)}},{key:"render",value:function(){return n.a.createElement("div",{className:"enroll-page"},n.a.createElement("img",{className:"enroll-page-background",src:"img/pexels_background.jpeg",alt:""}),n.a.createElement("div",{className:"enroll-page-content"},this.renderCourses()))}}]),t}(r.Component),U=Object(h.a)(["enroll_page","common"])(F),z=t(57);var H=Object(l.c)((function(e){return{cohorts:e.cohorts,user:e.user}}),(function(e){return{addUserToCohort:Object(z.a)(e),fetchCohorts:Object(z.g)(e)}}))(U);a.default=H}}]);
//# sourceMappingURL=170.0def6897.chunk.js.map