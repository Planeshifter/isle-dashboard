{"version":3,"sources":["../node_modules/@isle-project/components/data-explorer/question_button.js","../node_modules/@isle-project/components/data-explorer/summary_statistics.js","../node_modules/@isle-project/components/input/checkbox/main.js","../node_modules/@isle-project/components/input/checkbox/index.js","../node_modules/@stdlib/stdlib/lib/node_modules/@stdlib/utils/papply-right/lib/index.js","../node_modules/@stdlib/stdlib/lib/node_modules/@stdlib/utils/papply-right/lib/papply_right.js"],"names":["props","popover","id","title","content","trigger","placement","rootClose","overlay","size","variant","className","DESCRIPTION","SORT_OPTS","QUANTILE_OPTIONS","map","x","label","value","Option","Popover","data","PopoverContent","STAT_DESCRIPTIONS","i18n","key","style","opacity","isSelected","OverlayTrigger","Button","float","fontSize","onClick","event","stopPropagation","GroupHeading","children","SummaryStatisticsMenu","central","location","variation","relationship","shape","i","statistics","length","e","push","statistic","options","t","state","selectedStats","variables","secondVariable","group","omit","funs","statLabels","stat","j","quantiles","quantile","papplyRight","round","result","arrs","groupData","groupLabel","g","join","indices","len","complete","isNumber","isnan","out","Array","k","idx","groupedCompleteCases","groupedCases","arr","completeCases","keys","objectKeys","f","apply","output","type","logAction","DATA_EXPLORER_SUMMARY_STATISTICS","onCreated","res","y","variable","showSecondVarSelect","first","second","arr1","arr2","factor","ret1","ret2","isArray","extractUsedCategories","sort","a","b","localeCompare","by2WithCount","mat","table","cat1","categories","cat2","as","split","bs","diff","indexOf","byWithCount","selectedStat","defaultStatistic","defaultX","defaultY","showQuantiles","createStatisticsOptions","this","groupingVariables","Card","FormGroup","controlId","tooltip","FormLabel","isMulti","components","hideSelectedOptions","onChange","labels","fiveNumberSummary","lastLabel","setState","shift","slice","additions","contains","splice","includes","styles","selectStyles","menuPlacement","menuPortalTarget","document","body","menuShouldScrollIntoView","legend","defaultValue","multi","isClearable","placeholder","display","block","generateStatistics","disabled","Component","defaultProps","CheckboxInput","context","newValue","bind","global","lesson","target","checked","updateValue","session","globalVal","input","handleChange","aria-label","inline","tooltipPlacement","marginLeft","role","tabIndex","color","handleSpanChange","onKeyPress","onSpanChange","noop","nextProps","prevState","newState","isEmptyObject","Input","propTypes","PropTypes","contextType","SessionContext","module","exports","isFunction","fcn","pargs","TypeError","arguments","pappliedRight","nargs","args"],"mappings":"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","file":"static/js/34196.c6907500.chunk.js","sourcesContent":["// MODULES //\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from 'react-bootstrap/Button';\nimport Popover from 'react-bootstrap/Popover';\nimport PopoverTitle from 'react-bootstrap/PopoverTitle';\nimport PopoverContent from 'react-bootstrap/PopoverContent';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\n\n\n// MAIN //\n\nconst QuestionButton = ( props ) => {\n\tconst popover = <Popover id=\"popover-positioned-right\">\n\t\t<PopoverTitle>{props.title}</PopoverTitle>\n\t\t<PopoverContent>{props.content}</PopoverContent>\n\t</Popover>;\n\treturn (\n\t\t<OverlayTrigger trigger={['hover', 'focus']} placement=\"left\" rootClose overlay={popover}>\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\tclassName=\"question-button\"\n\t\t\t>\n\t\t\t\t<div className=\"fa fa-question\" />\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t);\n};\n\nQuestionButton.propTypes = {\n\t'content': PropTypes.oneOfType([ PropTypes.string, PropTypes.node ]).isRequired,\n\t'title': PropTypes.string.isRequired\n};\n\n\n// EXPORTS //\n\nexport default QuestionButton;\n","// MODULES //\n\nimport React, { Component } from 'react';\nimport { i18n } from '@isle-project/locales';\nimport PropTypes from 'prop-types';\nimport Select, { components } from 'react-select';\nimport Card from 'react-bootstrap/Card';\nimport Button from 'react-bootstrap/Button';\nimport FormGroup from 'react-bootstrap/FormGroup';\nimport FormLabel from 'react-bootstrap/FormLabel';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport PopoverContent from 'react-bootstrap/PopoverContent';\nimport SelectInput from '@isle-project/components/input/select';\nimport selectStyles from '@isle-project/components/input/select/styles';\nimport Tooltip from '@isle-project/components/tooltip';\nimport statistic from '@isle-project/utils/statistic';\nimport contains from '@stdlib/assert/contains';\nimport objectKeys from '@stdlib/utils/keys';\nimport isArray from '@stdlib/assert/is-array';\nimport papplyRight from '@stdlib/utils/papply-right';\nimport round from '@stdlib/math/base/special/round';\nimport CheckboxInput from '@isle-project/components/input/checkbox';\nimport CreatableSelect from 'react-select/creatable';\nimport QuestionButton from './question_button.js';\nimport { isPrimitive as isNumber } from '@stdlib/assert/is-number';\nimport isnan from '@stdlib/assert/is-nan';\nimport { DATA_EXPLORER_SUMMARY_STATISTICS } from '@isle-project/constants/actions.js';\nimport extractUsedCategories from '@isle-project/utils/extract-used-categories';\nimport STAT_DESCRIPTIONS from './statistics_descriptions.json';\n\n\n// VARIABLES //\n\nconst DESCRIPTION = <span>Compute various statistics of interest, i.e. summary measures of the <i>quantitative</i> variables in the data set.</span>;\nconst SORT_OPTS = {\n\t'numeric': true // Use numeric collation such that \"1\" < \"2\" < \"10\"...\n};\nconst QUANTILE_OPTIONS = [ 0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9 ].map( x => createOption( x ) );\nconst Option = props => {\n\tconst popover = <Popover id={`${props.data.label}-popover`}>\n\t\t<PopoverContent>{STAT_DESCRIPTIONS[ i18n.language ][ props.data.label]}</PopoverContent>\n\t</Popover>;\n\treturn ( <components.Option key={props.data.label} {...props} >\n\t\t<span style={{\n\t\t\topacity: props.isSelected ? 0.5 : 1\n\t\t}}>{i18n.t( 'DataExplorer:'+props.data.label )}</span>\n\t\t<OverlayTrigger\n\t\t\ttrigger={['hover', 'click']}\n\t\t\tplacement=\"right\" rootClose overlay={popover}\n\t\t>\n\t\t\t<Button\n\t\t\t\tsize=\"sm\"\n\t\t\t\tvariant=\"outline-secondary\"\n\t\t\t\tclassName=\"question-button\"\n\t\t\t\tstyle={{ float: 'right', fontSize: 14 }}\n\t\t\t\tonClick={( event ) => event.stopPropagation()}\n\t\t\t>\n\t\t\t\t<span className=\"fa fa-question\" />\n\t\t\t</Button>\n\t\t</OverlayTrigger>\n\t</components.Option> );\n};\nconst GroupHeading = props => {\n\tprops = { ...props };\n\tprops.children = i18n.t( 'DataExplorer:'+props.children );\n\treturn <components.GroupHeading {...props} />;\n};\n\n\n// FUNCTIONS //\n\nfunction createOption( label ) {\n\treturn {\n\t\tlabel,\n\t\tvalue: label\n\t};\n}\n\nfunction byWithCount( arr, factor, funs, group ) {\n\tlet table = {};\n\tfor ( let i = 0; i < arr.length; i++ ) {\n\t\tif ( !isArray( table[ factor[ i ] ]) ) {\n\t\t\ttable[ factor[ i ] ] = [];\n\t\t}\n\t\ttable[ factor[ i ] ].push( arr[ i ]);\n\t}\n\tlet keys = objectKeys( table );\n\tif ( group.length === 2 ) {\n\t\tconst cat1 = group[ 0 ].categories;\n\t\tconst cat2 = group[ 1 ].categories;\n\t\tif ( cat1 && cat2 ) {\n\t\t\tkeys.sort( ( a, b ) => {\n\t\t\t\tconst as = a.split( ':' );\n\t\t\t\tconst bs = b.split( ':' );\n\t\t\t\tlet diff = cat1.indexOf( as[ 0 ] ) - cat1.indexOf( bs[ 0 ] );\n\t\t\t\tif ( diff !== 0 ) {\n\t\t\t\t\treturn diff;\n\t\t\t\t}\n\t\t\t\tdiff = cat2.indexOf( as[ 1 ] ) - cat2.indexOf( bs[ 1 ] );\n\t\t\t\treturn diff;\n\t\t\t});\n\t\t}\n\t\telse if ( cat1 ) {\n\t\t\tkeys.sort( ( a, b ) => {\n\t\t\t\tconst as = a.split( ':' );\n\t\t\t\tconst bs = b.split( ':' );\n\t\t\t\tlet diff = cat1.indexOf( as[ 0 ] ) - cat1.indexOf( bs[ 0 ] );\n\t\t\t\tif ( diff !== 0 ) {\n\t\t\t\t\treturn diff;\n\t\t\t\t}\n\t\t\t\treturn as[ 1 ].localeCompare( bs[ 1 ], void 0, SORT_OPTS );\n\t\t\t});\n\t\t}\n\t\telse if ( cat2 ) {\n\t\t\tkeys.sort( ( a, b ) => {\n\t\t\t\tconst as = a.split( ':' );\n\t\t\t\tconst bs = b.split( ':' );\n\t\t\t\tlet diff = as[ 0 ].localeCompare( bs[ 0 ], void 0, SORT_OPTS );\n\t\t\t\tif ( diff !== 0 ) {\n\t\t\t\t\treturn diff;\n\t\t\t\t}\n\t\t\t\tdiff = cat2.indexOf( as[ 1 ] ) - cat2.indexOf( bs[ 1 ] );\n\t\t\t\treturn diff;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tkeys.sort( ( a, b ) => a.localeCompare( b, void 0, SORT_OPTS ) );\n\t\t}\n\t} else if ( group.length === 1 && group[ 0 ].categories ) {\n\t\tkeys = extractUsedCategories( table, group[ 0 ] );\n\t} else {\n\t\tkeys.sort( ( a, b ) => a.localeCompare( b, void 0, SORT_OPTS ) );\n\t}\n\tconst out = {};\n\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\tconst key = keys[ i ];\n\t\tout[ key ] = {\n\t\t\tvalue: funs.map( f => f( table[ key ] ) ),\n\t\t\tsize: table[ key ].length\n\t\t};\n\t}\n\treturn out;\n}\n\nfunction by2WithCount( arr1, arr2, factor, funs, group ) {\n\tlet result = {};\n\tlet ret1 = {};\n\tlet ret2 = {};\n\tfor ( let i = 0; i < factor.length; i++ ) {\n\t\tif ( !isArray( ret1[ factor[ i ] ]) ) {\n\t\t\tret1[ factor[ i ] ] = [];\n\t\t\tret2[ factor[ i ] ] = [];\n\t\t}\n\t\tret1[ factor[ i ] ].push( arr1[ i ]);\n\t\tret2[ factor[ i ] ].push( arr2[ i ]);\n\t}\n\tlet keys;\n\tif ( group.length === 1 ) {\n\t\tkeys = extractUsedCategories( ret1, group[ 0 ] );\n\t} else {\n\t\tkeys = objectKeys( ret1 );\n\t\tkeys.sort( ( a, b ) => a.localeCompare( b, void 0, SORT_OPTS ) );\n\t}\n\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\tconst key = keys[ i ];\n\t\tresult[ key ] = {\n\t\t\tvalue: funs.map( f => f( ret1[ key ], ret2[ key ]) ),\n\t\t\tsize: ret1[ key ].length\n\t\t};\n\t}\n\treturn { keys, result };\n}\n\nfunction groupedCompleteCases( arrs, groupData ) {\n\tconst indices = [];\n\tconst len = arrs[ 0 ].length;\n\tfor ( let j = 0; j < len; j++ ) {\n\t\tlet complete = true;\n\t\tfor ( let i = 0; i < arrs.length; i++ ) {\n\t\t\tconst x = arrs[ i ][ j ];\n\t\t\tif ( !isNumber( x ) || isnan( x ) ) {\n\t\t\t\tcomplete = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif ( complete ) {\n\t\t\tindices.push( j );\n\t\t}\n\t}\n\tconst out = {};\n\tfor ( let i = 0; i < arrs.length; i++ ) {\n\t\tfor ( let j = 0; j < indices.length; j++ ) {\n\t\t\tconst group = groupData[ indices[ j ] ];\n\t\t\tif ( !out[ group ] ) {\n\t\t\t\tout[ group ] = new Array( arrs.length );\n\t\t\t\tfor ( let k = 0; k < arrs.length; k++ ) {\n\t\t\t\t\tout[ group ][ k ] = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst idx = indices[ j ];\n\t\t\tout[ group ][ i ].push( arrs[ i ][ idx ] );\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction groupedCases( arrs, groupData ) {\n\tconst out = {};\n\tconst len = arrs[ 0 ].length;\n\tfor ( let i = 0; i < arrs.length; i++ ) {\n\t\tfor ( let j = 0; j < len; j++ ) {\n\t\t\tconst group = groupData[ j ];\n\t\t\tif ( !out[ group ] ) {\n\t\t\t\tout[ group ] = new Array( arrs.length );\n\t\t\t\tfor ( let k = 0; k < arrs.length; k++ ) {\n\t\t\t\t\tout[ group ][ k ] = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tout[ group ][ i ].push( arrs[ i ][ j ] );\n\t\t}\n\t}\n\treturn out;\n}\n\nfunction completeCases( arrs ) {\n\tconst indices = [];\n\tconst len = arrs[ 0 ].length;\n\tfor ( let j = 0; j < len; j++ ) {\n\t\tlet complete = true;\n\t\tfor ( let i = 0; i < arrs.length; i++ ) {\n\t\t\tconst x = arrs[ i ][ j ];\n\t\t\tif ( !isNumber( x ) || isnan( x ) ) {\n\t\t\t\tcomplete = false;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif ( complete ) {\n\t\t\tindices.push( j );\n\t\t}\n\t}\n\tconst out = new Array( arrs.length );\n\tfor ( let i = 0; i < arrs.length; i++ ) {\n\t\tconst arr = new Array( indices.length );\n\t\tfor ( let j = 0; j < indices.length; j++ ) {\n\t\t\tconst idx = indices[ j ];\n\t\t\tarr[ j ] = arrs[ i ][ idx ];\n\t\t}\n\t\tout[ i ] = arr;\n\t}\n\treturn out;\n}\n\n\n// MAIN //\n\nclass SummaryStatisticsMenu extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tconst selectedStat = props.defaultStatistic;\n\t\tthis.state = {\n\t\t\tselectedStats: selectedStat ? [{\n\t\t\t\tvalue: statistic( selectedStat ),\n\t\t\t\tlabel: selectedStat\n\t\t\t}] : null,\n\t\t\tvariables: props.defaultX ? [ props.defaultX ] : [],\n\t\t\tsecondVariable: props.defaultY,\n\t\t\tgroup: null,\n\t\t\tshowSecondVarSelect: false,\n\t\t\tshowQuantiles: false,\n\t\t\tquantiles: [],\n\t\t\tomit: false\n\t\t};\n\t\tthis.createStatisticsOptions();\n\t}\n\n\tcreateStatisticsOptions = () => {\n\t\tconst central = [];\n\t\tconst location = [];\n\t\tconst variation = [];\n\t\tconst relationship = [];\n\t\tconst shape = [];\n\t\tfor ( let i = 0; i < this.props.statistics.length; i++ ) {\n\t\t\tconst e = this.props.statistics[ i ];\n\t\t\tswitch ( e ) {\n\t\t\t\tcase 'Mean':\n\t\t\t\tcase 'Median':\n\t\t\t\t\tcentral.push({ 'label': e, 'value': statistic( e ) });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'First Quartile':\n\t\t\t\tcase 'Third Quartile':\n\t\t\t\tcase 'Quantile':\n\t\t\t\tcase 'Min':\n\t\t\t\tcase 'Max':\n\t\t\t\t\tlocation.push({ 'label': e, 'value': statistic( e ) });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Five-Number Summary':\n\t\t\t\t\tlocation.push({ 'label': e, value: null });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Range':\n\t\t\t\tcase 'Interquartile Range':\n\t\t\t\tcase 'Standard Deviation':\n\t\t\t\tcase 'Variance':\n\t\t\t\t\tvariation.push({ 'label': e, 'value': statistic( e ) });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Correlation':\n\t\t\t\tcase 'Correlation Matrix':\n\t\t\t\t\trelationship.push({ 'label': e, 'value': statistic( e ) });\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Skewness':\n\t\t\t\tcase 'Excess Kurtosis':\n\t\t\t\t\tshape.push({ 'label': e, 'value': statistic( e ) });\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.statistics = [\n\t\t\t{\n\t\t\t\tlabel: 'central-tendency-measures',\n\t\t\t\toptions: central\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'variation-measures',\n\t\t\t\toptions: variation\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'other-location-measures',\n\t\t\t\toptions: location\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'relationship-measures',\n\t\t\t\toptions: relationship\n\t\t\t},\n\t\t\t{\n\t\t\t\tlabel: 'shape-measures',\n\t\t\t\toptions: shape\n\t\t\t}\n\t\t];\n\t}\n\n\tgenerateStatistics = () => {\n\t\tconst { data, t } = this.props;\n\t\tlet { selectedStats, variables, secondVariable, group, omit } = this.state;\n\t\tgroup = group ? group.map( x => x.value ) : null;\n\t\tconst funs = [];\n\t\tconst statLabels = [];\n\t\tfor ( let i = 0; i < selectedStats.length; i++ ) {\n\t\t\tconst stat = selectedStats[ i ];\n\t\t\tif ( stat.label === 'Quantile' ) {\n\t\t\t\tfor ( let j = 0; j < this.state.quantiles.length; j++ ) {\n\t\t\t\t\tconst quantile = this.state.quantiles[ j ].value;\n\t\t\t\t\tfuns.push(\n\t\t\t\t\t\tpapplyRight( stat.value, quantile, 5 )\n\t\t\t\t\t);\n\t\t\t\t\tstatLabels.push(\n\t\t\t\t\t\t`${round( quantile*100 )}% ${t('quantile')}`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfuns.push( stat.value );\n\t\t\t\tstatLabels.push( stat.label );\n\t\t\t}\n\t\t}\n\n\t\tif ( statLabels[ 0 ] === 'Correlation Matrix' ) {\n\t\t\tlet arrs = variables.map( x => data[ x ] );\n\t\t\tif ( group ) {\n\t\t\t\tlet groupData;\n\t\t\t\tif ( group.length === 2 ) {\n\t\t\t\t\tgroupData = [];\n\t\t\t\t\tfor ( let i = 0; i < arrs[ 0 ].length; i++ ) {\n\t\t\t\t\t\tconst groupLabel = group.map( g => {\n\t\t\t\t\t\t\treturn data[ g ][ i ];\n\t\t\t\t\t\t}).join( ':' );\n\t\t\t\t\t\tgroupData.push( groupLabel );\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgroupData = data[ group[ 0 ] ];\n\t\t\t\t}\n\t\t\t\tif ( omit ) {\n\t\t\t\t\tarrs = groupedCompleteCases( arrs, groupData );\n\t\t\t\t} else {\n\t\t\t\t\tarrs = groupedCases( arrs, groupData );\n\t\t\t\t}\n\t\t\t} else if ( omit ) {\n\t\t\t\tarrs = completeCases( arrs );\n\t\t\t}\n\t\t\tlet result;\n\t\t\tif ( group ) {\n\t\t\t\tresult = {};\n\t\t\t\tconst keys = objectKeys( arrs );\n\t\t\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\t\t\tresult[ keys[ i ] ] = {\n\t\t\t\t\t\tvalue: funs.map( f => f.apply( null, arrs[ keys[ i ] ] ) )[ 0 ],\n\t\t\t\t\t\tsize: arrs[ keys[ i ] ][ 0 ].length\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst value = funs.map( f => f.apply( null, arrs ) );\n\t\t\t\tresult = {\n\t\t\t\t\tvalue: value[ 0 ],\n\t\t\t\t\tsize: arrs[ 0 ].length\n\t\t\t\t};\n\t\t\t}\n\t\t\tconst output = {\n\t\t\t\tvariables: variables,\n\t\t\t\tstatistics: statLabels,\n\t\t\t\ttype: 'Statistics',\n\t\t\t\tresult,\n\t\t\t\tgroup\n\t\t\t};\n\t\t\tthis.props.logAction( DATA_EXPLORER_SUMMARY_STATISTICS, {\n\t\t\t\tstatistic: statLabels,\n\t\t\t\tvariables,\n\t\t\t\tgroup\n\t\t\t});\n\t\t\treturn this.props.onCreated( output );\n\t\t}\n\t\tconst result = {};\n\t\tfor ( let i = 0; i < variables.length; i++ ) {\n\t\t\tlet groupData;\n\t\t\tlet res;\n\t\t\tlet x;\n\t\t\tlet y;\n\t\t\tconst variable = variables[ i ];\n\t\t\tif ( group ) {\n\t\t\t\tif ( omit ) {\n\t\t\t\t\t// Case: grouping variable selected, omit missing values\n\t\t\t\t\tx = [];\n\t\t\t\t\ty = [];\n\t\t\t\t\tgroupData = [];\n\t\t\t\t\tif ( variable && this.state.showSecondVarSelect ) {\n\t\t\t\t\t\tlet first = data[ variable ];\n\t\t\t\t\t\tlet second = data[ secondVariable ];\n\t\t\t\t\t\tfor ( let i = 0; i < first.length; i++ ) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( isNumber( first[ i ] ) && !isnan( first[ i ] ) ) &&\n\t\t\t\t\t\t\t\t( isNumber( second[ i ] ) && !isnan( second[ i ] ) )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tx.push( first[ i ] );\n\t\t\t\t\t\t\t\ty.push( second[ i ] );\n\t\t\t\t\t\t\t\tconst groupLabel = group.map( g => {\n\t\t\t\t\t\t\t\t\treturn data[ g ][ i ];\n\t\t\t\t\t\t\t\t}).join( ':' );\n\t\t\t\t\t\t\t\tgroupData.push( groupLabel );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet first = data[ variable ];\n\t\t\t\t\t\tfor ( let i = 0; i < first.length; i++ ) {\n\t\t\t\t\t\t\tif ( isNumber( first[ i ] ) && !isnan( first[ i ] ) ) {\n\t\t\t\t\t\t\t\tx.push( first[ i ] );\n\t\t\t\t\t\t\t\tconst groupLabel = group.map( g => {\n\t\t\t\t\t\t\t\t\treturn data[ g ][ i ];\n\t\t\t\t\t\t\t\t}).join( ':' );\n\t\t\t\t\t\t\t\tgroupData.push( groupLabel );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Case: grouping variable(s) selected, do not omit missing values\n\t\t\t\t\tx = data[ variable ];\n\t\t\t\t\ty = data[ secondVariable ];\n\t\t\t\t\tif ( group.length === 2 ) {\n\t\t\t\t\t\tgroupData = [];\n\t\t\t\t\t\tfor ( let i = 0; i < data[ variable ].length; i++ ) {\n\t\t\t\t\t\t\tconst groupLabel = group.map( g => {\n\t\t\t\t\t\t\t\treturn data[ g ][ i ];\n\t\t\t\t\t\t\t}).join( ':' );\n\t\t\t\t\t\t\tgroupData.push( groupLabel );\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgroupData = data[ group[ 0 ] ];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif ( statLabels[ 0 ] === 'Correlation' ) {\n\t\t\t\t\tconst out = by2WithCount( x, y, groupData, funs, group );\n\t\t\t\t\tres = out.result;\n\t\t\t\t\tconst keys = out.keys;\n\t\t\t\t\tfor ( let i = 0; i < keys.length; i++ ) {\n\t\t\t\t\t\tconst key = keys[ i ];\n\n\t\t\t\t\t\t// Extract correlation coefficient from correlation matrix:\n\t\t\t\t\t\tres[ key ].value = res[ key ].value.map( mat => mat[ 0 ][ 1 ] );\n\t\t\t\t\t}\n\t\t\t\t\tvariable = `${variable} ${t('vs')} ${secondVariable}`;\n\t\t\t\t} else {\n\t\t\t\t\tres = byWithCount( x, groupData, funs, group );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Case: no grouping variable selected\n\t\t\t\tif ( omit ) {\n\t\t\t\t\tx = [];\n\t\t\t\t\ty = [];\n\t\t\t\t\tif ( variable && this.state.showSecondVarSelect ) {\n\t\t\t\t\t\tlet first = data[ variable ];\n\t\t\t\t\t\tlet second = data[ secondVariable ];\n\t\t\t\t\t\tfor ( let i = 0; i < first.length; i++ ) {\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t( isNumber( first[ i ] ) && !isnan( first[ i ] ) ) &&\n\t\t\t\t\t\t\t\t( isNumber( second[ i ] ) && !isnan( second[ i ] ) )\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tx.push( first[ i ] );\n\t\t\t\t\t\t\t\ty.push( second[ i ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet first = data[ variable ];\n\t\t\t\t\t\tfor ( let i = 0; i < first.length; i++ ) {\n\t\t\t\t\t\t\tif ( isNumber( first[ i ] ) && !isnan( first[ i ] ) ) {\n\t\t\t\t\t\t\t\tx.push( first[ i ] );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tx = data[ variable ];\n\t\t\t\t\ty = data[ secondVariable ];\n\t\t\t\t}\n\t\t\t\tif ( statLabels[ 0 ] === 'Correlation' ) {\n\t\t\t\t\tconst value = funs.map( f => {\n\t\t\t\t\t\tconst r = f( x, y );\n\t\t\t\t\t\treturn r[ 0 ][ 1 ];\n\t\t\t\t\t});\n\n\t\t\t\t\t// Extract correlation coefficient from correlation matrix:\n\t\t\t\t\tres = {\n\t\t\t\t\t\tvalue,\n\t\t\t\t\t\tsize: x.length\n\t\t\t\t\t};\n\t\t\t\t\tvariable = `${variable} ${t('vs')} ${secondVariable}`;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tres = {\n\t\t\t\t\t\tvalue: funs.map( f => f( x ) ),\n\t\t\t\t\t\tsize: x.length\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tresult[ variable ] = res;\n\t\t}\n\t\tconst output = {\n\t\t\tvariables: variables,\n\t\t\tstatistics: statLabels,\n\t\t\ttype: 'Statistics',\n\t\t\tresult,\n\t\t\tgroup\n\t\t};\n\t\tthis.props.logAction( DATA_EXPLORER_SUMMARY_STATISTICS, {\n\t\t\tstatistic: statLabels,\n\t\t\tvariables,\n\t\t\tsecondVariable: statLabels[ 0 ] === 'Correlation' ? secondVariable : null,\n\t\t\tgroup\n\t\t});\n\t\tthis.props.onCreated( output );\n\t}\n\n\trender() {\n\t\tlet {\n\t\t\tvariables,\n\t\t\tgroupingVariables,\n\t\t\tt\n\t\t} = this.props;\n\t\tconst selectedStats = this.state.selectedStats;\n\t\treturn (\n\t\t\t<Card>\n\t\t\t\t<Card.Header as=\"h4\">\n\t\t\t\t\t{t('summary-statistics')}\n\t\t\t\t\t<QuestionButton title={t('summary-statistics')} content={DESCRIPTION} />\n\t\t\t\t</Card.Header>\n\t\t\t\t<Card.Body>\n\t\t\t\t\t<FormGroup controlId=\"statistics-form-select\">\n\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\ttooltip={t('statistics-tooltip')}\n\t\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FormLabel>{t('statistics')}:</FormLabel>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={selectedStats}\n\t\t\t\t\t\t\toptions={this.statistics}\n\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\tcomponents={{ Option, GroupHeading }}\n\t\t\t\t\t\t\thideSelectedOptions={false}\n\t\t\t\t\t\t\tonChange={( value ) => {\n\t\t\t\t\t\t\t\tlet fiveNumberSummary = -1;\n\t\t\t\t\t\t\t\tlet labels;\n\t\t\t\t\t\t\t\tif ( isArray( value ) && value.length > 0 ) {\n\t\t\t\t\t\t\t\t\tlabels = value.map( ( x, idx ) => {\n\t\t\t\t\t\t\t\t\t\tif ( x.label === 'Five-Number Summary' ) {\n\t\t\t\t\t\t\t\t\t\t\tfiveNumberSummary = idx;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\treturn x.label;\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tconst lastLabel = labels[ labels.length-1 ];\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tlastLabel === 'Correlation' ||\n\t\t\t\t\t\t\t\t\t\tlastLabel === 'Correlation Matrix'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn this.setState({\n\t\t\t\t\t\t\t\t\t\t\tselectedStats: [{\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: lastLabel,\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: statistic( lastLabel )\n\t\t\t\t\t\t\t\t\t\t\t}],\n\t\t\t\t\t\t\t\t\t\t\tshowSecondVarSelect: lastLabel === 'Correlation'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse if (\n\t\t\t\t\t\t\t\t\t\tlabels[ 0 ] === 'Correlation' ||\n\t\t\t\t\t\t\t\t\t\tlabels[ 0 ] === 'Correlation Matrix'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tvalue.shift();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif ( fiveNumberSummary > -1 ) {\n\t\t\t\t\t\t\t\t\t\tvalue = value.slice();\n\t\t\t\t\t\t\t\t\t\tconst additions = [];\n\t\t\t\t\t\t\t\t\t\tif ( !contains( labels, 'Min' ) ) {\n\t\t\t\t\t\t\t\t\t\t\tadditions.push({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'Min',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: statistic( 'Min' )\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( !contains( labels, 'First Quartile' ) ) {\n\t\t\t\t\t\t\t\t\t\t\tadditions.push({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'First Quartile',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: statistic( 'First Quartile' )\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( !contains( labels, 'Median' ) ) {\n\t\t\t\t\t\t\t\t\t\t\tadditions.push({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'Median',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: statistic( 'Median' )\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( !contains( labels, 'Third Quartile' ) ) {\n\t\t\t\t\t\t\t\t\t\t\tadditions.push({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'Third Quartile',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: statistic( 'Third Quartile' )\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tif ( !contains( labels, 'Max' ) ) {\n\t\t\t\t\t\t\t\t\t\t\tadditions.push({\n\t\t\t\t\t\t\t\t\t\t\t\tlabel: 'Max',\n\t\t\t\t\t\t\t\t\t\t\t\tvalue: statistic( 'Max' )\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue.splice( fiveNumberSummary, 1, ...additions);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\tselectedStats: value,\n\t\t\t\t\t\t\t\t\tshowSecondVarSelect: false,\n\t\t\t\t\t\t\t\t\tshowQuantiles: labels && labels.includes( 'Quantile' )\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyles={selectStyles}\n\t\t\t\t\t\t\tmenuPlacement=\"auto\"\n\t\t\t\t\t\t\tmenuPortalTarget={document.body}\n\t\t\t\t\t\t\tmenuShouldScrollIntoView={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FormGroup>\n\t\t\t\t\t<SelectInput\n\t\t\t\t\t\tlegend={t('variable-s')}\n\t\t\t\t\t\tdefaultValue={this.state.variables}\n\t\t\t\t\t\tmulti\n\t\t\t\t\t\toptions={variables}\n\t\t\t\t\t\tonChange={( value ) => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tvariables: value || []\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttooltip={t('variables-statistics-tooltip')}\n\t\t\t\t\t/>\n\t\t\t\t\t{ this.state.showQuantiles ?\n\t\t\t\t\t\t<FormGroup controlId=\"quantiles-form-group\" >\n\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\ttooltip={t('quantiles-tooltip')}\n\t\t\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<FormLabel>{t('quantiles')}</FormLabel>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t<CreatableSelect\n\t\t\t\t\t\t\t\tdefaultValue={[]}\n\t\t\t\t\t\t\t\toptions={QUANTILE_OPTIONS}\n\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\tplaceholder={t('quantiles-placeholder')}\n\t\t\t\t\t\t\t\tonChange={( value ) => {\n\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\tquantiles: value\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyles={selectStyles}\n\t\t\t\t\t\t\t\tmenuPortalTarget={document.body}\n\t\t\t\t\t\t\t\tmenuPlacement=\"auto\"\n\t\t\t\t\t\t\t\tmenuShouldScrollIntoView={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup>:\n\t\t\t\t\t\tnull\n\t\t\t\t\t}\n\t\t\t\t\t<SelectInput\n\t\t\t\t\t\tlegend={t('second-variable')}\n\t\t\t\t\t\tdefaultValue={this.state.secondVariable}\n\t\t\t\t\t\toptions={variables}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: this.state.showSecondVarSelect ?\n\t\t\t\t\t\t\t\t'inline' : 'none'\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonChange={( value ) => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tsecondVariable: value\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttooltip={t('second-variable-statistic-tooltip')}\n\t\t\t\t\t/>\n\t\t\t\t\t{ groupingVariables.length > 0 ?\n\t\t\t\t\t\t<FormGroup controlId=\"stats-form-group\">\n\t\t\t\t\t\t\t<Tooltip tooltip={t('group-by-statistics-tooltip')}>\n\t\t\t\t\t\t\t\t<FormLabel>{t('group-by')}</FormLabel>\n\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tvalue={this.state.group}\n\t\t\t\t\t\t\t\toptions={groupingVariables.map( e => ( { 'label': e, 'value': e } ))}\n\t\t\t\t\t\t\t\tisClearable\n\t\t\t\t\t\t\t\tisMulti\n\t\t\t\t\t\t\t\tonChange={( value ) => {\n\t\t\t\t\t\t\t\t\tif ( !value || value.length <= 2 ) {\n\t\t\t\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\t\t\t\tgroup: value\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tstyles={selectStyles}\n\t\t\t\t\t\t\t\tmenuPortalTarget={document.body}\n\t\t\t\t\t\t\t\tmenuPlacement=\"auto\"\n\t\t\t\t\t\t\t\tmenuShouldScrollIntoView={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FormGroup> : null\n\t\t\t\t\t}\n\t\t\t\t\t<CheckboxInput\n\t\t\t\t\t\tlegend={t('omit-missing')}\n\t\t\t\t\t\ttooltip={t('omit-missing-tooltip')}\n\t\t\t\t\t\tdefaultValue={this.state.omit}\n\t\t\t\t\t\tonChange={( value ) => {\n\t\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\t\tomit: value\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\" block\n\t\t\t\t\t\tonClick={this.generateStatistics}\n\t\t\t\t\t\tdisabled={!selectedStats || this.state.variables.length === 0}\n\t\t\t\t\t>{t('calculate')}</Button>\n\t\t\t\t</Card.Body>\n\t\t\t</Card>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nSummaryStatisticsMenu.defaultProps = {\n\tgroupingVariables: [],\n\tdefaultX: null,\n\tdefaultY: null,\n\tdefaultStatistic: null,\n\tlogAction() {},\n\tstatistics: [\n\t\t'Mean',\n\t\t'Median',\n\t\t'Min',\n\t\t'Max',\n\t\t'Range',\n\t\t'Interquartile Range',\n\t\t'Standard Deviation',\n\t\t'Variance',\n\t\t'Correlation',\n\t\t'Correlation Matrix',\n\t\t'Skewness',\n\t\t'Excess Kurtosis',\n\t\t'First Quartile',\n\t\t'Third Quartile',\n\t\t'Quantile',\n\t\t'Five-Number Summary'\n\t]\n};\n\nSummaryStatisticsMenu.propTypes = {\n\tdata: PropTypes.object.isRequired,\n\tdefaultStatistic: PropTypes.string,\n\tdefaultX: PropTypes.string,\n\tdefaultY: PropTypes.string,\n\tgroupingVariables: PropTypes.array,\n\tlogAction: PropTypes.func,\n\tonCreated: PropTypes.func.isRequired,\n\tstatistics: PropTypes.array,\n\tvariables: PropTypes.array.isRequired\n};\n\n\n// EXPORTS //\n\nexport default SummaryStatisticsMenu;\n","// MODULES //\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport isEmptyObject from '@stdlib/assert/is-empty-object';\nimport noop from '@stdlib/utils/noop';\nimport Input from '@isle-project/components/input/base';\nimport Tooltip from '@isle-project/components/tooltip';\nimport SessionContext from '@isle-project/session/context.js';\nimport './checkbox.css';\n\n\n// MAIN //\n\n/**\n* A checkbox input component. Can be used as part of an ISLE dashboard or standalone. In the latter case, you want to handle changes via the `onChange` attribute or bind the value to a global variable via the `bind` attribute.\n*\n* @property {string} bind - name of global variable for the checkbox value to be assigned to\n* @property {boolean} defaultValue - boolean value indicating the default value of the checkbox\n* @property {boolean} value - checkbox value (for controlled component)\n* @property {boolean} disabled - indicates whether the input is active or not\n* @property {boolean} inline - indicates whether the checkbox is displayed inline\n* @property {string} legend - text displayed next to the checkbox\n* @property {string} tooltip - text displayed when hovering over checkbox\n* @property {string} tooltipPlacement - position of button tooltip\n* @property {Object} style - CSS inline styles\n* @property {Function} onChange - callback function to be invoked when checkbox is clicked. The function is called with the current checkbox value\n*/\nclass CheckboxInput extends Input {\n\tconstructor( props, context ) {\n\t\tsuper( props );\n\n\t\tconst session = context;\n\t\tthis.state = {\n\t\t\tvalue: props.bind && session.state ?\n\t\t\t\tsession.state[ props.bind ]:\n\t\t\t\tprops.defaultValue,\n\t\t\tbind: props.bind,\n\t\t\tdefaultValue: props.defaultValue\n\t\t};\n\t}\n\n\tstatic getDerivedStateFromProps( nextProps, prevState ) {\n\t\tlet newState = {};\n\t\tif ( nextProps.defaultValue !== prevState.defaultValue ) {\n\t\t\tnewState.value = nextProps.defaultValue;\n\t\t\tnewState.defaultValue = nextProps.defaultValue;\n\t\t}\n\t\telse if ( nextProps.bind !== prevState.bind ) {\n\t\t\tnewState.value = global.lesson.state[ nextProps.bind ];\n\t\t\tnewState.bind = nextProps.bind;\n\t\t}\n\t\tif ( !isEmptyObject( newState ) ) {\n\t\t\treturn newState;\n\t\t}\n\t\treturn null;\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif ( this.props.bind ) {\n\t\t\tlet globalVal = global.lesson.state[ this.props.bind ];\n\t\t\tif ( globalVal !== this.state.value ) {\n\t\t\t\tthis.setState({\n\t\t\t\t\tvalue: globalVal\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tupdateValue = ( newValue ) => {\n\t\tthis.setState({\n\t\t\tvalue: newValue\n\t\t}, () => {\n\t\t\tif ( this.props.bind ) {\n\t\t\t\tglobal.lesson.setState({\n\t\t\t\t\t[ this.props.bind ]: newValue\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\thandleChange = ( event ) => {\n\t\tconst newValue = event.target.checked;\n\t\tthis.props.onChange( newValue );\n\t\tthis.updateValue( newValue );\n\t}\n\n\thandleSpanChange = ( event ) => {\n\t\tconst newValue = this.props.value !== null ? !this.props.value : !this.state.value;\n\t\tthis.props.onChange( newValue );\n\t\tthis.updateValue( newValue );\n\t}\n\n\trender() {\n\t\tlet { value } = this.state;\n\t\tif ( this.props.value !== null ) {\n\t\t\tvalue = this.props.value;\n\t\t}\n\t\tconst input = <input\n\t\t\tclassName=\"checkbox-input\"\n\t\t\ttype=\"checkbox\"\n\t\t\tchecked={value}\n\t\t\tvalue=\"checkbox\"\n\t\t\tonChange={this.handleChange}\n\t\t\tdisabled={this.props.disabled}\n\t\t\taria-label={this.props.tooltip}\n\t\t></input>;\n\t\tif ( this.props.inline === true ) {\n\t\t\treturn (\n\t\t\t\t<Tooltip tooltip={this.props.tooltip} placement={this.props.tooltipPlacement} >\n\t\t\t\t\t<span style={{ marginLeft: '8px', ...this.props.style }}>\n\t\t\t\t\t\t{input}\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\t\tclassName=\"checkbox-legend\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: this.props.disabled ? 'darkgray' : null\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tonClick={this.handleSpanChange} onKeyPress={this.handleSpanChange}\n\t\t\t\t\t\t>{this.props.legend}</span>\n\t\t\t\t\t</span>\n\t\t\t\t</Tooltip>\n\t\t\t);\n\t\t}\n\t\tconst onSpanChange = this.props.disabled ? noop : this.handleSpanChange;\n\t\treturn (\n\t\t\t<Tooltip tooltip={this.props.tooltip} placement={this.props.tooltipPlacement} >\n\t\t\t\t<div className=\"input checkbox-input-div\" style={this.props.style}>\n\t\t\t\t\t{input}\n\t\t\t\t\t<span\n\t\t\t\t\t\trole=\"button\" tabIndex={0}\n\t\t\t\t\t\tclassName=\"checkbox-legend\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tcolor: this.props.disabled ? 'darkgray' : null\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={onSpanChange} onKeyPress={onSpanChange}\n\t\t\t\t\t>{this.props.legend}</span>\n\t\t\t\t</div>\n\t\t\t</Tooltip>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nCheckboxInput.defaultProps = {\n\tbind: '',\n\tonChange() {},\n\tdefaultValue: false,\n\tvalue: null,\n\tdisabled: false,\n\tinline: false,\n\tlegend: '',\n\ttooltip: '',\n\ttooltipPlacement: 'right',\n\tstyle: {}\n};\n\nCheckboxInput.propTypes = {\n\tbind: PropTypes.string,\n\tdefaultValue: PropTypes.bool,\n\tvalue: PropTypes.bool,\n\tdisabled: PropTypes.bool,\n\tinline: PropTypes.bool,\n\tonChange: PropTypes.func,\n\tlegend: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.node\n\t]),\n\ttooltip: PropTypes.string,\n\ttooltipPlacement: PropTypes.oneOf([ 'left', 'top', 'right', 'bottom' ]),\n\tstyle: PropTypes.object\n};\n\nCheckboxInput.contextType = SessionContext;\n\n\n// EXPORTS //\n\nexport default CheckboxInput;\n","// MODULES //\n\nimport CheckboxInput from './main.js';\n\n\n// EXPORTS //\n\nexport default CheckboxInput;\n","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict';\n/**\n* Partially apply function arguments from the right.\n*\n* @module @stdlib/utils/papply-right\n*\n* @example\n* var papplyRight = require( '@stdlib/utils/papply-right' );\n*\n* function say( text, name ) {\n*     return text + ', ' + name + '.';\n* }\n*\n* var toGrace = papplyRight( say, 'Grace Hopper' );\n*\n* var str = toGrace( 'Hello' );\n* // returns 'Hello, Grace Hopper.'\n*\n* str = toGrace( 'Thank you' );\n* // returns 'Thank you, Grace Hopper.'\n*/\n// MODULES //\n\nvar papplyRight = require('./papply_right.js'); // EXPORTS //\n\n\nmodule.exports = papplyRight;","/**\n* @license Apache-2.0\n*\n* Copyright (c) 2018 The Stdlib Authors.\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*    http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n*/\n'use strict'; // MODULES //\n\nvar isFunction = require('@stdlib/assert/is-function'); // MAIN //\n\n/**\n* Returns a function of smaller arity by partially applying arguments from the right.\n*\n* @param {Function} fcn - function to partially apply\n* @param {...*} [args] - arguments to partially apply\n* @throws {TypeError} first argument must be a function\n* @returns {Function} partially applied function\n*\n* @example\n* function say( text, name ) {\n*     return text + ', ' + name + '.';\n* }\n*\n* var toGrace = papplyRight( say, 'Grace Hopper' );\n*\n* var str = toGrace( 'Hello' );\n* // returns 'Hello, Grace Hopper.'\n*\n* str = toGrace( 'Thank you' );\n* // returns 'Thank you, Grace Hopper.'\n*/\n\n\nfunction papplyRight(fcn) {\n  var pargs;\n  var len;\n  var i;\n\n  if (!isFunction(fcn)) {\n    throw new TypeError('invalid argument. First argument must be a function. Value: `' + fcn + '`.');\n  }\n\n  len = arguments.length - 1;\n  pargs = new Array(len);\n\n  for (i = 1; i < arguments.length; i++) {\n    pargs[i - 1] = arguments[i];\n  }\n\n  return pappliedRight;\n  /**\n  * Partially applied function.\n  *\n  * @private\n  * @param {...*} [args] - function arguments\n  * @returns {*} partially applied function result\n  */\n\n  function pappliedRight() {\n    var nargs;\n    var args;\n    var j;\n    nargs = arguments.length;\n    args = new Array(len + nargs);\n\n    for (j = 0; j < args.length; j++) {\n      if (j >= nargs) {\n        args[j] = pargs[j - nargs];\n      } else {\n        args[j] = arguments[j];\n      }\n    }\n\n    return fcn.apply(null, args);\n  }\n} // EXPORTS //\n\n\nmodule.exports = papplyRight;"],"sourceRoot":""}