(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{1367:function(e,A,t){"use strict";var a=t(16),n=t(1),r=t.n(n),s=t(1048),o=t(511),c=t(502),i=t(1368),l=t(490);A.a=Object(s.a)(["header_bar","common"])((function(e){return r.a.createElement(o.a,{style:Object(a.a)({width:"14vw",minWidth:"120px",float:"left",marginBottom:"4px",marginRight:"5px"},e.style)},r.a.createElement(i.a,null,r.a.createElement(c.a,{className:"header-bar-search",type:"text",placeholder:e.placeholder,value:e.value,onChange:e.onChange,"aria-label":e.t("search-field")}),r.a.createElement(i.a.Append,null,r.a.createElement(l.a,{"aria-label":e.t("search-field-icon"),disabled:!0,variant:"secondary",style:{cursor:"auto"}},r.a.createElement("i",{className:"fa fa-search"})))))}))},1369:function(e,A,t){"use strict";var a=t(103),n=t.n(a);A.a=function(e,A){for(var t=!1,a=0;a<A.owners.length;a++){var r=A.owners[a];n()(r)?r.email===e.email&&(t=!0):r===e.id&&(t=!0)}return t}},4822:function(e,A,t){"use strict";t.r(A);var a=t(1),n=t.n(a),r=t(28),s=t(12),o=t(13),c=t(27),i=t(20),l=t(39),u=t(50),p=t(481),m=t(30),h=t.n(m),d=t(1048),g=t(490),f=t(590),v=t(1229),C=t(1087),w=t(2139),E=t(727),b=t(496),B=t(595),I=t(795),Q=t(873),y=t(505),D=t(872),O=t.n(D),k=t(97),N=t.n(k),x=t(1367),L=t(1095),F=t.n(L),X=t(1369),j=h()("isle:header-bar"),H=function(e,A){return n.a.createElement(Q.a,null,e.map((function(e,t){return n.a.createElement(I.a,{key:t,style:{padding:"5px 10px"}},n.a.createElement(p.a,{to:"/lessons/".concat(e.title),onClick:A(t)},e.title))})))},T=function(e){Object(i.a)(t,e);var A=Object(l.a)(t);function t(e){var a;return Object(s.a)(this,t),a=A.call(this,e),Object(u.a)(Object(c.a)(a),"handleVisibilityChange",(function(){j("Your page is ".concat(document.visibilityState)),a.props.userUpdateCheck(a.props.user)})),Object(u.a)(Object(c.a)(a),"enrolledClickFactory",(function(e){return function(){a.props.onEnrolledNamespace(a.props.user.enrolledNamespaces[e],a.props.user.token),a.setState({showNamespacesOverlay:!1,location:a.props.t("common:course"),searchPhrase:""})}})),Object(u.a)(Object(c.a)(a),"ownedClickFactory",(function(e){return function(){a.props.onNamespace(a.props.user.ownedNamespaces[e],a.props.user.token),a.setState({showNamespacesOverlay:!1,location:a.props.t("common:course"),searchPhrase:""})}})),Object(u.a)(Object(c.a)(a),"setProfileLocation",(function(){a.setState({location:a.props.t("common:profile")})})),Object(u.a)(Object(c.a)(a),"goBackToLesson",(function(){a.props.history.replace("/lessons/".concat(a.props.namespace.title)),a.props.onNamespace(a.props.namespace,a.props.user.token),a.setState({location:a.props.t("common:course")})})),Object(u.a)(Object(c.a)(a),"goToEnrolledPage",(function(){a.props.history.replace("/enroll"),a.setState({location:a.props.t("common:enroll"),showNamespacesOverlay:!1})})),Object(u.a)(Object(c.a)(a),"handleTextChange",(function(e){a.debouncedChange||(a.debouncedChange=F()((function(e){a.props.setSearchPhrase(e)}),750));var A=e.target.value;a.setState({searchPhrase:A}),a.debouncedChange(A)})),a.state={showNamespacesOverlay:!1,location:"Dashboard",searchPhrase:""},a}return Object(o.a)(t,[{key:"componentDidMount",value:function(){j("Header bar did mount...");var e=this.props,A=e.namespace,t=e.match,a=e.user;if(A)if(A.title!==t.params.namespace){var n=a.enrolledNamespaces.filter((function(e){return e.title===t.params.namespace}));n.length>0?(j("Open enrolled namespace..."),this.props.onEnrolledNamespace(n[0]),this.setState({location:this.props.t("common:course")})):(n=a.ownedNamespaces.filter((function(e){return e.title===t.params.namespace}))).length>0&&(j("Open owned namespace..."),this.props.onNamespace(n[0]),this.setState({location:this.props.t("common:course")}))}else j("Retrieve (updated) lessons upon mounting in all cases..."),this.props.onNamespace(A);document.addEventListener("visibilitychange",this.handleVisibilityChange),this.props.userUpdateCheck(this.props.user)}},{key:"componentDidUpdate",value:function(e){this.props.search.phrase!==e.search.phrase&&this.setState({searchPhrase:this.props.search.phrase})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("visibilitychange",this.handleVisibilityChange)}},{key:"goToCreateCoursePage",value:function(){this.props.history.replace("/create-namespace"),this.setState({location:"Dashboard"})}},{key:"goToCourseEditPage",value:function(){this.props.history.replace("/edit-namespace/".concat(this.props.namespace.title)),this.setState({location:"Dashboard"})}},{key:"goToCourseDataPage",value:function(){this.props.history.replace("/namespace-data/".concat(this.props.namespace.title)),this.setState({location:this.props.t("course-data")})}},{key:"goToGallery",value:function(){this.props.history.replace("/gallery"),this.setState({location:this.props.t("gallery"),searchPhrase:""})}},{key:"goToAdmin",value:function(){this.props.history.replace("/admin"),this.setState({location:"Administrator Panel",searchPhrase:""})}},{key:"renderCreateButton",value:function(){if(!this.props.user.writeAccess)return null;var e=this.props.t;return n.a.createElement("div",{className:"header-bar-container"},n.a.createElement(b.a,{placement:"bottom",overlay:n.a.createElement(y.a,{id:"new_course"},e("create-course"))},n.a.createElement(g.a,{style:{float:"left",marginRight:"4px",marginLeft:"4px",marginTop:"8px"},onClick:this.goToCreateCoursePage.bind(this),"aria-label":e("create-course")},n.a.createElement("i",{className:"fa fa-pencil-alt"}))))}},{key:"renderEditButton",value:function(){var e=this.props.namespace.owners;if(O()(e)&&(e=e.map((function(e){return e.email}))),!N()(e,this.props.user.email))return null;var A=this.props.t;return n.a.createElement(b.a,{placement:"bottom",overlay:n.a.createElement(y.a,{id:"edit_course"},A("edit-course"))},n.a.createElement(g.a,{style:{float:"left",marginRight:"4px"},onClick:this.goToCourseEditPage.bind(this),"aria-label":A("edit-course")},n.a.createElement("i",{className:"fa fa-edit"})))}},{key:"renderDataButton",value:function(){if(!this.props.namespace.title)return null;if(!Object(X.a)(this.props.user,this.props.namespace))return null;var e=this.props.t;return n.a.createElement(b.a,{placement:"bottom",overlay:n.a.createElement(y.a,{id:"course_data"},e("course-data"))},n.a.createElement(g.a,{style:{float:"left",marginRight:"4px"},onClick:this.goToCourseDataPage.bind(this),"aria-label":e("course-data")},n.a.createElement("i",{className:"fa fa-chart-pie"}),n.a.createElement("small",{className:"course-data-label"},e("course-data"))))}},{key:"renderAdminButton",value:function(){if(!this.props.user.administrator)return null;var e=this.props.t;return n.a.createElement("div",{className:"header-bar-container"},n.a.createElement(b.a,{placement:"bottom",overlay:n.a.createElement(y.a,{id:"open_admin"},e("open-admin"))},n.a.createElement(g.a,{onClick:this.goToAdmin.bind(this),className:"header-bar-container-button"},n.a.createElement("i",{className:"fa fa-cogs"}),n.a.createElement("small",{className:"admin-label"},e("admin")))))}},{key:"renderGalleryButton",value:function(){if(!this.props.user.writeAccess)return null;var e=this.props.t;return n.a.createElement("div",{className:"header-bar-container"},n.a.createElement(b.a,{placement:"bottom",overlay:n.a.createElement(y.a,{id:"open_gallery"},e("open-gallery"))},n.a.createElement(g.a,{"aria-label":"Gallery",onClick:this.goToGallery.bind(this),className:"header-bar-container-button"},n.a.createElement("i",{className:"fa fa-eye"}),n.a.createElement("small",{className:"gallery-label"},e("gallery")))))}},{key:"renderCoursesButton",value:function(){var e=this,A=!1;(this.props.user.ownedNamespaces.length>0||this.props.user.enrolledNamespaces.length>0)&&(A=!1);var t=this.props.t,a=n.a.createElement(y.a,{id:"select_course"},t("select-course"));return n.a.createElement(f.a,{style:{float:"left",marginRight:"4px"}},n.a.createElement(b.a,{placement:"right",overlay:a},n.a.createElement(g.a,{variant:"secondary",ref:function(A){e.overlayTarget=A},disabled:A,onClick:function(){e.setState({showNamespacesOverlay:!e.state.showNamespacesOverlay})},"aria-label":t("select-course")},n.a.createElement("i",{className:"fa fa-align-justify"}))),n.a.createElement(b.a,{placement:"right",overlay:this.props.namespace.title?n.a.createElement(y.a,{id:"to_course"},t("goto-course-lessons")):a},n.a.createElement(g.a,{variant:"secondary",onClick:function(){if(!e.props.namespace.title)return e.setState({showNamespacesOverlay:!e.state.showNamespacesOverlay});e.goBackToLesson()}},n.a.createElement("small",{className:"title-limited-length"},this.props.namespace.title||t("open-your-courses")))))}},{key:"renderDropdownButton",value:function(){var e,A=this,t=this.props.history.location.pathname;if(!this.props.namespace.title&&"/lessons"===t||t!=="/lessons/".concat(this.props.namespace.title)&&"/lessons"!==t&&"/gallery"!==t)return null;var a=this.props.t;switch(this.props.search.type){case"sequentially":e=a("common:sort-default");break;case"alphabetically":e=a("common:sort-alphabetically");break;case"created_at":e=a("common:sort-create-date");break;case"updated_at":e=a("common:sort-update-date")}var r=Object(X.a)(this.props.user,this.props.namespace);return n.a.createElement(f.a,{style:{float:"left",marginBottom:"4px"}},n.a.createElement(v.a,{variant:"secondary",onSelect:function(e){A.props.setLessonOrder(e)},id:"dropdown",title:n.a.createElement(b.a,{placement:"left",overlay:n.a.createElement(y.a,{id:"sort-default-explanation"},a(r?"sort-default-owner-explanation":"sort-default-student-explanation"))},n.a.createElement("small",null,n.a.createElement("span",{className:"title-limited-length"},e)))},n.a.createElement(C.a.Item,{eventKey:"sequentially"},n.a.createElement("small",null,a("common:sort-default"))),n.a.createElement(C.a.Item,{eventKey:"alphabetically"},n.a.createElement("small",null,a("common:sort-alphabetically"))),n.a.createElement(C.a.Item,{eventKey:"created_at"},n.a.createElement("small",null,a("common:sort-create-date"))),n.a.createElement(C.a.Item,{eventKey:"updated_at"},n.a.createElement("small",null,a("common:sort-update-date")))),n.a.createElement(g.a,{variant:"secondary",style:{marginLeft:2},onClick:function(){"ascending"===A.props.search.direction?A.props.setLessonOrderDirection("descending"):A.props.setLessonOrderDirection("ascending")},"aria-label":"ascending"===this.props.search.direction?a("common:sort-descending"):a("common:sort-ascending")},"ascending"===this.props.search.direction?n.a.createElement("i",{className:"fas fa-arrow-down"}):n.a.createElement("i",{className:"fas fa-arrow-up"})))}},{key:"renderSearchField",value:function(){var e=this.props.history.location.pathname;return!this.props.namespace.title&&"/lessons"===e||e!=="/lessons/".concat(this.props.namespace.title)&&"/lessons"!==e&&"/gallery"!==e?null:n.a.createElement(x.a,{onChange:this.handleTextChange,value:this.state.searchPhrase||"",placeholder:this.props.t("search-placeholder")})}},{key:"renderHelp",value:function(){if(!this.props.user.writeAccess)return null;var e=this.props.t;return n.a.createElement("div",{className:"header-bar-container"},n.a.createElement("div",{key:"help",className:"header-bar-link-div"},n.a.createElement("a",{href:"http://isledocs.com/",target:"_blank",className:"header-bar-link"},e("help"))))}},{key:"render",value:function(){var e,A=this,t=this.props.t;return e=this.props.user.picture?this.props.user.picture:"data:image/png;base64,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",n.a.createElement("header",{className:"header-bar"},n.a.createElement("div",{className:"header-bar-buttons"},this.renderCoursesButton(),n.a.createElement(E.a,{show:this.state.showNamespacesOverlay,target:this.overlayTarget,onHide:function(){A.setState({showNamespacesOverlay:!1})},placement:"bottom",rootClose:!0,rootCloseEvent:"click"},n.a.createElement(B.a,{id:"popover-courses"},this.props.user.ownedNamespaces.length>0?n.a.createElement(a.Fragment,null,n.a.createElement("span",{className:"label-display"},t("owned-courses")),H(this.props.user.ownedNamespaces,this.ownedClickFactory),n.a.createElement("div",{className:"separator"})):null,this.props.user.enrolledNamespaces.length>0?n.a.createElement(a.Fragment,null,n.a.createElement("span",{className:"label-display"},t("enrolled-courses")),H(this.props.user.enrolledNamespaces,this.enrolledClickFactory)):null,n.a.createElement(g.a,{onClick:this.goToEnrolledPage,style:{marginTop:10},size:"sm",block:!0,variant:"outline-success"},t("enroll")))),this.renderEditButton(),this.renderDataButton(),this.renderSearchField(),this.renderDropdownButton()),n.a.createElement("div",{className:"header-bar-title-wrapper"},n.a.createElement("h1",{className:"header-bar-title"},"ISLE ",this.state.location)),n.a.createElement("div",{className:"header-bar-right-container"},this.renderAdminButton(),this.renderGalleryButton(),this.renderCreateButton(),this.renderHelp(),n.a.createElement(b.a,{placement:"bottom",overlay:n.a.createElement(y.a,{id:"profile-button"},t("common:open-profile"))},n.a.createElement(p.a,{to:"/profile",className:"header-bar-container",onClick:this.setProfileLocation},n.a.createElement(w.a,{alt:"Profile picture",src:e,className:"header-bar-icon"}),n.a.createElement("span",{id:"header-bar-username",key:"account",className:"header-bar-link-div"},n.a.createElement("span",{className:"header-bar-link"},this.props.user.name)))),n.a.createElement(b.a,{placement:"bottom",overlay:n.a.createElement(y.a,{id:"logout-button"},t("common:logout"))},n.a.createElement("div",{className:"header-bar-container"},n.a.createElement("div",{key:"logout",className:"header-bar-link-div"},n.a.createElement("button",{key:"logoutButton",className:"header-bar-link empty-button",onClick:this.props.logout},n.a.createElement("i",{className:"fas fa-sign-out-alt"})))))))}}]),t}(a.Component),M=Object(d.a)(["header_bar","common"])(T),P=t(57),S=t(107),Y=t(796),U=t(70),z=t(2);var R=function(e){return function(A){var t;e((t=A,{type:z.gb,payload:{phrase:t}}))}},G=function(e){return function(A){var t;e((t=A,{type:z.R,payload:{type:t}}))}},J=function(e){return function(A){e(function(e){return{type:z.S,payload:{direction:e}}}(A))}};A.default=Object(r.c)((function(e){return{user:e.user,namespace:e.namespace,search:e.search}}),(function(e){return{userUpdateCheck:Object(U.r)(e),logout:Object(U.l)(e),setSearchPhrase:R(e),setLessonOrder:G(e),setLessonOrderDirection:J(e),onEnrolledNamespace:function(A){var t=A.title,a=A.description,n=A.announcements,r=A.enableTicketing,s=A.owners,o=A._id;e(Object(Y.b)({title:t,description:a,announcements:n,enableTicketing:r,owners:s,_id:o}));var c=t;Object(S.g)(e,c)},onNamespace:function(A){var t=A.title,a=A.description,n=A.announcements,r=A.enableTicketing,s=A.owners,o=A._id;e(Object(Y.b)({title:t,description:a,announcements:n,enableTicketing:r,owners:s,_id:o})),Object(P.e)(e,{namespaceID:o});var c=t;Object(S.g)(e,c)}}}))(M)},703:function(e,A,t){"use strict";(function(e){var t=/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i;function a(A){e((function(){throw A}),0)}function n(e){return t.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}var r=function(e){if(!("undefined"===typeof e||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var A=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),t="download"in A,r=/constructor/i.test(e.HTMLElement)||e.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent),o=e.setImmediate||e.setTimeout,c=u.prototype;return"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob?function(e,A,t){return A=A||e.name||"download",t||(e=n(e)),navigator.msSaveOrOpenBlob(e,A)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=null,c.onwritestart=null,c.onprogress=null,c.onwrite=null,c.onabort=null,c.onerror=null,c.onwriteend=null,function(e,A,t){return new u(e,A||e.name||"download",t)})}function i(){return e.URL||e.webkitURL||e}function l(e){setTimeout((function(){"string"===typeof e?i().revokeObjectURL(e):e.remove()}),4e4)}function u(c,u,p){p||(c=n(c));var m,h=this,d="application/octet-stream"===c.type;function g(){!function(e,A,t){for(var n=(A=[].concat(A)).length;n--;){var r=e["on"+A[n]];if("function"===typeof r)try{r.call(e,t||e)}catch(s){a(s)}}}(h,"writestart progress write writeend".split(" "))}if(h.readyState=h.INIT,t)return m=i().createObjectURL(c),void o((function(){var e,t;A.href=m,A.download=u,e=A,t=new MouseEvent("click"),e.dispatchEvent(t),g(),l(m),h.readyState=h.DONE}),0);!function(){if((s||d&&r)&&e.FileReader){var A=new FileReader;return A.onloadend=function(){var t=s?A.result:A.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,h.readyState=h.DONE,g()},A.readAsDataURL(c),void(h.readyState=h.INIT)}m||(m=i().createObjectURL(c)),d?e.location.href=m:e.open(m,"_blank")||(e.location.href=m),h.readyState=h.DONE,g(),l(m)}()}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||(void 0).content);A.a=r}).call(this,t(704).setImmediate)},796:function(e,A,t){"use strict";t.d(A,"b",(function(){return f})),t.d(A,"c",(function(){return E})),t.d(A,"d",(function(){return B})),t.d(A,"h",(function(){return Q})),t.d(A,"f",(function(){return D})),t.d(A,"a",(function(){return k})),t.d(A,"e",(function(){return x})),t.d(A,"g",(function(){return F}));var a=t(0),n=t.n(a),r=t(3),s=t(6),o=t.n(s),c=t(33),i=t.n(c),l=t(21),u=t(703),p=t(5),m=t(4),h=t(57),d=t(2);function g(e){return{type:d.d,payload:{namespace:e}}}function f(e){var A=e.title,t=e.owners,a=e.announcements,n=void 0===a?[]:a,r=e.cohorts,s=void 0===r?[]:r,o=e.description,c=e.enableTicketing,i=e._id;return{type:d.f,payload:{title:A,announcements:n,cohorts:s,description:o,enableTicketing:c,owners:t,_id:i}}}function v(e){return{type:d.m,payload:{id:e}}}function C(e){var A=e.email,t=e.lessonID,a=e.progress,n=e.cohort;return{type:d.qb,payload:{email:A,lessonID:t,progress:a,cohort:n}}}var w=function(){var e=Object(r.a)(n.a.mark((function e(A,t){var a,r,s,c,i,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.title,r=t.description,s=t.owners,c=t.props,e.prev=1,e.next=4,o.a.post(p.a+"/create_namespace",{title:a,description:r,owners:s});case 4:if((i=e.sent).data.successful){e.next=7;break}return e.abrupt("return",Object(m.a)(A,new Error(i.data.message)));case 7:l=i.data.namespace,c.onNamespace(l),A(g(l)),c.history.replace("/lessons"),Object(m.b)(A,{message:i.data.message,level:i.data.successful?"success":"error"}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),Object(m.a)(A,e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(A,t){return e.apply(this,arguments)}}(),E=function(e){return function(){var A=Object(r.a)(n.a.mark((function A(t){var a,r,s,o;return n.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return a=t.title,r=t.description,s=t.owners,o=t.props,A.next=3,w(e,{title:a,description:r,owners:s,props:o});case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()},b=function(){var e=Object(r.a)(n.a.mark((function e(A,t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(p.a+"/delete_namespace",{id:t});case 3:r=e.sent,a&&a.replace("/lessons"),A(v(t)),Object(m.b)(A,{message:r.data.message,level:"success"}),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",Object(m.a)(A,e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(A,t,a){return e.apply(this,arguments)}}(),B=function(e){return function(){var A=Object(r.a)(n.a.mark((function A(t,a){return n.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,b(e,t,a);case 2:case"end":return A.stop()}}),A)})));return function(e,t){return A.apply(this,arguments)}}()},I=function(){var e=Object(r.a)(n.a.mark((function e(A,t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post(p.a+"/update_namespace",{ns:t});case 3:a=e.sent,A(f(a.data.namespace)),A((n=a.data.namespace,r=void 0,s=void 0,c=void 0,i=void 0,l=void 0,r=n.title,s=n.owners,c=n.description,i=n.enableTicketing,l=n._id,{type:d.ob,payload:{title:r,description:c,owners:s,enableTicketing:i,_id:l}})),Object(m.b)(A,{message:a.data.message,level:"success"}),Object(h.e)(A,{namespaceID:t._id}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),Object(m.a)(A,e.t0);case 13:case"end":return e.stop()}var n,r,s,c,i,l}),e,null,[[0,10]])})));return function(A,t){return e.apply(this,arguments)}}(),Q=function(e){return function(){var A=Object(r.a)(n.a.mark((function A(t,a){return n.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,I(e,t,a);case 2:case"end":return A.stop()}}),A)})));return function(e,t){return A.apply(this,arguments)}}()},y=function(){var e=Object(r.a)(n.a.mark((function e(A,t){var a,r,s,c,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.namespaceID,r=t.namespaceTitle,e.prev=1,e.next=4,o.a.get(p.a+"/get_namespace_actions?"+i.a.stringify({namespaceID:a}));case 4:s=e.sent,c=new Blob([s.data],{type:"application/json"}),l="actions_".concat(r,".json"),Object(u.a)(c,l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),Object(m.a)(A,e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(A,t){return e.apply(this,arguments)}}(),D=function(e){return function(){var A=Object(r.a)(n.a.mark((function A(t){var a,r;return n.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return a=t.namespaceID,r=t.namespaceTitle,A.next=3,y(e,{namespaceID:a,namespaceTitle:r});case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()},O=function(){var e=Object(r.a)(n.a.mark((function e(A,t){var a,r,s,c,i,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.lessonID,s=t.namespaceID,c=t.progress,i=t.cohort,e.next=3,o.a.post(p.a+"/user_adjust_progress",{email:a,lessonID:r,namespaceID:s,progress:c});case 3:u=e.sent,Object(m.b)(A,{title:l.a.t("common:updated"),message:u.data.message,level:"success"}),A(C({email:a,lessonID:r,progress:c,cohort:i}));case 6:case"end":return e.stop()}}),e)})));return function(A,t){return e.apply(this,arguments)}}(),k=function(e){return function(){var A=Object(r.a)(n.a.mark((function A(t){var a,r,s,o,c;return n.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return a=t.email,r=t.lessonID,s=t.namespaceID,o=t.progress,c=t.cohort,A.next=3,O(e,{email:a,lessonID:r,namespaceID:s,progress:o,cohort:c});case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()},N=function(){var e=Object(r.a)(n.a.mark((function e(A){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get(p.a+"/get_all_namespaces");case 3:t=e.sent,A({type:d.B,payload:{namespaces:t.data.namespaces}}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Object(m.a)(A,e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(A){return e.apply(this,arguments)}}(),x=function(e){return Object(r.a)(n.a.mark((function A(){return n.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,N(e);case 2:case"end":return A.stop()}}),A)})))},L=function(){var e=Object(r.a)(n.a.mark((function e(A,t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.lessons,r=t.id,e.prev=1,e.next=4,o.a.post(p.a+"/set_lesson_order",{lessons:a,id:r});case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",Object(m.a)(A,e.t0));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(A,t){return e.apply(this,arguments)}}(),F=function(e){return function(){var A=Object(r.a)(n.a.mark((function A(t){var a,r;return n.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return a=t.lessons,r=t.id,A.next=3,L(e,{lessons:a,id:r});case 3:case"end":return A.stop()}}),A)})));return function(e){return A.apply(this,arguments)}}()}}}]);
//# sourceMappingURL=135.7e6ba9d8.chunk.js.map