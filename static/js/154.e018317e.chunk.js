(window.webpackJsonp=window.webpackJsonp||[]).push([[154],{3974:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(3),o=t(12),l=t(13),c=t(27),i=t(20),m=t(39),d=t(50),p=t(1),u=t.n(p),h=t(6),w=t.n(h),E=t(1048),b=t(490),g=t(540),v=t(522),f=t(581),y=t(516),O=t(502),j=t(511),S=t(567),k=t(559),C=t(727),P=t(595),x=t(496),I=t(505),M=t(52),T=t(1001),L=t.n(T),R=t(5),F=(t(705),function(e){return u.a.createElement(k.a,{show:e.show,onHide:e.close},u.a.createElement(k.a.Header,null,u.a.createElement(k.a.Title,null,"New Password Chosen")),u.a.createElement(k.a.Body,null,e.message),u.a.createElement(k.a.Footer,null,u.a.createElement(b.a,{onClick:e.close},e.t("common:close"))))}),H=function(e){Object(i.a)(t,e);var a=Object(m.a)(t);function t(e){var n;return Object(o.a)(this,t),n=a.call(this,e),Object(d.a)(Object(c.a)(n),"handleSubmit",function(){var e=Object(r.a)(s.a.mark((function e(a){var t,r,o,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!n.getPasswordValidationState()){e.next=18;break}return t=window.location.hash.substring(15),r=L.a.parse(t),o=r.token,e.prev=5,e.next=8,w.a.post(R.a+"/update_user_password",{id:o,newPassword:n.state.password});case 8:l=e.sent,n.setState({message:l.data.message,showModal:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),e.t0.response?(c="Server response: "+e.t0.response.status+".\n",c+=e.t0.response.data):c=e.t0.message,n.setState({message:c,showModal:!0});case 16:e.next=19;break;case 18:n.setState({showSubmitOverlay:!0,overlayTarget:a.target},(function(){setTimeout((function(){n.setState({showSubmitOverlay:!1})}),4e3)}));case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(a){return e.apply(this,arguments)}}()),Object(d.a)(Object(c.a)(n),"handleInputChange",(function(e){var a=e.target,t=a.value,s=a.name;n.setState({[s]:t})})),Object(d.a)(Object(c.a)(n),"getPasswordValidationState",(function(){var e=n.state,a=e.password,t=e.passwordRepeat;return!(a.length<6||0===t.length)&&a===t})),Object(d.a)(Object(c.a)(n),"close",(function(){n.props.history.replace("/")})),n.state={password:"",passwordRepeat:"",showModal:!1},n}return Object(l.a)(t,[{key:"render",value:function(){var e,a=this.state.password||this.state.passwordRepeat,t=this.getPasswordValidationState();return u.a.createElement("div",null,u.a.createElement("div",{className:"login"},u.a.createElement(g.a,{style:{opacity:.9}},u.a.createElement(g.a.Header,null,u.a.createElement(g.a.Title,{as:"h1"},u.a.createElement("small",null,"Choose a new Password"))),u.a.createElement(g.a.Body,null,u.a.createElement(S.a,null,u.a.createElement(x.a,{placement:"right",overlay:(e="Please enter a new password with at least six characters",u.a.createElement(I.a,{id:"tooltip"},e))},u.a.createElement(j.a,{controlId:"form-password"},u.a.createElement(f.a,null,u.a.createElement(v.a,{sm:2},u.a.createElement(y.a,null,this.props.t("common:password"))),u.a.createElement(v.a,{sm:10},u.a.createElement(O.a,{name:"password",type:"password",placeholder:"Enter new password",onChange:this.handleInputChange,maxLength:30,minLength:6,autoComplete:"new-password",isInvalid:a&&!t}),u.a.createElement(O.a.Feedback,{type:"invalid"},"Please enter a new password with at least six characters."))))),u.a.createElement(j.a,{controlId:"form-password-confirmation"},u.a.createElement(f.a,null,u.a.createElement(v.a,{sm:{span:10,offset:2}},u.a.createElement(O.a,{name:"passwordRepeat",type:"password",placeholder:"Confirm new password",onChange:this.handleInputChange,maxLength:30,minLength:6,autoComplete:"new-password",isInvalid:a&&!t}),u.a.createElement(O.a.Feedback,{type:"invalid"},"Passwords do not match.")))),u.a.createElement(j.a,null,u.a.createElement(b.a,{variant:"primary",type:"submit",onClick:this.handleSubmit,className:"centered"},this.props.t("common:confirm"))))))),this.state.showModal?u.a.createElement(F,{show:this.state.showModal,close:this.close,message:this.state.message,t:this.props.t}):null,u.a.createElement(C.a,{show:this.state.showSubmitOverlay,target:this.state.overlayTarget,placement:"bottom",containerPadding:20},u.a.createElement(P.a,{id:"popover-contained",title:"Input fields are not valid"},"Please make sure that the passwords are valid and match each other before submitting.")))}}]),t}(p.Component);a.default=Object(M.e)(Object(E.a)(["common","signup"])(H))},705:function(e,a,t){}}]);
//# sourceMappingURL=154.e018317e.chunk.js.map