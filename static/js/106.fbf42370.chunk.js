(window.webpackJsonp=window.webpackJsonp||[]).push([[106],{4773:function(e,t,a){"use strict";a.r(t);var n=a(9),l=a(16),i=a(98),s=a(485),o=a.n(s),r=a(30),p=a.n(r),u=a(489),c=a(571),d=a(635),m=a(649),b=a(526),h=a(539),f=a(552),g=a(686),v=a(1218),y=a(531),O=a(507),j=p()("isle:data-explorer:histogram"),E=function(e){var t=Object(s.useState)(!1),a=Object(i.a)(t,2),r=a[0],p=a[1],E=Object(s.useState)(null),C=Object(i.a)(E,2),S=C[0],x=C[1],V=Object(s.useState)(1),w=Object(i.a)(V,2),P=w[0],k=w[1],K=Object(s.useState)(e.defaultValue||e.variables[0]),D=Object(i.a)(K,2),N=D[0],F=D[1],B=Object(s.useState)(null),T=Object(i.a)(B,2),U=T[0],A=T[1],z=Object(s.useState)("Overlay"),H=Object(i.a)(z,2),L=H[0],q=H[1],I=Object(s.useState)(2),G=Object(i.a)(I,2),J=G[0],M=G[1],Q=Object(s.useState)(10),R=Object(i.a)(Q,2),W=R[0],X=R[1],Y=Object(s.useState)({start:null,size:100,end:null}),Z=Object(i.a)(Y,2),$=Z[0],_=Z[1],ee=Object(s.useState)("Automatic"),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],le=e.variables,ie=e.groupingVariables,se=e.t;return o.a.createElement(c.a,null,o.a.createElement(c.a.Header,{as:"h4"},se("Histogram"),o.a.createElement(O.a,{title:se("Histogram"),content:se("Histogram-description")})),o.a.createElement(c.a.Body,null,o.a.createElement(h.a,{legend:se("variable"),defaultValue:N,options:le,onChange:F}),o.a.createElement(m.a,null,o.a.createElement(d.a,{md:5},o.a.createElement(h.a,{legend:se("group-by"),options:ie,clearable:!0,onChange:A})),o.a.createElement(d.a,{md:4},U?o.a.createElement(h.a,{legend:"Mode:",defaultValue:L,options:["Overlay","Facets"],onChange:q}):null),o.a.createElement(d.a,{md:3},U&&"Facets"===L?o.a.createElement(f.a,{legend:"Columns",defaultValue:2,min:1,onChange:M,style:{marginTop:0},inputStyle:{width:70,marginLeft:0,marginTop:2}}):null)),o.a.createElement("div",null,o.a.createElement(h.a,{legend:se("binning-strategy"),options:["Automatic","Select # of bins","Set bin width"],defaultValue:ae,inline:!0,onChange:ne}),"Automatic"!==ae?o.a.createElement("div",null,o.a.createElement(f.a,{legend:"Start",inline:!0,defaultValue:$.start,onChange:function(e){var t=Object(l.a)({},$);t.start=e,_(t)},step:"any",inputStyle:{width:70}}),"Select # of bins"===ae?o.a.createElement(f.a,{legend:"Bins",defaultValue:W,min:1,step:1,onChange:X,inline:!0,inputStyle:{width:70}}):null,"Set bin width"===ae?o.a.createElement(f.a,{legend:"Size",inline:!0,defaultValue:$.size,onChange:function(e){var t=Object(l.a)({},$);t.size=e,_(t)},step:"any",inputStyle:{width:70}}):null,o.a.createElement(f.a,{legend:"End",inline:!0,defaultValue:$.end,onChange:function(e){var t=Object(l.a)({},$);t.end=e,_(t)},step:"any",inputStyle:{width:70}})):null),e.showDensityOption?o.a.createElement("div",null,o.a.createElement(b.a,{legend:se("display-density"),defaultValue:r,onChange:p}),o.a.createElement(h.a,{legend:se("overlay-density-line"),options:["Data-driven","Normal","Uniform","Exponential"],disabled:!r,defaultValue:S,clearable:!0,menuPlacement:"top",onChange:x}),"Data-driven"===S?o.a.createElement(f.a,{legend:"Bandwidth adjustment",defaultValue:P,min:0,step:.1,onChange:k}):null):null,o.a.createElement(u.a,{variant:"primary",block:!0,onClick:function(){j("Generate a histogram with ".concat(W," bins"));var t=Object(g.a)(6),a={variable:N,group:U,groupMode:L,displayDensity:r,densityType:S,binStrategy:ae};"Select # of bins"===ae?a.nBins=W:"Set bin width"===ae&&(a.xBins=$),"Facets"===L&&(a.nCols=J),"Data-driven"===S&&(a.bandwidthAdjust=P);var i=Object(l.a)(Object(l.a)({},a),{},{plotId:t}),s=o.a.createElement(v.a,Object(n.a)({data:e.data},a,{id:t,action:i,onShare:function(){e.session.addNotification({title:e.t("plot-shared"),message:e.t("plot-shared-message"),level:"success",position:"tr"}),e.logAction(y.G,i)}}));e.logAction(y.n,i),e.onCreated(s)}},se("generate"))))};E.defaultProps={defaultValue:null,groupingVariables:null,logAction:function(){},showDensityOption:!0,onSelected:function(){}},t.default=E},507:function(e,t,a){"use strict";var n=a(485),l=a.n(n),i=a(489),s=a(544),o=a(551),r=a(546),p=a(547);t.a=function(e){var t=l.a.createElement(s.a,{id:"popover-positioned-right"},l.a.createElement(o.a,null,e.title),l.a.createElement(r.a,null,e.content));return l.a.createElement(p.a,{trigger:["hover","focus"],placement:"left",rootClose:!0,overlay:t},l.a.createElement(i.a,{size:"sm",variant:"outline-secondary",className:"question-button"},l.a.createElement("div",{className:"fa fa-question"})))}},520:function(e,t,a){"use strict";var n=a(63),l=a.n(n),i=a(172),s=a.n(i);t.a=function(e){var t="Enter a".concat(1===e.step?"n integer":" number"," ");return e.max!==l.a&&e.min!==s.a?t+="between ".concat(e.min," and ").concat(e.max):e.min!==s.a?t+="larger or equal to ".concat(e.min):e.max!==l.a&&(t+="smaller or equal to ".concat(e.max)),t}},526:function(e,t,a){"use strict";var n=a(529);t.a=n.a},529:function(e,t,a){"use strict";(function(e){var n=a(16),l=a(12),i=a(13),s=a(27),o=a(20),r=a(39),p=a(50),u=a(485),c=a.n(u),d=a(8),m=a.n(d),b=a(510),h=a.n(b),f=a(177),g=a.n(f),v=a(519),y=a(497),O=a(504),j=(a(530),function(t){Object(o.a)(u,t);var a=Object(r.a)(u);function u(t,n){var i;Object(l.a)(this,u),i=a.call(this,t),Object(p.a)(Object(s.a)(i),"updateValue",(function(t){i.setState({value:t},(function(){i.props.bind&&e.lesson.setState({[i.props.bind]:t})}))})),Object(p.a)(Object(s.a)(i),"handleChange",(function(e){var t=e.target.checked;i.props.onChange(t),i.updateValue(t)})),Object(p.a)(Object(s.a)(i),"handleSpanChange",(function(e){var t=null!==i.props.value?!i.props.value:!i.state.value;i.props.onChange(t),i.updateValue(t)}));var o=n;return i.state={value:t.bind&&o.state?o.state[t.bind]:t.defaultValue,bind:t.bind,defaultValue:t.defaultValue},i}return Object(i.a)(u,[{key:"componentDidUpdate",value:function(){if(this.props.bind){var t=e.lesson.state[this.props.bind];t!==this.state.value&&this.setState({value:t})}}},{key:"render",value:function(){var e=this.state.value;null!==this.props.value&&(e=this.props.value);var t=c.a.createElement("input",{className:"checkbox-input",type:"checkbox",checked:e,value:"checkbox",onChange:this.handleChange,disabled:this.props.disabled,"aria-label":this.props.tooltip});if(!0===this.props.inline)return c.a.createElement(y.a,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},c.a.createElement("span",{style:Object(n.a)({marginLeft:"8px"},this.props.style)},t,c.a.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:this.handleSpanChange,onKeyPress:this.handleSpanChange},this.props.legend)));var a=this.props.disabled?g.a:this.handleSpanChange;return c.a.createElement(y.a,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},c.a.createElement("div",{className:"input checkbox-input-div",style:this.props.style},t,c.a.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:a,onKeyPress:a},this.props.legend)))}}],[{key:"getDerivedStateFromProps",value:function(t,a){var n={};return t.defaultValue!==a.defaultValue?(n.value=t.defaultValue,n.defaultValue=t.defaultValue):t.bind!==a.bind&&(n.value=e.lesson.state[t.bind],n.bind=t.bind),h()(n)?null:n}}]),u}(v.a));j.defaultProps={bind:"",onChange:function(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}},j.propTypes={bind:m.a.string,defaultValue:m.a.bool,value:m.a.bool,disabled:m.a.bool,inline:m.a.bool,onChange:m.a.func,legend:m.a.oneOfType([m.a.string,m.a.node]),tooltip:m.a.string,tooltipPlacement:m.a.oneOf(["left","top","right","bottom"]),style:m.a.object},j.contextType=O.a,t.a=j}).call(this,a(29))},530:function(e,t,a){},552:function(e,t,a){"use strict";var n=a(555);a(520).a;t.a=n.a},555:function(e,t,a){"use strict";(function(e){var n=a(16),l=a(12),i=a(13),s=a(27),o=a(20),r=a(39),p=a(50),u=a(485),c=a.n(u),d=a(8),m=a.n(d),b=a(30),h=a.n(b),f=a(519),g=a(97),v=a.n(g),y=a(95),O=a.n(y),j=a(40),E=a(53),C=a(510),S=a.n(C),x=a(63),V=a.n(x),w=a(172),P=a.n(w),k=a(497),K=a(504),D=a(586),N=a(520),F=(a(556),h()("isle:number-input")),B=Object(D.a)("number-input"),T=function(t){Object(o.a)(u,t);var a=Object(r.a)(u);function u(t,n){var i;Object(l.a)(this,u),i=a.call(this,t),Object(p.a)(Object(s.a)(i),"handleChange",(function(t){F("Handle change of input field...");var a=t.target.validity.valid,n=t.target.value;i.setState({value:n},(function(){i.props.value||a&&""!==n&&"-"!==n&&"."!==n&&"-."!==n?(n=parseFloat(n),O()(n)&&(n=""),i.props.onChange(n),i.props.bind&&e.lesson.setState({[i.props.bind]:n})):i.props.bind&&e.lesson.setState({[i.props.bind]:n})}))})),Object(p.a)(Object(s.a)(i),"finishChange",(function(t){var a=i.props,n=a.max,l=a.min,s=a.step;F("Finished change...");var o=t.target.value;if(v()(o,"/")){F("Encountered a fraction...");var r=o.split("/");""!==r[0]&&""!==r[1]&&(o=parseFloat(r[0])/parseFloat(r[1]))}O()(o)?o="":""!==o&&"-"!==o&&"."!==o&&"-."!==o&&(o=parseFloat(o)),o>n?o=n:o<l?o=l:1===s&&""!==o&&"-"!==o&&"."!==o&&"-."!==o&&(o-=o%i.props.step),i.props.onChange(o),i.props.onBlur(o),o!==i.state.value&&i.setState({value:o},(function(){i.props.bind&&e.lesson.setState({[i.props.bind]:o})}))}));var o=n;return i.id=t.id||B(t),i.state={value:t.value||(t.bind&&o.state?o.state[t.bind]:t.defaultValue),tooltip:t.tooltip||Object(N.a)(t),prevProps:t},i}return Object(i.a)(u,[{key:"componentDidUpdate",value:function(){if(F("Component did update..."),this.props.bind){var t=e.lesson.state[this.props.bind];t!==this.state.value&&Object(E.isPrimitive)(this.state.value)&&this.setState({value:t})}}},{key:"render",value:function(){var e=this.state.value;if(null!==this.props.value&&(e=this.props.value),!0===this.props.inline){var t=c.a.createElement("span",{className:"input",style:Object(n.a)({padding:"5px"},this.props.style)},this.props.legend?c.a.createElement("label",{htmlFor:this.id}," ",this.props.legend," =  "):null,c.a.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:Object(n.a)({width:"80px",paddingLeft:"6px",marginLeft:"3px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"}),this.props.description?c.a.createElement("span",null,"(",this.props.description,")"):c.a.createElement("span",null));return this.props.disabled?t:c.a.createElement(k.a,{id:"number-input-tooltip-inline",placement:"top",tooltip:this.state.tooltip},t)}var a=c.a.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:Object(n.a)({width:"80px",marginLeft:"24px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"});return c.a.createElement("div",{className:"input",style:Object(n.a)({marginBottom:"4px",marginTop:"4px"},this.props.style)},this.props.legend?c.a.createElement("span",null,c.a.createElement("label",{htmlFor:this.id},Object(j.isPrimitive)(this.props.legend)?this.props.legend+":":this.props.legend),this.props.description?c.a.createElement("span",null," ",this.props.description):null):null,c.a.createElement(k.a,{id:"number-input-tooltip",placement:this.props.tooltipPlacement,tooltip:this.state.tooltip},c.a.createElement("span",{className:"number-input-span"},a)))}}],[{key:"getDerivedStateFromProps",value:function(t,a){var n={},l=a.prevProps;return t.defaultValue!==l.defaultValue?n.value=t.defaultValue:t.bind!==l.bind&&(n.value=e.lesson.state[t.bind]),t.min!==l.min||t.max!==l.max?n.tooltip=t.tooltip||Object(N.a)(t):t.tooltip&&t.tooltip!==a.tooltip&&(n.tooltip=t.tooltip),S()(n)?null:(F("Created new state from props..."),n.prevProps=t,n)}}]),u}(f.a);T.defaultProps={bind:"",disabled:!1,legend:null,min:P.a,max:V.a,step:1,defaultValue:0,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"},T.propTypes={bind:m.a.string,defaultValue:m.a.number,disabled:m.a.bool,inline:m.a.bool,legend:m.a.oneOfType([m.a.string,m.a.node]),max:m.a.number,min:m.a.number,numbersOnly:m.a.bool,onBlur:m.a.func,onChange:m.a.func,onKeyDown:m.a.func,onKeyPress:m.a.func,onKeyUp:m.a.func,step:m.a.oneOfType([m.a.number,m.a.string]),style:m.a.object,inputStyle:m.a.object,value:m.a.number,tooltip:m.a.string,tooltipPlacement:m.a.oneOf(["top","right","bottom","left"])},T.contextType=K.a,t.a=T}).call(this,a(29))},556:function(e,t,a){}}]);
//# sourceMappingURL=106.fbf42370.chunk.js.map