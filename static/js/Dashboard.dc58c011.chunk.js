(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[26362],{12569:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return A}});var a=n(28991),r=n(87329),l=n(6610),i=n(5991),s=n(63349),o=n(10379),p=n(60446),u=n(96156),c=n(73284),d=n(10077),h=n.n(d),m=n(25472),b=n(9617),g=n(9548),f=n(944),v=n.n(f),y=n(12076),Z=n.n(y),C=n(20216),E=n(72731),x=n(87914),S=n(87950),k=n(5046),I=n(95571),N=n(87651),T=n(10724);(0,n(72439).E4)("Dashboard");var w=h()("isle:dashboard"),V=(0,C.Z)("dashboard"),_=function(e){(0,o.Z)(n,e);var t=(0,p.Z)(n);function n(e){var a;(0,l.Z)(this,n),a=t.call(this,e),(0,u.Z)((0,s.Z)(a),"handleClick",(function(){for(var e,t=new Array(a.nArgs),n=0;n<a.nArgs;n++)t[n]=a.state[n];a.props.autoUpdate||a.context.log({id:a.id,type:T.CN,value:t});(e=a.props).onGenerate.apply(e,t)})),(0,u.Z)((0,s.Z)(a),"getCounter",(function(){return void 0===a._counter?a._counter=0:a._counter+=1,a._counter})),(0,u.Z)((0,s.Z)(a),"handleFieldChange",(function(e,t){w("Setting ".concat(e," to ").concat(t));var n={};n[e]=t,a.setState(n,(function(){a.props.autoUpdate&&a.handleClick()}))})),(0,u.Z)((0,s.Z)(a),"registerChildren",(function(e,t){return e?(w("Registering ".concat(c.Children.count(e)," children...")),c.Children.map(e,(function(e){if(c.isValidElement(e)){var t={},n=[];if(e.type===E.Z||e.type===x.Z||e.type===S.Z||e.type===k.Z||e.type===I.Z||"CheckboxInput"===e.type.name||"NumberInput"===e.type.name||"SelectInput"===e.type.name||"SliderInput"===e.type.name||"TextInput"===e.type.name||"Input"===e.type.name){w("Encountering an input element...");var l=a.getCounter();t.onChange=function(t){a.handleFieldChange(l,t),e.props.onChange(t)}}return e.props&&e.props.children&&(n=a.registerChildren(e.props.children)),w("Clone child element with new properties..."),c.cloneElement.apply(c,[e,t].concat((0,r.Z)(n)))}return e}))):null}));var i={};a.nArgs=0;return function e(t){t&&c.Children.forEach(t,(function(t){v()(t)||(Z()(t.props,"defaultValue")&&(i[a.nArgs]=t.props.defaultValue,a.nArgs+=1),Z()(t.props,"children")&&e(t.props.children))}))}(e.children),w("Initial state: %s",JSON.stringify(i)),a.id=e.id||V(e),a.state=i,a}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.props.autoStart&&this.handleClick()}},{key:"render",value:function(){return this._counter=void 0,this._children=this.registerChildren(this.props.children),c.createElement(g.Z,{className:"dashboard ".concat(this.props.className),style:(0,a.Z)({maxWidth:this.props.maxWidth},this.props.style)},this.props.title?c.createElement(g.Z.Header,{as:"h4"},this.props.title):null,c.createElement(g.Z.Body,null,c.createElement("p",null,this.props.description),this._children,this.props.autoUpdate?c.createElement("span",null):c.createElement(b.Z,{variant:"primary",className:"dashboard-button",disabled:this.props.disabled,onClick:this.handleClick,block:!0},this.props.label||this.props.t("generate"))))}}]),n}(c.Component);_.defaultProps={autoStart:!0,autoUpdate:!1,description:"",disabled:!1,label:null,maxWidth:600,className:"",style:{},onGenerate:function(){},title:""},_.contextType=N.Z;var A=(0,m.Z)("Dashboard")(_)},5046:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var a=n(28991),r=n(6610),l=n(5991),i=n(63349),s=n(10379),o=n(60446),p=n(96156),u=n(73284),c=n(83603),d=n.n(c),h=n(10077),m=n.n(h),b=n(68359),g=n(43200),f=n(84972),v=n(20887),y=n.n(v),Z=n(67775),C=n.n(Z),E=n(40867),x=n.n(E),S=n(66785),k=n.n(S),I=n(87651),N=m()("isle:slider-input");function T(e){var t="Enter a".concat(1===e.step?"n integer":" number"," ");return e.max!==x()&&e.min!==k()?t+="between ".concat(e.min," and ").concat(e.max,":"):e.min!==k()?t+="larger or equal to ".concat(e.min,":"):e.max!==x()?t+="smaller or equal to ".concat(e.max,":"):t+=":",t}var w=function(e){(0,s.Z)(c,e);var t=(0,o.Z)(c);function c(e,a){var l;(0,r.Z)(this,c),l=t.call(this,e),(0,p.Z)((0,i.Z)(l),"finishChange",(function(e){N("Finalizing change...");var t=l.props,a=t.max,r=t.min,i=t.step,s=e.target.value;""!==s&&(s=parseFloat(s)),s>a?s=a:s<r?s=r:1===i&&""!==s&&(s-=s%l.props.step),N("Setting state value to: ".concat(s,"...")),s!==l.state.value&&l.setState({value:s},(function(){l.props.onChange(s),l.props.bind&&n.g.lesson.setState((0,p.Z)({},l.props.bind,s))}))})),(0,p.Z)((0,i.Z)(l),"handleInputChange",(function(e){var t=e.target.validity.valid,a=e.target.value;N("Input value changed to ".concat(a)),l.setState({value:a},(function(){t&&""!==a?(a=parseFloat(a),l.props.onChange(a),l.props.bind&&n.g.lesson.setState((0,p.Z)({},l.props.bind,a))):l.props.bind&&n.g.lesson.setState((0,p.Z)({},l.props.bind,a))}))}));var s=a;return l.state={tooltip:T(e),value:e.bind&&s.state?s.state[e.bind]:e.defaultValue,prevProps:e},l}return(0,l.Z)(c,[{key:"componentDidUpdate",value:function(){if(this.props.bind){var e=n.g.lesson.state[this.props.bind];e!==this.state.value&&this.setState({value:e})}}},{key:"render",value:function(){var e=this.state.value,t=this.props,n=t.legend,r=t.disabled,l=t.inline,i=t.min,s=t.max,o=t.precision,p=t.step,c=t.minLabel,d=t.maxLabel;""!==e&&y()(e,-1*o);var h=u.createElement("input",{type:"range",className:"slider-range-input",min:i,max:s,step:p,value:e,disabled:r,onChange:this.handleInputChange,style:(0,a.Z)({width:"160px",float:l?"none":"left",display:l?"inline":"block"},this.props.rangeInputStyle)}),m=u.createElement("input",{type:"number",name:"input",className:"slider-number-input",disabled:r,min:i,max:s,step:p,value:e,onChange:this.handleInputChange,onBlur:this.finishChange,style:(0,a.Z)({float:l?"none":"right",marginTop:n&&!l?-22:0},this.props.numberInputStyle),autoComplete:"off"});return l?u.createElement("span",{className:"input",style:(0,a.Z)({padding:"5px",opacity:r?.2:1},this.props.style)},n?u.createElement("label",null,n,":"):null,u.createElement("span",{className:"slider-range-wrapper"},u.createElement(b.Z,{variant:"secondary"},c||i),h,u.createElement(b.Z,{variant:"secondary"},d||s)),m):u.createElement(f.Z,{id:"sliderTooltip",placement:"top",show:!this.props.hideTooltip,tooltip:r?"The slider input is disabled right now.":this.state.tooltip},u.createElement("div",{className:"slider-outer-div input",style:(0,a.Z)({opacity:r?.2:1},this.props.style)},n?u.createElement("label",null,n,":"):null,u.createElement("br",null),u.createElement("span",{className:"slider-range-wrapper"},u.createElement(b.Z,{variant:"secondary",style:{float:"left"}},c||i),h,u.createElement(b.Z,{variant:"secondary",style:{float:"left"}},d||s)),m,u.createElement("br",null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},r=t.prevProps;return e.defaultValue!==r.defaultValue?a.value=e.defaultValue:e.bind!==r.bind&&(a.value=n.g.lesson.state[e.bind]),e.min===r.min&&e.max===r.max||(a.tooltip=T(e)),C()(a)?null:(a.prevProps=e,a)}}]),c}(g.Z);w.defaultProps={inline:!1,legend:null,min:0,minLabel:null,max:100,maxLabel:null,step:1,defaultValue:10,onChange:function(){},precision:10,disabled:!1,hideTooltip:!1,style:{},numberInputStyle:{},rangeInputStyle:{}},w.propTypes={defaultValue:d().number,disabled:d().bool,inline:d().bool,legend:d().oneOfType([d().string,d().node]),max:d().number,maxLabel:d().string,min:d().number,minLabel:d().string,onChange:d().func,precision:d().number,step:d().oneOfType([d().number,d().string]),hideTooltip:d().bool,style:d().object,numberInputStyle:d().object,rangeInputStyle:d().object},w.contextType=I.Z;var V=w}}]);
//# sourceMappingURL=Dashboard.dc58c011.chunk.js.map