/*! For license information please see 9165.fbba84a9.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[9165],{9165:function(e,t,r){"use strict";r.r(t);var a=r(6610),l=r(5991),n=r(63349),s=r(10379),o=r(60446),i=r(96156),c=r(41488),m=r(25472),d=r(62300),u=r(70048),f=r(75314),v=r(54012),p=r(73230),h=r(52785),E=r(96849),g=r.n(E),Z=r(42263),b=function(e){(0,s.Z)(r,e);var t=(0,o.Z)(r);function r(e){var l;return(0,a.Z)(this,r),l=t.call(this,e),(0,i.Z)((0,n.Z)(l),"handleUpload",(function(e){var t=e.target.files[0],r=new FormData;r.append("license",t,t.name),l.props.uploadLicense({formData:r,user:l.props.user})})),(0,i.Z)((0,n.Z)(l),"handleRemoval",(function(){l.toggleDeleteModal(),l.props.removeLicense()})),(0,i.Z)((0,n.Z)(l),"toggleDeleteModal",(function(){l.setState({showDeleteModal:!l.state.showDeleteModal})})),l.state={showDeleteModal:!1},l}return(0,l.Z)(r,[{key:"componentDidMount",value:function(){this.props.getLicense(this.props.user),0===this.props.admin.users.length&&this.props.getUsers()}},{key:"renderLicenseInformation",value:function(){var e,t=this.props,r=t.admin,a=t.t,l=r.license;if(!l||!l.valid)return c.createElement(d.Z,{style:{width:"100%",height:"73.7%"}},c.createElement("h3",{style:{textAlign:"center",marginTop:"12%"}},a("no-license-found")));if(l.trialPeriod>0){e=0;for(var n=0;n<r.users.length;n++){var s=r.users[n],o=new Date,i=g()(s.createdAt)?s.createdAt:new Date(s.createdAt);o.setDate(o.getDate()-l.trialPeriod),i>=o&&(e+=1)}}var m=r.users.length>0?r.users.length:r.statistics.nUsers,v=l.maxUsers<m,p=l.maxInstructors<r.statistics.nInstructors;return c.createElement(c.Fragment,null,c.createElement("h1",null,a("your-license"),":",c.createElement("span",{style:{marginLeft:12}},l.type)),c.createElement(f.Z,{bordered:!0},c.createElement("tbody",null,c.createElement("tr",null,c.createElement("td",{colSpan:"2",className:"title"},a("registration-information"),":"),c.createElement("td",{style:{background:v?"lightcoral":"white"}},c.createElement("div",{className:"title"},a("number-of-seats")),l.maxUsers),c.createElement("td",{style:{background:v?"lightcoral":"white"}},c.createElement("div",{className:"title"},a("active-users")),r.users.length>0?r.users.length:r.statistics.nUsers)),c.createElement("tr",null,c.createElement("td",{colSpan:"2"}),c.createElement("td",{style:{background:p?"lightcoral":"white"}},c.createElement("div",{className:"title"},a("number-of-instructors")),l.maxInstructors),c.createElement("td",{style:{background:p?"lightcoral":"white"}},c.createElement("div",{className:"title"},a("active-instructors")),r.statistics.nInstructors)),c.createElement("tr",null,c.createElement("td",{colSpan:"2"}),c.createElement("td",null,c.createElement("div",{className:"title"},a("user-trial-period")),l.trialPeriod," ",a("days")),c.createElement("td",null,c.createElement("div",{className:"title"},a("users-currently-in-trial")),e)),c.createElement("tr",null,c.createElement("td",{colSpan:"2",className:"title"},a("validity-period"),":"),c.createElement("td",null,c.createElement("div",{className:"title"},a("start-date")),l.startDate),c.createElement("td",{style:{background:l.endDate<new Date?"lightcoral":"white"}},c.createElement("div",{className:"title"},a("end-date")),l.endDate)),c.createElement("tr",null,c.createElement("td",null,c.createElement("div",{className:"title"},a("licensed-to"),":")),c.createElement("td",null,c.createElement("div",{className:"title"},a("common:name")),l.name),c.createElement("td",null,c.createElement("div",{className:"title"},a("common:email-address")),l.email),c.createElement("td",null,c.createElement("div",{className:"title"},a("common:organization")),l.organization)))),c.createElement(u.Z,{variant:"danger",size:"sm",onClick:this.toggleDeleteModal},a("remove-license")))}},{key:"render",value:function(){var e=this.props.t;return c.createElement("div",{className:"admin-settings-outer-container"},c.createElement(p.Z,{className:"license-upload-button"},c.createElement(v.Z,{htmlFor:"fileUpload",style:{cursor:"pointer"}},c.createElement("h2",null,c.createElement(h.Z,{variant:"secondary"},e("upload-new-license"))),c.createElement("input",{id:"fileUpload",type:"file",accept:".isle-license",onChange:this.handleUpload,style:{display:"none"}}))),this.renderLicenseInformation(),this.state.showDeleteModal?c.createElement(Z.Z,{title:e("remove-license"),message:e("remove-license-confirm"),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.handleRemoval}):null)}}]),r}(c.Component);t.default=(0,m.Z)(["admin","common"])(b)},42263:function(e,t,r){"use strict";var a=r(41488),l=r(25472),n=r(70048),s=r(85840),o=function(e){return a.createElement(s.Z,{show:e.show,onHide:e.close},a.createElement(s.Z.Header,null,a.createElement(s.Z.Title,{as:"h3"},e.title)),a.createElement(s.Z.Body,null,e.message),a.createElement(s.Z.Footer,null,a.createElement(n.Z,{onClick:e.close},e.t("cancel")),a.createElement(n.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};o.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,l.Z)(["common"])(o)},25101:function(e){"use strict";var t=Date.prototype.getDay;e.exports=t},96849:function(e,t,r){"use strict";var a=r(85373);e.exports=a},85373:function(e,t,r){"use strict";var a=r(58456),l=r(19221),n=r(93384),s=a();e.exports=function(e){return"object"===typeof e&&(e instanceof Date||(s?n(e):"[object Date]"===l(e)))}},93384:function(e,t,r){"use strict";var a=r(25101);e.exports=function(e){try{return a.call(e),!0}catch(t){return!1}}},52785:function(e,t,r){"use strict";var a=r(22122),l=r(19756),n=r(78265),s=r.n(n),o=r(41488),i=r(38674),c=["bsPrefix","variant","pill","className","as"],m=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.variant,m=e.pill,d=e.className,u=e.as,f=void 0===u?"span":u,v=(0,l.Z)(e,c),p=(0,i.vE)(r,"badge");return o.createElement(f,(0,a.Z)({ref:t},v,{className:s()(d,p,m&&p+"-pill",n&&p+"-"+n)}))}));m.displayName="Badge",m.defaultProps={pill:!1},t.Z=m},72945:function(e,t,r){"use strict";var a=r(22122),l=r(19756),n=r(78265),s=r.n(n),o=r(41488),i=r(38674),c=["bsPrefix","className","as"],m=["xl","lg","md","sm","xs"],d=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,d=e.as,u=void 0===d?"div":d,f=(0,l.Z)(e,c),v=(0,i.vE)(r,"col"),p=[],h=[];return m.forEach((function(e){var t,r,a,l=f[e];if(delete f[e],"object"===typeof l&&null!=l){var n=l.span;t=void 0===n||n,r=l.offset,a=l.order}else t=l;var s="xs"!==e?"-"+e:"";t&&p.push(!0===t?""+v+s:""+v+s+"-"+t),null!=a&&h.push("order"+s+"-"+a),null!=r&&h.push("offset"+s+"-"+r)})),p.length||p.push(v),o.createElement(u,(0,a.Z)({},f,{ref:t,className:s().apply(void 0,[n].concat(p,h))}))}));d.displayName="Col",t.Z=d},67064:function(e,t,r){"use strict";var a=r(41488).createContext({controlId:void 0});t.Z=a},73230:function(e,t,r){"use strict";var a=r(22122),l=r(19756),n=r(78265),s=r.n(n),o=r(41488),i=r(67064),c=r(38674),m=["bsPrefix","className","children","controlId","as"],d=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,d=e.children,u=e.controlId,f=e.as,v=void 0===f?"div":f,p=(0,l.Z)(e,m);r=(0,c.vE)(r,"form-group");var h=(0,o.useMemo)((function(){return{controlId:u}}),[u]);return o.createElement(i.Z.Provider,{value:h},o.createElement(v,(0,a.Z)({},p,{ref:t,className:s()(n,r)}),d))}));d.displayName="FormGroup",t.Z=d},54012:function(e,t,r){"use strict";var a=r(22122),l=r(19756),n=r(78265),s=r.n(n),o=r(41488),i=(r(47815),r(72945)),c=r(67064),m=r(38674),d=["as","bsPrefix","column","srOnly","className","htmlFor"],u=o.forwardRef((function(e,t){var r=e.as,n=void 0===r?"label":r,u=e.bsPrefix,f=e.column,v=e.srOnly,p=e.className,h=e.htmlFor,E=(0,l.Z)(e,d),g=(0,o.useContext)(c.Z).controlId;u=(0,m.vE)(u,"form-label");var Z="col-form-label";"string"===typeof f&&(Z=Z+" "+Z+"-"+f);var b=s()(p,u,v&&"sr-only",f&&Z);return h=h||g,f?o.createElement(i.Z,(0,a.Z)({ref:t,as:"label",className:b,htmlFor:h},E)):o.createElement(n,(0,a.Z)({ref:t,className:b,htmlFor:h},E))}));u.displayName="FormLabel",u.defaultProps={column:!1,srOnly:!1},t.Z=u},62300:function(e,t,r){"use strict";var a=r(22122),l=r(19756),n=r(41488),s=r(78265),o=r.n(s),i=r(38674),c=["as","className","fluid","bsPrefix"],m=n.forwardRef((function(e,t){var r,s=e.as,m=void 0===s?"div":s,d=e.className,u=e.fluid,f=e.bsPrefix,v=(0,l.Z)(e,c),p=((r={})[f=(0,i.vE)(f,"jumbotron")]=!0,r[f+"-fluid"]=u,r);return n.createElement(m,(0,a.Z)({ref:t},v,{className:o()(d,p)}))}));m.defaultProps={fluid:!1},m.displayName="Jumbotron",t.Z=m},75314:function(e,t,r){"use strict";var a=r(22122),l=r(19756),n=r(78265),s=r.n(n),o=r(41488),i=r(38674),c=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],m=o.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,m=e.striped,d=e.bordered,u=e.borderless,f=e.hover,v=e.size,p=e.variant,h=e.responsive,E=(0,l.Z)(e,c),g=(0,i.vE)(r,"table"),Z=s()(n,g,p&&g+"-"+p,v&&g+"-"+v,m&&g+"-striped",d&&g+"-bordered",u&&g+"-borderless",f&&g+"-hover"),b=o.createElement("table",(0,a.Z)({},E,{className:Z,ref:t}));if(h){var N=g+"-responsive";return"string"===typeof h&&(N=N+"-"+h),o.createElement("div",{className:N},b)}return b}));t.Z=m}}]);
//# sourceMappingURL=9165.fbba84a9.chunk.js.map