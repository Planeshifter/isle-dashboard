(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{4833:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(28),o=a(0),c=a.n(o),s=a(3),i=a(12),u=a(13),m=a(27),p=a(20),d=a(39),b=a(50),h=a(1048),f=a(490),k=a(540),E=a(522),g=a(581),v=a(516),j=a(502),O=a(511),w=a(567),x=(a(705),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(i.a)(this,a),n=t.call(this,e),Object(b.a)(Object(m.a)(n),"handleSubmit",function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r,l,o,s,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={email:n.props.user.requestTFA.email,password:n.props.user.requestTFA.password,token:n.state.token},e.next=4,n.props.handleLoginTFA(a);case 4:if(!(r=e.sent)){e.next=12;break}if(l=r.data,o=l.message,s=l.token,i=l.id,"ok"!==o){e.next=12;break}return e.next=10,n.props.fetchCredentials({token:s,id:i});case 10:(u=e.sent)&&n.props.getEnrollableCohorts(u);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.state={token:""},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.props.t;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"login"},r.a.createElement(k.a,{className:"login-panel"},r.a.createElement(k.a.Header,null,r.a.createElement(k.a.Title,{as:"h1",style:{textAlign:"center"}},"ISLE ",r.a.createElement("small",null,"Dashboard"))),r.a.createElement(k.a.Body,null,r.a.createElement("p",null,t("enter-tfa-token")),r.a.createElement(w.a,null,r.a.createElement(O.a,{controlId:"form-token"},r.a.createElement(g.a,null,r.a.createElement(E.a,{sm:3},r.a.createElement(v.a,null,t("token"))),r.a.createElement(E.a,{sm:9},r.a.createElement(j.a,{type:"text",placeholder:t("enter-token"),onChange:function(t){e.setState({token:t.target.value})}})))),r.a.createElement(f.a,{className:"centered",variant:"primary",onClick:this.handleSubmit,type:"submit",disabled:6!==this.state.token.length},t("common:login")))))))}}]),a}(n.Component)),y=Object(h.a)(["login","common"])(x),C=a(58),A=a(57),F=a(70);var T=Object(l.c)((function(e){return{user:e.user}}),(function(e){return{handleLoginTFA:Object(F.i)(e),fetchCredentials:Object(C.b)(e),getEnrollableCohorts:Object(A.g)(e)}}))(y);t.default=T},705:function(e,t,a){}}]);
//# sourceMappingURL=158.9ca55c8b.chunk.js.map