(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[38263],{70744:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var n=a(9251),r=a(87757),s=a.n(r),o=a(92137),l=a(6610),i=a(5991),c=a(63349),m=a(10379),d=a(60446),p=a(96156),u=a(41488),h=a(25472),f=a(70048),v=a(29530),w=a(72945),Z=a(23596),g=a(54012),E=a(75018),b=a(73230),y=a(36659),N=a(29619),P=a(58932),x=a(9050),S=a(93391),C=a(47701),k=a(59486),I=a(8682),R=a(86072),V=a.n(R),F=a(4135),L=(a(27184),function(e){return u.createElement(C.Z,{id:"tooltip"},e)}),T=function(e){return u.createElement(N.Z,{show:e.show,onHide:e.close},u.createElement(N.Z.Header,null,u.createElement(N.Z.Title,null,"Registration Completion")),u.createElement(N.Z.Body,null,e.message),u.createElement(N.Z.Footer,null,u.createElement(f.Z,{onClick:e.close},e.t("common:close"))))},M=function(e){(0,m.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,p.Z)((0,c.Z)(n),"handleSubmit",function(){var e=(0,o.Z)(s().mark((function e(t){var a,r,o,l,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!n.getPasswordValidationState()||!n.getNameValidationState()){e.next=18;break}return e.prev=2,a=window.location.hash.substring(24),r=I.parse(a),o=r.token,e.next=8,V().post(F.ZP+"/complete_registration",{id:o,newName:n.state.name,newPassword:n.state.password});case 8:l=e.sent,n.setState({message:l.data.message,showModal:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),e.t0.response?(i="Server response: "+e.t0.response.status+".\n",i+=e.t0.response.data):i=e.t0.message,n.setState({message:i,showModal:!0});case 16:e.next=19;break;case 18:n.setState({showSubmitOverlay:!0,overlayTarget:t.target},(function(){setTimeout((function(){n.setState({showSubmitOverlay:!1})}),4e3)}));case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()),(0,p.Z)((0,c.Z)(n),"handleInputChange",(function(e){var t=e.target,a=t.value,r=t.name;n.setState((0,p.Z)({},r,a))})),(0,p.Z)((0,c.Z)(n),"getPasswordValidationState",(function(){var e=n.state,t=e.password,a=e.passwordRepeat;return!(t.length<6||0===a.length)&&t===a})),(0,p.Z)((0,c.Z)(n),"close",(function(){n.props.history.replace("/")})),(0,p.Z)((0,c.Z)(n),"getNameValidationState",(function(){return n.state.name.length>3})),n.state={name:"",password:"",passwordRepeat:"",showModal:!1},n}return(0,i.Z)(a,[{key:"renderName",value:function(){var e=this.props.t;return u.createElement(S.Z,{placement:"right",overlay:L(e("signup:name-tooltip"))},u.createElement(b.Z,{controlId:"form-name"},u.createElement(Z.Z,null,u.createElement(w.Z,{sm:3},u.createElement(g.Z,null,e("common:name"))),u.createElement(w.Z,{sm:9},u.createElement(E.Z,{name:"name",type:"text",placeholder:e("enter-name"),onChange:this.handleInputChange,isInvalid:this.state.name&&!this.getNameValidationState()}),u.createElement(y.Z.Control.Feedback,{type:"invalid"},e("signup:invalid-name"))))))}},{key:"renderPassword",value:function(){var e=this.state.password||this.state.passwordRepeat,t=this.getPasswordValidationState();return u.createElement(u.Fragment,null,u.createElement(S.Z,{placement:"right",overlay:L("Please enter a new password with at least six characters")},u.createElement(b.Z,{controlId:"form-password"},u.createElement(Z.Z,null,u.createElement(w.Z,{sm:3},u.createElement(g.Z,null,this.props.t("common:password"))),u.createElement(w.Z,{sm:9},u.createElement(E.Z,{name:"password",type:"password",placeholder:this.props.t("common:choose-new-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,autoComplete:"new-password",isInvalid:e&&!t}),u.createElement(E.Z.Feedback,{type:"invalid"},"Please enter a new password with at least six characters."))))),u.createElement(b.Z,{controlId:"form-password-confirmation"},u.createElement(Z.Z,null,u.createElement(w.Z,{sm:{span:9,offset:3}},u.createElement(E.Z,{name:"passwordRepeat",type:"password",placeholder:this.props.t("signup:confirm-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,autoComplete:"new-password",isInvalid:e&&!t}),u.createElement(E.Z.Feedback,{type:"invalid"},this.props.t("signup:invalid-password"))))))}},{key:"render",value:function(){var e=this.props.settings;return u.createElement("div",null,u.createElement("div",{className:"login"},u.createElement(v.Z,{style:{opacity:.9}},u.createElement(v.Z.Header,null,u.createElement(v.Z.Title,{as:"h1"},u.createElement("small",null,"Complete Registration"))),u.createElement(v.Z.Body,null,u.createElement(y.Z,null,this.renderName(),this.renderPassword(),u.createElement(b.Z,null,u.createElement(f.Z,{variant:"primary",type:"submit",onClick:this.handleSubmit,className:"centered",disabled:!this.getNameValidationState()||!this.getPasswordValidationState()},"Confirm")))))),this.state.showModal?u.createElement(T,{show:this.state.showModal,close:this.close,message:this.state.message,t:this.props.t}):null,u.createElement(P.Z,{show:this.state.showSubmitOverlay,target:this.state.overlayTarget,placement:"bottom",containerPadding:20},u.createElement(x.Z,{id:"popover-contained",title:"Input fields are not valid"},"Please make sure that the passwords are valid and match each other before submitting.")),e.brandingLogo?u.createElement("img",{className:"login-branding-logo",src:e.brandingLogo,alt:"Branded Logo"}):null)}}]),a}(u.Component);M.defaultProps={settings:{}};var B=(0,k.EN)((0,h.Z)(["common","signup"])(M));var G=(0,n.$j)((function(e){return{settings:e.settings}}),(function(){return{}}))(B)},44503:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var n=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(e,t){return n(e.querySelectorAll(t))}},9050:function(e,t,a){"use strict";a.d(t,{Z:function(){return p}});var n=a(22122),r=a(19756),s=a(78265),o=a.n(s),l=a(41488),i=(a(90427),a(38674)),c=l.forwardRef((function(e,t){var a=e.as,s=void 0===a?"div":a,c=e.bsPrefix,m=e.className,d=e.children,p=(0,r.Z)(e,["as","bsPrefix","className","children"]);return c=(0,i.vE)(c,"popover-header"),l.createElement(s,(0,n.Z)({ref:t},p,{className:o()(c,m)}),d)})),m=l.forwardRef((function(e,t){var a=e.as,s=void 0===a?"div":a,c=e.bsPrefix,m=e.className,d=e.children,p=(0,r.Z)(e,["as","bsPrefix","className","children"]);return c=(0,i.vE)(c,"popover-body"),l.createElement(s,(0,n.Z)({ref:t},p,{className:o()(m,c)}),d)})),d=l.forwardRef((function(e,t){var a=e.bsPrefix,s=e.placement,c=e.className,d=e.style,p=e.children,u=e.content,h=e.arrowProps,f=(e.popper,e.show,(0,r.Z)(e,["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"])),v=(0,i.vE)(a,"popover"),w=((null==s?void 0:s.split("-"))||[])[0];return l.createElement("div",(0,n.Z)({ref:t,role:"tooltip",style:d,"x-placement":w,className:o()(c,v,w&&"bs-popover-"+w)},f),l.createElement("div",(0,n.Z)({className:"arrow"},h)),u?l.createElement(m,null,p):p)}));d.defaultProps={placement:"right"},d.Title=c,d.Content=m;var p=d},23596:function(e,t,a){"use strict";var n=a(22122),r=a(19756),s=a(78265),o=a.n(s),l=a(41488),i=a(38674),c=["xl","lg","md","sm","xs"],m=l.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,m=e.noGutters,d=e.as,p=void 0===d?"div":d,u=(0,r.Z)(e,["bsPrefix","className","noGutters","as"]),h=(0,i.vE)(a,"row"),f=h+"-cols",v=[];return c.forEach((function(e){var t,a=u[e];delete u[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&v.push(""+f+n+"-"+t)})),l.createElement(p,(0,n.Z)({ref:t},u,{className:o().apply(void 0,[s,h,m&&"no-gutters"].concat(v))}))}));m.displayName="Row",m.defaultProps={noGutters:!1},t.Z=m},27184:function(){}}]);
//# sourceMappingURL=38263.b6e9993f.chunk.js.map