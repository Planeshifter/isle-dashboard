/*! For license information please see 24808.aab9a8bd.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[24808],{99046:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return G}});var a=r(41488),s=r(9251),n=r(6610),o=r(5991),l=r(10379),c=r(60446),i=r(910),u=r(25472),d=r(72536),m=r.n(d),p=r(78674),f=r.n(p),h=r(22858),v=r.n(h),b=r(66731),E=r.n(b),g=r(63349),Z=r(96156),N=r(70048),y=r(73109),k=r(23596),x=r(72945),w=r(29619),C=r(73230),P=r(51189),I=r(80145),F=r.n(I),R=r(4135);var M=function(e){(0,l.Z)(r,e);var t=(0,c.Z)(r);function r(e){var a;return(0,n.Z)(this,r),a=t.call(this,e),(0,Z.Z)((0,g.Z)(a),"handleEnroll",(function(){var e=a.props.cohorts[a.state.checked]._id;a.props.addUserToCohort(e,a.props.namespace),a.setState({showModal:!1})})),(0,Z.Z)((0,g.Z)(a),"handleFormClick",(function(e){var t=e.target.checked,r=e.target.dataset.pos;t&&a.setState({checked:Number(r)})})),(0,Z.Z)((0,g.Z)(a),"toggleModal",(function(){a.setState({showModal:!a.state.showModal})})),a.state={showModal:!1,checked:null},a}return(0,o.Z)(r,[{key:"renderOwners",value:function(){for(var e,t,r=[],s=this.props.namespace.owners.filter((function(e){return e.writeAccess})),n=f()(F()(s.length)),o=0;o<s.length;o+=n){for(var l=[],c=0;c<n;c++)l[c]=(e=s[o+c],t=o+c,e?a.createElement(x.Z,{key:"owner-".concat(t),className:"enroll-page-course-teacher"},a.createElement("img",{className:"enroll-page-course-teacher-thumbnail",src:R.ZP+"/thumbnail/"+e.picture,alt:"Lesson Thumbnail"}),a.createElement("span",{className:"enroll-page-course-teacher-info"},a.createElement("span",{className:"enroll-page-courses-teacher-name"},e.name),a.createElement("br",null),a.createElement("span",{className:"enroll-page-course-teacher-email"},a.createElement("a",{href:"mailto:"+e.email},e.email)))):null);r.push(a.createElement(k.Z,{key:"row-".concat(o)},l))}return a.createElement("div",{className:"enroll-page-course-owner-wrapper"},a.createElement(y.Z,{className:"enroll-page-course-owners"},r))}},{key:"renderAvailableCohorts",value:function(){for(var e=[],t=0;t<this.props.cohorts.length;t++){var r=this.props.cohorts[t],s=new Date(r.startDate).toLocaleDateString(),n=new Date(r.endDate).toLocaleDateString(),o=a.createElement(a.Fragment,null,a.createElement("span",null,r.title),a.createElement("span",{className:"enroll-cohort-date"},s," - ",n));e.push(a.createElement(P.Z,{id:t,key:t,"data-pos":t,type:"radio",checked:this.state.checked===t,label:o,name:"radioGroup",onChange:this.handleFormClick}))}return e}},{key:"render",value:function(){var e=this.props.t,t="enroll-page-course-item",r=e("common:enroll");return!1===this.props.enrollable&&(t="enroll-item-deactivated",r=e("already-enrolled")),a.createElement(a.Fragment,null,a.createElement("div",{className:t},a.createElement("h1",null,this.props.namespace.title),a.createElement("div",{className:"enroll-page-course-description"},this.props.namespace.description),this.renderOwners(),a.createElement(N.Z,{size:"sm",className:"enroll-button",disabled:!this.props.enrollable,onClick:this.toggleModal},r)),a.createElement(w.Z,{onHide:this.toggleModal,show:this.state.showModal},a.createElement(w.Z.Header,{closeButton:!0},a.createElement("h1",null,this.props.namespace.title)),a.createElement(w.Z.Body,null,a.createElement("div",{className:"enroll-page-cohort-information"},"(",e("select-cohort"),")"),a.createElement("div",{className:"enroll-page-cohorts-list"},a.createElement(C.Z,null,this.renderAvailableCohorts(this.props.cohorts))),a.createElement(N.Z,{onClick:this.handleEnroll,size:"sm",className:"enroll-button-modal"},e("enroll-in-course")))))}}]),r}(a.Component),T=(0,i.WidthProvider)(i.Responsive),D=function(e){(0,l.Z)(r,e);var t=(0,c.Z)(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this,e)).state={},a}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.fetchCohorts(this.props.user)}},{key:"createLayout",value:function(e){var t=3.72,r=e.map((function(e,r){return{lg:{i:"cell-".concat(r),x:6*r%24,y:f()(r/4)*t,w:6,h:t},md:{i:"cell-".concat(r),x:6*r%18,y:f()(r/3)*t,w:6,h:t},sm:{i:"cell-".concat(r),x:6*r%12,y:f()(r/2)*t,w:6,h:t},xs:{i:"cell-".concat(r),x:6*r%6,y:f()(r/1)*t,w:6,h:t}}}));return r={lg:m()(r,"lg"),md:m()(r,"md"),sm:m()(r,"sm"),xs:m()(r,"xs")}}},{key:"checkEnrollable",value:function(e){for(var t=this.props.user,r=0;r<t.enrolledNamespaces.length;r++)if(t.enrolledNamespaces[r].title===e)return!1;return!0}},{key:"renderCourses",value:function(){var e=this.props.cohorts;if(!e)return null;e=e.filter((function(e){return e.namespace}));for(var t=v()(e,(function(e){return e.namespace.title})),r=E()(t),s=new Array(r.length),n=0;n<r.length;n++){var o=r[n];s[n]=a.createElement("div",{className:"enroll-page-course",key:"cell-".concat(n)},a.createElement(M,{addUserToCohort:this.props.addUserToCohort,enrollable:this.checkEnrollable(o),namespace:t[o][0].namespace,user:this.props.user,cohorts:t[o],t:this.props.t}))}var l=this.createLayout(r);return a.createElement(T,{margin:[20,20],containerPadding:[10,10],layouts:l,breakpoints:{lg:1800,md:1400,sm:900,xs:500},cols:{lg:24,md:18,sm:12,xs:6},isResizable:!1,isDraggable:!1,rowHeight:60},s)}},{key:"render",value:function(){return a.createElement("div",{className:"enroll-page"},a.createElement("img",{className:"enroll-page-background",src:"img/pexels_background.jpeg",alt:""}),a.createElement("div",{className:"enroll-page-content"},this.renderCourses()))}}]),r}(a.Component),S=(0,u.Z)(["enroll_page","common"])(D),L=r(58713);var G=(0,s.$j)((function(e){return{cohorts:e.cohorts,user:e.user}}),(function(e){return{addUserToCohort:(0,L.Yc)(e),fetchCohorts:(0,L.R9)(e)}}))(S)},35264:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(41488);function s(e){var t,r,s=(t=e,(r=(0,a.useRef)(t)).current=t,r);(0,a.useEffect)((function(){return function(){return s.current()}}),[])}},80145:function(e,t,r){"use strict";var a=r(47839);e.exports=a},47839:function(e){"use strict";var t=Math.sqrt;e.exports=t},72945:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(38674),i=["xl","lg","md","sm","xs"],u=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,u=e.as,d=void 0===u?"div":u,m=(0,s.Z)(e,["bsPrefix","className","as"]),p=(0,c.vE)(r,"col"),f=[],h=[];return i.forEach((function(e){var t,r,a,s=m[e];if(delete m[e],"object"===typeof s&&null!=s){var n=s.span;t=void 0===n||n,r=s.offset,a=s.order}else t=s;var o="xs"!==e?"-"+e:"";t&&f.push(!0===t?""+p+o:""+p+o+"-"+t),null!=a&&h.push("order"+o+"-"+a),null!=r&&h.push("offset"+o+"-"+r)})),f.length||f.push(p),l.createElement(d,(0,a.Z)({},m,{ref:t,className:o().apply(void 0,[n].concat(f,h))}))}));u.displayName="Col",t.Z=u},73109:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(38674),i=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.fluid,i=e.as,u=void 0===i?"div":i,d=e.className,m=(0,s.Z)(e,["bsPrefix","fluid","as","className"]),p=(0,c.vE)(r,"container"),f="string"===typeof n?"-"+n:"-fluid";return l.createElement(u,(0,a.Z)({ref:t},m,{className:o()(d,n?""+p+f:p)}))}));i.displayName="Container",i.defaultProps={fluid:!1},t.Z=i},61422:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(83603),i=r.n(c),u={type:i().string,tooltip:i().bool,as:i().elementType},d=l.forwardRef((function(e,t){var r=e.as,n=void 0===r?"div":r,c=e.className,i=e.type,u=void 0===i?"valid":i,d=e.tooltip,m=void 0!==d&&d,p=(0,s.Z)(e,["as","className","type","tooltip"]);return l.createElement(n,(0,a.Z)({},p,{ref:t,className:o()(c,u+"-"+(m?"tooltip":"feedback"))}))}));d.displayName="Feedback",d.propTypes=u,t.Z=d},51189:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=(r(84910),r(41488)),c=r(61422),i=r(67064),u=r(38674),d=l.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,c=e.bsCustomPrefix,d=e.className,m=e.type,p=void 0===m?"checkbox":m,f=e.isValid,h=void 0!==f&&f,v=e.isInvalid,b=void 0!==v&&v,E=e.isStatic,g=e.as,Z=void 0===g?"input":g,N=(0,s.Z)(e,["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"]),y=(0,l.useContext)(i.Z),k=y.controlId,x=y.custom?[c,"custom-control-input"]:[n,"form-check-input"],w=x[0],C=x[1];return n=(0,u.vE)(w,C),l.createElement(Z,(0,a.Z)({},N,{ref:t,type:p,id:r||k,className:o()(d,n,h&&"is-valid",b&&"is-invalid",E&&"position-static")}))}));d.displayName="FormCheckInput";var m=d,p=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.bsCustomPrefix,c=e.className,d=e.htmlFor,m=(0,s.Z)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),p=(0,l.useContext)(i.Z),f=p.controlId,h=p.custom?[n,"custom-control-label"]:[r,"form-check-label"],v=h[0],b=h[1];return r=(0,u.vE)(v,b),l.createElement("label",(0,a.Z)({},m,{ref:t,htmlFor:d||f,className:o()(c,r)}))}));p.displayName="FormCheckLabel";var f=p,h=l.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,d=e.bsCustomPrefix,p=e.inline,h=void 0!==p&&p,v=e.disabled,b=void 0!==v&&v,E=e.isValid,g=void 0!==E&&E,Z=e.isInvalid,N=void 0!==Z&&Z,y=e.feedbackTooltip,k=void 0!==y&&y,x=e.feedback,w=e.className,C=e.style,P=e.title,I=void 0===P?"":P,F=e.type,R=void 0===F?"checkbox":F,M=e.label,T=e.children,D=e.custom,S=e.as,L=void 0===S?"input":S,G=(0,s.Z)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"]),V="switch"===R||D,_=V?[d,"custom-control"]:[n,"form-check"],j=_[0],A=_[1];n=(0,u.vE)(j,A);var U=(0,l.useContext)(i.Z).controlId,z=(0,l.useMemo)((function(){return{controlId:r||U,custom:V}}),[U,V,r]),H=V||null!=M&&!1!==M&&!T,B=l.createElement(m,(0,a.Z)({},G,{type:"switch"===R?"checkbox":R,ref:t,isValid:g,isInvalid:N,isStatic:!H,disabled:b,as:L}));return l.createElement(i.Z.Provider,{value:z},l.createElement("div",{style:C,className:o()(w,n,V&&"custom-"+R,h&&n+"-inline")},T||l.createElement(l.Fragment,null,B,H&&l.createElement(f,{title:I},M),(g||N)&&l.createElement(c.Z,{type:g?"valid":"invalid",tooltip:k},x))))}));h.displayName="FormCheck",h.Input=m,h.Label=f;var v=h},67064:function(e,t,r){"use strict";var a=r(41488).createContext({controlId:void 0});t.Z=a},73230:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(67064),i=r(38674),u=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,u=e.children,d=e.controlId,m=e.as,p=void 0===m?"div":m,f=(0,s.Z)(e,["bsPrefix","className","children","controlId","as"]);r=(0,i.vE)(r,"form-group");var h=(0,l.useMemo)((function(){return{controlId:d}}),[d]);return l.createElement(c.Z.Provider,{value:h},l.createElement(p,(0,a.Z)({},f,{ref:t,className:o()(n,r)}),u))}));u.displayName="FormGroup",t.Z=u},23596:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(38674),i=["xl","lg","md","sm","xs"],u=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,u=e.noGutters,d=e.as,m=void 0===d?"div":d,p=(0,s.Z)(e,["bsPrefix","className","noGutters","as"]),f=(0,c.vE)(r,"row"),h=f+"-cols",v=[];return i.forEach((function(e){var t,r=p[e];delete p[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=r&&"object"===typeof r?r.cols:r)&&v.push(""+h+a+"-"+t)})),l.createElement(m,(0,a.Z)({ref:t},p,{className:o().apply(void 0,[n,f,u&&"no-gutters"].concat(v))}))}));u.displayName="Row",u.defaultProps={noGutters:!1},t.Z=u}}]);
//# sourceMappingURL=24808.aab9a8bd.chunk.js.map