/*! For license information please see 61883.bf16a08a.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[61883],{2388:function(e,t,a){"use strict";var n=a(41488);t.Z=function(e){var t,a,r=e.Header,s=e.accessor,o=e.trueLabel,l=e.falseLabel,i=e.printLabels,c=void 0!==i&&i,m=e.maxWidth;return c?(t=function(e){return!0===e.value?o:!1===e.value?l:null},a={marginTop:"8px",color:"darkslategrey"}):(t=function(e){return e.value?n.createElement("i",{className:"far fa-check-square"}):null},a={marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center"}),{Header:r,accessor:s,style:a,Cell:t,filterMethod:function(e,t){if("all"===e.value)return!0;var a=e.pivotId||e.id;return void 0===t[a]||String(t[a])===e.value},Filter:function(e){var t,a=e.filter,r=e.onChange,s=function(e){var t=e.target.value;r(t)};return t=a?a.value:"all",n.createElement("select",{onBlur:s,onChange:s,style:{width:"100%",backgroundColor:"ghostwhite"},value:t},n.createElement("option",{value:"all"},"Show All"),n.createElement("option",{value:!0},o),n.createElement("option",{value:!1},l))},maxWidth:void 0===m?150:m}}},1249:function(e,t,a){"use strict";var n=a(41488);t.Z=function(e){var t=e.Header,a=e.Cell,r=e.accessor,s=e.labels,o=e.maxWidth;return{Header:t,accessor:r,style:undefined,Cell:a,filterMethod:function(e,t){if("all"===e.value)return!0;var a=e.pivotId||e.id;return void 0===t[a]||String(t[a])===e.value},Filter:function(e){var t,a=e.filter,r=e.onChange,o=function(e){var t=e.target.value;r(t)};return t=a?a.value:"all",n.createElement("select",{onBlur:o,onChange:o,style:{width:"100%",backgroundColor:"ghostwhite"},value:t},n.createElement("option",{value:"all"},"Show All"),s.map((function(e,t){return n.createElement("option",{value:e,key:t},e)})))},maxWidth:void 0===o?150:o}}},80062:function(e,t,a){"use strict";var n=a(6610),r=a(5991),s=a(63349),o=a(10379),l=a(60446),i=a(96156),c=a(41488),m=a(34513),d=a(93391),u=a(9050),p=a(70048),h=(a(92545),function(e){(0,o.Z)(a,e);var t=(0,l.Z)(a);function a(e){var r;return(0,n.Z)(this,a),r=t.call(this,e),(0,i.Z)((0,s.Z)(r),"handleDatesChange",(function(e){var t=e.startDate,a=e.endDate;r.setState({startDate:t,endDate:a},(function(){r.props.onDatesChange(r.state)}))})),(0,i.Z)((0,s.Z)(r),"handleReset",(function(){r.setState({startDate:r.props.minDate,endDate:r.props.maxDate},(function(){r.props.onDatesChange(r.state)}))})),r.state={startDate:e.startDate,endDate:e.endDate},r}return(0,r.Z)(a,[{key:"componentDidUpdate",value:function(e){this.props.startDate===e.startDate&&this.props.endDate===e.endDate||this.setState({startDate:this.props.startDate,endDate:this.props.endDate})}},{key:"render",value:function(){var e=this;return c.createElement(c.Fragment,null,c.createElement(m.DateRangePicker,{startDate:this.state.startDate,endDate:this.state.endDate,startDateId:"start_date_input",endDateId:"end_date_input",onDatesChange:this.handleDatesChange,focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},isOutsideRange:function(){return!1}}),c.createElement(p.Z,{variant:"warning",onClick:this.handleReset,style:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,fontSize:20}},"x"))}}]),a}(c.Component)),f=function(e){return new Date(e.value).toLocaleString()};t.Z=function(e){var t=e.Header,a=e.accessor,n=e.Cell,r=e.style,s=e.startDate,o=e.endDate,l=e.maxWidth;return{Header:t,accessor:a,style:r,Cell:n||f,filterMethod:function(e,t){if(!e.value)return!0;var a=e.value,n=a.startDate,r=a.endDate,s=t[e.pivotId||e.id].getTime();return n&&r?s>=n.valueOf()&&s<=r.valueOf():n?s>=n.valueOf():!r||s<=r.valueOf()},Filter:function(e){var t=e.filter,a=e.onChange,n=t&&t.value||{},r=c.createElement(u.Z,{id:"popover-data",style:{maxWidth:400}},c.createElement(u.Z.Title,{as:"h3"},"Dates"),c.createElement(u.Z.Content,{style:{backgroundColor:"grey"}},c.createElement(h,{startDate:n.startDate||s,minDate:s,maxDate:o,endDate:n.endDate||o,onDatesChange:function(e){var t=e.startDate,n=e.endDate;a({startDate:t,endDate:n})}})));return c.createElement(d.Z,{trigger:"click",placement:"right",overlay:r},c.createElement(p.Z,{size:"sm",style:{float:"left",marginLeft:6},variant:"secondary"},c.createElement("i",{className:"far fa-calendar-alt"})))},maxWidth:void 0===l?150:l}}},27984:function(e,t,a){"use strict";var n=a(41488),r=a(4846),s=a.n(r),o=a(20887),l=a.n(o),i=(a(87815),function(e,t){var a=t[e.pivotId||e.id];return a>=e.value.min&&a<=e.value.max}),c=function(e){return l()(e,-2)};t.Z=function(e){var t=e.Header,a=e.accessor,r=e.Cell,o=e.minValue,m=void 0===o?0:o,d=e.maxValue,u=void 0===d?1:d,p=e.maxWidth,h=void 0===p?150:p,f=e.filterMethod,v=e.formatLabel;return{Header:t,accessor:a,Cell:r||function(e){return e.value?"".concat(l()(e.value,-3)):"NA"},filterMethod:f||i,Filter:function(e){var t=e.filter,a=e.onChange;m===u&&(u=m+=1);var r={max:u,min:m};return n.createElement("div",{style:{paddingLeft:"4px",paddingRight:"4px",paddingTop:"8px"}},n.createElement(s(),{allowSameValues:!0,maxValue:u,minValue:m,step:.1,value:t?t.value:r,onChange:function(e){a(e)},formatLabel:v||c}))},maxWidth:h}}},38409:function(e,t,a){"use strict";var n=a(41488),r=a(75018),s=a(22445);t.Z=function(e){var t=e.id,a=e.Header,o=e.Cell,l=e.accessor,i=e.maxWidth,c=void 0===i?150:i,m=e.minWidth,d=e.filterMethod;m>c&&(c=m);var u={id:t,Header:a,accessor:l,Cell:o,filterMethod:d||s.Z,Filter:function(e){e.filter;var t=e.onChange;return n.createElement(r.Z,{autoComplete:"none",onChange:function(e){t(e.target.value)}})}};return c&&(u.maxWidth=c),m&&(u.minWidth=m),u}},22445:function(e,t,a){"use strict";var n=a(24833),r=a.n(n),s=a(30165),o=a.n(s);t.Z=function(e,t){var a=t[e.id]||"";return r()(o()(a),o()(e.value))}},1625:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return me}});var n=a(87329),r=a(87757),s=a.n(r),o=a(92137),l=a(6610),i=a(5991),c=a(63349),m=a(10379),d=a(60446),u=a(96156),p=a(41488),h=a(10077),f=a.n(h),v=a(25472),g=a(51527),Z=a.n(g),E=a(75018),w=a(70048),y=a(93391),C=a(47701),b=a(9050),j=a(13918),k=a.n(j),x=a(40867),F=a.n(x),D=a(46966),S=a.n(D),M=a(47355),z=a(42263),I=a(4135),A=a(98032),U=a(52428),H=a(28991),T=a(29619),N=a(89308),L=a(72945),P=a(23596),W=a(54012),V=a(73230),_=a(36659),R=a(11387),O=a.n(R),B=function(e){return p.createElement(C.Z,{id:"tooltip"},e)},q=function(e){(0,m.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,c.Z)(n),"handleSubmit",(function(e){var t;e.preventDefault(),n.getEmailValidationState()&&n.getNameValidationState()&&n.getPasswordValidationState()&&n.props.onConfirm({name:(t=n.state).name,email:t.email,password:t.password,customFields:t.customFields})})),(0,u.Z)((0,c.Z)(n),"handleInputChange",(function(e){var t=e.target,a=t.value,r=t.name;n.setState((0,u.Z)({},r,a))})),(0,u.Z)((0,c.Z)(n),"getEmailValidationState",(function(){return O()(n.state.email)})),(0,u.Z)((0,c.Z)(n),"getNameValidationState",(function(){return n.state.name.length>3})),(0,u.Z)((0,c.Z)(n),"getPasswordValidationState",(function(){var e=n.state,t=e.password,a=e.passwordRepeat;return!(t.length<6||0===a.length)&&t===a})),n.state={name:"",email:"",password:"",passwordRepeat:"",customFields:{}},n}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){this.props.getCustomFields()}},{key:"renderEmail",value:function(){var e=this.props.t;return p.createElement(y.Z,{placement:"right",overlay:B(e("email-tooltip"))},p.createElement(V.Z,{controlId:"form-email"},p.createElement(P.Z,null,p.createElement(L.Z,{sm:3},p.createElement(W.Z,null,e("common:email"))),p.createElement(L.Z,{sm:9},p.createElement(E.Z,{name:"email",type:"email",autoComplete:"username email",placeholder:e("common:enter-email"),onChange:this.handleInputChange,isInvalid:this.state.email&&!this.getEmailValidationState()}),p.createElement(_.Z.Control.Feedback,{type:"invalid"},e("invalid-email"))))))}},{key:"renderName",value:function(){var e=this.props.t;return p.createElement(y.Z,{placement:"right",overlay:B(e("name-tooltip"))},p.createElement(V.Z,{controlId:"form-name"},p.createElement(P.Z,null,p.createElement(L.Z,{sm:3},p.createElement(W.Z,null,e("common:name"))),p.createElement(L.Z,{sm:9},p.createElement(E.Z,{name:"name",type:"text",placeholder:e("common:enter-name"),onChange:this.handleInputChange,isInvalid:this.state.name&&!this.getNameValidationState()}),p.createElement(_.Z.Control.Feedback,{type:"invalid"},e("invalid-name"))))))}},{key:"renderPasswordFields",value:function(){var e=this.props.t,t=this.getPasswordValidationState(),a=this.state.password||this.state.passwordRepeat;return p.createElement(p.Fragment,null,p.createElement(y.Z,{placement:"right",overlay:B(e("password-tooltip"))},p.createElement(V.Z,{controlId:"form-password"},p.createElement(P.Z,null,p.createElement(L.Z,{sm:3},p.createElement(W.Z,null,e("common:password"))),p.createElement(L.Z,{sm:9},p.createElement(E.Z,{name:"password",type:"password",autoComplete:"new-password",placeholder:e("choose-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:a&&!t}),p.createElement(_.Z.Control.Feedback,{type:"invalid"},e("invalid-password")))))),p.createElement(V.Z,{controlId:"form-repeat-password"},p.createElement(P.Z,null,p.createElement(L.Z,{sm:3},p.createElement(W.Z,null,e("common:repeat"))),p.createElement(L.Z,{sm:{span:9}},p.createElement(E.Z,{name:"passwordRepeat",type:"password",autoComplete:"new-password",placeholder:e("confirm-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:a&&!t}),p.createElement(_.Z.Control.Feedback,{type:"invalid"},e("invalid-password-match"))))))}},{key:"render",value:function(){var e=this,t=this.props.t,a=this.state.customFields,n=this.props.user.availableCustomFields||[];return p.createElement(T.Z,{show:!0,onHide:this.props.onHide},p.createElement(T.Z.Header,{closeButton:!0},p.createElement(T.Z.Title,{as:"h3"},t("admin:create-new-user"))),p.createElement(T.Z.Body,null,p.createElement(_.Z,null,this.renderEmail(),this.renderName(),this.renderPasswordFields(),n.filter((function(e){return e.editableOnSignup})).map((function(t,n){var r,s=a[t.name];return r="checkbox"===t.type?p.createElement(V.Z,{controlId:"form-".concat(t.name),as:P.Z},p.createElement(L.Z,{sm:3}),p.createElement(L.Z,{sm:3},p.createElement(_.Z.Check,{type:"checkbox",label:t.name,defaultChecked:s,onChange:function(a){var n=(0,H.Z)({},e.state.customFields);n[t.name]=a.target.checked,e.setState({customFields:n,changed:!0})}}))):"text"===t.type?p.createElement(V.Z,{controlId:"form-".concat(t.name),as:P.Z},p.createElement(L.Z,{sm:3},p.createElement(W.Z,null,t.name)),p.createElement(L.Z,{sm:9},p.createElement(E.Z,{name:t.name,type:"text",value:s,placeholder:"Enter ".concat(t.name,"..."),onChange:function(a){var n=(0,H.Z)({},e.state.customFields);n[t.name]=a.target.value,e.setState({customFields:n,changed:!0})},autoComplete:"none"}))):p.createElement(V.Z,{controlId:"form-".concat(t.name),as:P.Z},p.createElement(L.Z,{sm:3},p.createElement(W.Z,null,t.name)),p.createElement(L.Z,{sm:9},p.createElement(N.ZP,{defaultValue:s?{label:s,value:s}:null,options:t.options.map((function(e){return{value:e,label:e}})),onChange:function(a){var n=(0,H.Z)({},e.state.customFields);n[t.name]=a.value,e.setState({customFields:n,changed:!0})}}))),p.createElement(y.Z,{key:n,placement:"top",overlay:B(t.description)},r)})),p.createElement(V.Z,null,p.createElement(w.Z,{variant:"primary",className:"centered",type:"submit",onClick:this.handleSubmit},t("common:confirm"))))))}}]),a}(p.Component);q.defaultProps={user:{}};var G=(0,v.Z)(["signup","admin","common"])(q),J=a(1249),Y=a(2388),K=a(27984),Q=a(80062),X=a(38409),$=a(29530),ee=a(67775),te=a.n(ee),ae=function(e){return p.createElement(C.Z,{id:"tooltip"},e)},ne=f()("isle-dashboard"),re=function(e){(0,m.Z)(a,e);var t=(0,d.Z)(a);function a(e){var n;return(0,l.Z)(this,a),n=t.call(this,e),(0,u.Z)((0,c.Z)(n),"handleUpdate",(function(){var e=n.state,t=e.name,a=e.password,r=e.organization,s=e.writeAccess,o=e.verifiedEmail,l=e.administrator,i=e.twoFactorAuth,c={name:t,organization:r,id:n.props.user._id,writeAccess:s,verifiedEmail:o,administrator:l,twoFactorAuth:i},m=!1;a&&(c.password=a,m=!0),te()(n.state.customFields)||(c.customFields=n.state.customFields,m=!0);var d=n.props.user;t===d.name&&r===d.organization&&s===d.writeAccess&&o===d.verifiedEmail&&l===d.administrator&&i===d.twoFactorAuth||(m=!0),m&&(ne("Update user..."),n.props.updateUser(c),n.props.onHide())})),(0,u.Z)((0,c.Z)(n),"handleInputChange",(function(e){var t=e.target,a=t.value,r=t.name;n.setState((0,u.Z)({},r,a))})),(0,u.Z)((0,c.Z)(n),"handleCheckboxChangeFactory",(function(e){return function(t){n.setState((0,u.Z)({},e,t.target.checked))}})),(0,u.Z)((0,c.Z)(n),"getNameValidationState",(function(){var e=n.state.name;return e&&e.length>3})),(0,u.Z)((0,c.Z)(n),"getPasswordValidationState",(function(){return n.state.password.length>=6})),n.state={email:e.user.email,name:e.user.name,organization:e.user.organization,password:"",writeAccess:e.user.writeAccess,verifiedEmail:e.user.verifiedEmail,administrator:e.user.administrator,customFields:e.user.customFields||{},twoFactorAuth:e.user.twoFactorAuth},n}return(0,i.Z)(a,[{key:"render",value:function(){var e=this,t=this.getPasswordValidationState(),a=this.getNameValidationState(),n=this.state.password||this.state.passwordRepeat,r=this.props.t,s=this.props.user.customFields||{};return p.createElement(p.Fragment,null,p.createElement(T.Z,{dialogClassName:"user-edit-modal",show:this.props.show,onHide:this.props.onHide},p.createElement(T.Z.Header,null,p.createElement(T.Z.Title,{as:"h3",style:{width:"100%"}},r("common:profile"),p.createElement(y.Z,{placement:"right",overlay:ae(r("close-edit-modal"))},p.createElement(w.Z,{onClick:this.props.onHide,style:{float:"right"},variant:"outline-secondary","aria-label":r("close-edit-modal"),className:"modal-close"},p.createElement("span",{"aria-hidden":"true"},"x"))))),p.createElement(_.Z,{noValidate:!0,style:{padding:"20px"}},p.createElement(P.Z,null,p.createElement(L.Z,{md:4},p.createElement("img",{src:"".concat(I.ZP,"/avatar/").concat(this.props.user.picture),alt:"Profile Pic",width:"160px"})),p.createElement(L.Z,{md:4},p.createElement(V.Z,{controlId:"form-email"},p.createElement(W.Z,null,r("common:email")),p.createElement(E.Z,{name:"email",type:"email",value:this.state.email,disabled:!0,autoComplete:"none"})),p.createElement(y.Z,{placement:"right",overlay:ae(r("update-name"))},p.createElement(V.Z,{controlId:"form-name"},p.createElement(W.Z,null,r("common:name")),p.createElement(E.Z,{name:"name",type:"text",value:this.state.name,onChange:this.handleInputChange,isInvalid:!a,autoComplete:"none"}),p.createElement(_.Z.Control.Feedback,{type:"invalid"},r("invalid-name")))),p.createElement(y.Z,{placement:"right",overlay:ae(r("update-organization"))},p.createElement(V.Z,{controlId:"form-organization"},p.createElement(W.Z,null,r("common:organization")),p.createElement(E.Z,{name:"organization",type:"text",value:this.state.organization,onChange:this.handleInputChange,autoComplete:"none"})))),p.createElement(L.Z,{md:4},p.createElement(y.Z,{placement:"right",overlay:ae(r("admin:enter-new-password"))},p.createElement(V.Z,{controlId:"form-password"},p.createElement(W.Z,null,r("common:password")),p.createElement(E.Z,{name:"password",type:"password","data-lpignore":"true",value:this.state.password,autoComplete:"none",placeholder:r("common:choose-new-password"),onChange:this.handleInputChange,maxLength:30,minLength:6,isInvalid:n&&!t}),p.createElement(_.Z.Control.Feedback,{type:"invalid"},"Please enter a new password with at least six characters."))),p.createElement(V.Z,null,p.createElement(_.Z.Check,{type:"checkbox",label:r("admin:instructor"),defaultChecked:this.props.user.writeAccess,onChange:this.handleCheckboxChangeFactory("writeAccess")}),p.createElement(_.Z.Check,{type:"checkbox",label:r("admin:admin"),defaultChecked:this.props.user.administrator,onChange:this.handleCheckboxChangeFactory("administrator")}),p.createElement(_.Z.Check,{type:"checkbox",label:r("admin:email-verified"),defaultChecked:this.props.user.verifiedEmail,onChange:this.handleCheckboxChangeFactory("verifiedEmail")}),p.createElement(_.Z.Check,{type:"checkbox",label:r("common:two-factor-authentication"),defaultChecked:this.props.user.twoFactorAuth,onChange:this.handleCheckboxChangeFactory("twoFactorAuth")})))),p.createElement(P.Z,null,this.props.availableCustomFields.map((function(t,a){var n,r=s[t.name];return n="checkbox"===t.type?p.createElement(_.Z.Check,{type:"checkbox",label:t.name,defaultChecked:r,onChange:function(a){var n=(0,H.Z)({},e.state.customFields);n[t.name]=a.target.checked,e.setState({customFields:n})}}):"text"===t.type?p.createElement(V.Z,{controlId:"form-".concat(t.name)},p.createElement(W.Z,null,t.name),p.createElement(E.Z,{name:t.name,type:"text",value:r,placeholder:"Enter ".concat(t.name,"..."),onChange:function(a){var n=(0,H.Z)({},e.state.customFields);n[t.name]=a.target.value,e.setState({customFields:n})},autoComplete:"none"})):p.createElement(V.Z,{controlId:"form-".concat(t.name)},p.createElement(W.Z,null,t.name),p.createElement(N.ZP,{defaultValue:r?{label:r,value:r}:null,options:t.options.map((function(e){return{value:e,label:e}})),onChange:function(a){var n=(0,H.Z)({},e.state.customFields);n[t.name]=a.value,e.setState({customFields:n})}})),p.createElement(L.Z,{md:4,key:a},p.createElement(y.Z,{placement:"top",overlay:ae(t.description)},n))})))),p.createElement($.Z,null,p.createElement(w.Z,{block:!0,disabled:!1,onClick:this.handleUpdate},r("common:update")))))}}]),a}(p.Component);re.defaultProps={};var se=re,oe=a(22445),le=a(75033),ie=f()("isle-dashboard:admin"),ce=function(e){(0,m.Z)(a,e);var t=(0,d.Z)(a);function a(e){var r;return(0,l.Z)(this,a),r=t.call(this,e),(0,u.Z)((0,c.Z)(r),"toggleImpersonateModal",(function(){r.setState({showImpersonateModal:!r.state.showImpersonateModal})})),(0,u.Z)((0,c.Z)(r),"toggleDeleteModal",(function(){r.setState({showDeleteModal:!r.state.showDeleteModal})})),(0,u.Z)((0,c.Z)(r),"toggleEditModal",(function(){r.setState({showEditModal:!r.state.showEditModal})})),(0,u.Z)((0,c.Z)(r),"impersonateUser",(function(){r.setState({showImpersonateModal:!1},(function(){r.props.impersonateUser({id:r.state.selectedUser._id,password:r.state.password})}))})),(0,u.Z)((0,c.Z)(r),"deleteSelectedUser",(function(){ie("Delete user ".concat(r.state.selectedUser.name," with id ").concat(r.state.selectedUser._id)),r.setState({showDeleteModal:!1},(function(){r.props.deleteUser({id:r.state.selectedUser._id})}))})),(0,u.Z)((0,c.Z)(r),"askToImpersonateSelectedUserFactory",(function(e){return function(){r.setState({showImpersonateModal:!r.state.showImpersonateModal,selectedUser:e})}})),(0,u.Z)((0,c.Z)(r),"askToDeleteSelectedUserFactory",(function(e){return function(){r.setState({showDeleteModal:!r.state.showDeleteModal,selectedUser:e})}})),(0,u.Z)((0,c.Z)(r),"askToEditUserFactory",(function(e){return function(){r.setState({showEditModal:!r.state.showEditModal,selectedUser:e})}})),(0,u.Z)((0,c.Z)(r),"sanitizeFactory",(function(e){return(0,o.Z)(s().mark((function t(){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.props.sanitizeRequest({id:e._id});case 2:if(!(a=t.sent)||!a.data){t.next=5;break}return t.abrupt("return",r.props.addNotification({title:r.props.t("sanitize-user"),message:a.data.message,level:"success",position:"tl"}));case 5:case"end":return t.stop()}}),t)})))})),(0,u.Z)((0,c.Z)(r),"handlePassword",(function(e){r.setState({password:e.target.value})})),(0,u.Z)((0,c.Z)(r),"createColumns",(function(){for(var e=r.props.t,t=r.props.admin.users,a=0,s=0,o=0,l=F(),i=0,c=0;c<t.length;c++)t[c].chatMessages>a&&(a=t[c].chatMessages),t[c].nActions>s&&(s=t[c].nActions),t[c].spentTime>o&&(o=t[c].spentTime),t[c].createdAt>i&&(i=t[c].createdAt),t[c].updatedAt>i&&(i=t[c].updatedAt),t[c].createdAt<l&&(l=t[c].createdAt),t[c].updatedAt<l&&(l=t[c].updatedAt);return l=Z()(l),i=Z()(i),[{Header:"Pic",accessor:"picture",Cell:function(e){return p.createElement("img",{className:"table-pic",src:"".concat(I.ZP,"/thumbnail/").concat(e.original.picture),alt:"Profile Pic"})},maxWidth:46,minWidth:46,filterable:!1,resizable:!1,sortable:!1,style:{color:"darkslategrey"}},(0,X.Z)({Header:e("common:name"),accessor:"name",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"}}),(0,X.Z)({Header:e("common:email"),accessor:"email",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:oe.Z}),(0,X.Z)({Header:e("common:organization"),accessor:"organization",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:200,filterMethod:oe.Z}),(0,Y.Z)({Header:e("instructor"),accessor:"writeAccess",trueLabel:e("instructor"),falseLabel:e("no-instructor"),maxWidth:100}),(0,Y.Z)({Header:e("admin"),accessor:"administrator",trueLabel:e("admin"),falseLabel:e("no-admin"),maxWidth:100}),(0,Y.Z)({Header:e("email-verified"),accessor:"verifiedEmail",trueLabel:e("verified"),falseLabel:e("not-verified"),maxWidth:90}),(0,Y.Z)({Header:e("common:two-factor-authentication"),accessor:"twoFactorAuth",trueLabel:e("common:enabled"),falseLabel:e("common:not-enabled"),maxWidth:100}),(0,K.Z)({Header:e("common:chat-messages"),accessor:"chatMessages",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:120,maxValue:a}),(0,K.Z)({Header:e("common:time-spent"),accessor:"spentTime",Cell:function(e){return(0,le.Z)(e.value,{minutes:!0,hours:!0})},style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:o,formatLabel:function(e){return"".concat(k()(e/36e5),"h")}}),(0,K.Z)({Header:e("common:number-of-actions"),accessor:"nActions",style:{marginTop:"8px",color:"darkslategrey"},maxWidth:100,maxValue:s}),(0,Q.Z)({Header:e("last-updated"),accessor:"updatedAt",Cell:function(e){return new Date(e.value).toLocaleString()},startDate:l,endDate:i}),(0,Q.Z)({Header:e("created-at"),accessor:"createdAt",Cell:function(e){return new Date(e.value).toLocaleString()},startDate:l,endDate:i}),{Header:e("common:data"),accessor:"lessonData",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:function(e){if(e.value){var t=S()(e.value,(function(e){return r.props.admin.lessonsMap?r.props.admin.lessonsMap[e]:e})),a=p.createElement(b.Z,{id:"popover-data",style:{maxWidth:400,maxHeight:"80vh",overflowY:"auto"}},p.createElement(b.Z.Title,{as:"h3"},"Data"),p.createElement(b.Z.Content,{style:{backgroundColor:"lightblue"}},p.createElement("pre",null,JSON.stringify(t,null,2))));return p.createElement(y.Z,{trigger:"click",placement:"left",overlay:a},p.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:60,resizable:!1,filterable:!1,sortable:!1}].concat((0,n.Z)((r.props.user.availableCustomFields||[]).map((function(t){return"text"===t.type?(0,X.Z)({Header:t.name,accessor:"customFields."+t.name,maxWidth:100,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:oe.Z}):"checkbox"===t.type?(0,Y.Z)({Header:t.name,accessor:"customFields."+t.name,trueLabel:e("yes"),falseLabel:e("no"),maxWidth:100}):(0,J.Z)({Header:t.name,accessor:"customFields."+t.name,labels:t.options})}))),[{Header:e("common:actions"),Cell:function(t){return t.row.email===r.props.user.email?null:p.createElement("div",null,p.createElement(y.Z,{placement:"bottom",overlay:p.createElement(C.Z,{id:"edit_user_data"},e("edit-user-data"))},p.createElement(w.Z,{variant:"outline-secondary","aria-label":e("edit-user-data"),onClick:r.askToEditUserFactory(t.row._original)},p.createElement("div",{className:"fa fa-edit"}))),p.createElement(y.Z,{placement:"bottom",overlay:p.createElement(C.Z,{id:"sanitize_user"},e("sanitize-user"))},p.createElement(w.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:r.sanitizeFactory(t.row._original),"aria-label":e("sanitize-user")},p.createElement("div",{className:"fas fa-band-aid"}))),p.createElement(y.Z,{placement:"bottom",overlay:p.createElement(C.Z,{id:"impersonate_user"},e("impersonate-user"))},p.createElement(w.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:r.askToImpersonateSelectedUserFactory(t.row._original),"aria-label":e("impersonate-user")},p.createElement("div",{className:"fa fa-theater-masks"}))),p.createElement(y.Z,{placement:"bottom",overlay:p.createElement(C.Z,{id:"delete_user"},e("delete-user"))},p.createElement(w.Z,{variant:"outline-secondary",style:{marginLeft:8},onClick:r.askToDeleteSelectedUserFactory(t.row._original),"aria-label":e("delete-user")},p.createElement("div",{className:"fa fa-trash-alt"}))))},resizable:!1,filterable:!1,sortable:!1}])})),(0,u.Z)((0,c.Z)(r),"toggleExplorer",(function(){r.setState({showExplorer:!r.state.showExplorer})})),(0,u.Z)((0,c.Z)(r),"toggleUserCreation",(function(){r.setState({showUserCreation:!r.state.showUserCreation})})),r.state={selectedUser:null,showDeleteModal:!1,showImpersonateModal:!1,showUserCreation:!1,password:"",showEditModal:!1,columns:r.createColumns()},r}return(0,i.Z)(a,[{key:"componentDidMount",value:function(){this.props.getCustomFields(),this.props.getUsers()}},{key:"componentDidUpdate",value:function(e){e.admin.users===this.props.admin.users&&e.user.availableCustomFields===this.props.user.availableCustomFields||this.setState({columns:this.createColumns()})}},{key:"render",value:function(){var e=this,t=this.props.t;if(this.state.showExplorer){for(var a=this.props.admin.users,n=[],r=0;r<a.length;r++){var l=a[r],i={};i.name=l.name,i.email=l.email,i.nActions=l.nActions,i.ownedNamespaces=l.ownedNamespaces.length,i.enrolledNamespaces=l.enrolledNamespaces.length,i.chatMessages=l.chatMessages.length,i.badges=l.badges.length,i.score=l.score,i.spentTime=l.spentTime,i.administrator=l.administrator,i.verifiedEmail=l.verifiedEmail,i.instructor=l.writeAccess,i.createdAt=l.createdAt,i.updatedAt=l.updatedAt,n.push(i)}return n=(0,A.Z)(n),p.createElement(U.Z,{title:t("explorer-users-title"),data:n,categorical:["administrator","instructor","verifiedEmail","createdAt","updatedAt"],quantitative:["nActions","ownedNamespaces","enrolledNamespaces","chatMessages","badges","score","spentTime"],close:this.toggleExplorer})}return p.createElement(p.Fragment,null,p.createElement(M.Z,{data:this.props.admin.users,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:t}),p.createElement(y.Z,{placement:"left",overlay:p.createElement(C.Z,null,t("create-new-user"))},p.createElement(w.Z,{style:{marginRight:-9,float:"right"},onClick:this.toggleUserCreation},p.createElement("i",{className:"fas fa-plus"}))),this.state.showImpersonateModal?p.createElement(z.Z,{title:t("impersonate-user"),message:p.createElement("span",null,t("enter-password"),p.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),".",t("automatic-logout"),p.createElement(E.Z,{name:"password",type:"password",placeholder:t("password-placeholder"),onChange:this.handlePassword,maxLength:30,minLength:6,style:{marginTop:8}})),close:this.toggleImpersonateModal,show:this.state.showImpersonateModal,onConfirm:this.impersonateUser}):null,this.state.showDeleteModal?p.createElement(z.Z,{title:t("delete-user"),message:p.createElement("span",null,t("delete-user-confirm"),p.createElement("span",{style:{color:"red"}},this.state.selectedUser.name),"?"),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedUser}):null,this.state.showEditModal?p.createElement(se,{user:this.state.selectedUser,availableCustomFields:this.props.user.availableCustomFields,t:this.props.t,show:this.state.showEditModal,updateUser:this.props.updateUser,onHide:this.toggleEditModal}):null,this.state.showUserCreation?p.createElement(G,{user:this.props.user,getCustomFields:this.props.getCustomFields,onHide:this.toggleUserCreation,onConfirm:function(){var a=(0,o.Z)(s().mark((function a(n){return s().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.props.createUser(n);case 3:e.props.addNotification({message:t("user-successfully-created"),level:"success"}),e.toggleUserCreation(),e.props.getUsers(),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),e.props.addNotification({message:a.t0.response.data,level:"error"});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}):null)}}]),a}(p.Component),me=(0,v.Z)(["admin","common"])(ce)},42263:function(e,t,a){"use strict";var n=a(41488),r=a(25472),s=a(70048),o=a(29619),l=function(e){return n.createElement(o.Z,{show:e.show,onHide:e.close},n.createElement(o.Z.Header,null,n.createElement(o.Z.Title,{as:"h3"},e.title)),n.createElement(o.Z.Body,null,e.message),n.createElement(o.Z.Footer,null,n.createElement(s.Z,{onClick:e.close},e.t("cancel")),n.createElement(s.Z,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};l.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.Z=(0,r.Z)(["common"])(l)},47355:function(e,t,a){"use strict";a.d(t,{Z:function(){return f}});var n=a(22122),r=a(6610),s=a(5991),o=a(10379),l=a(60446),i=a(41488),c=a(75742),m=a(70048),d=a(87095),u=a(93391),p=a(47701),h=(a(36561),function(e){(0,o.Z)(a,e);var t=(0,l.Z)(a);function a(){return(0,r.Z)(this,a),t.apply(this,arguments)}return(0,s.Z)(a,[{key:"render",value:function(){var e=this,t=this.props.t;return i.createElement(i.Fragment,null,i.createElement(c.Z,(0,n.Z)({},this.props,{filterable:!0,className:"dashboard-table ".concat(this.props.className),data:this.props.data,columns:this.props.columns,previousText:t("common:previous"),nextText:t("common:next"),loadingText:t("common:loading"),noDataText:t("common:no-rows-found"),pageText:t("common:page"),ofText:t("common:of"),rowsText:t("common:rows"),ref:function(t){e.table=t}})),this.props.onButtonClick?i.createElement(d.Z,{vertical:!0,style:{float:"right",marginRight:-9}},i.createElement(u.Z,{placement:"left",overlay:i.createElement(p.Z,{id:"explorer-tooltip"},t("common:data-explorer"))},i.createElement(m.Z,{variant:"primary",style:{marginBottom:8},onClick:this.props.onButtonClick},i.createElement("i",{className:"fas fa-chart-bar"})))):null)}}]),a}(i.Component));h.defaultProps={className:"",t:function(){}};var f=h},52428:function(e,t,a){"use strict";var n=(0,a(31835).Z)((function(){return Promise.all([a.e(37704),a.e(91777)]).then(a.bind(a,45369))}));t.Z=n},75033:function(e,t,a){"use strict";var n=a(78674),r=a.n(n);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hours:!0,minutes:!0,seconds:!0};e/=1e3;var a=r()(e/3600);e%=3600;var n=r()(e/60);n<10&&(n="0"+n),e%=60;var s=r()(e);s<10&&(s="0"+s);var o="";return t.hours&&(o+=a),t.minutes&&(o&&(o+=":"),o+=n),t.seconds&&(o&&(o+=":"),o+=s),o}},11387:function(e,t,a){"use strict";var n=a(79238);e.exports=n},79238:function(e,t,a){"use strict";var n=a(52015).isPrimitive,r=/@/;e.exports=function(e){return n(e)&&r.test(e)}},67775:function(e,t,a){"use strict";var n=a(99323);e.exports=n},99323:function(e,t,a){"use strict";var n=a(66731),r=a(15893),s=a(52310)();e.exports=function(e){return!!r(e)&&(!(n(e).length>0)&&!(s&&Object.getOwnPropertySymbols(e).length>0))}},64251:function(e){"use strict";e.exports=9007199254740991},19226:function(e,t,a){"use strict";var n=a(56585);e.exports=n},56585:function(e,t,a){"use strict";var n=a(40867),r=a(66785);e.exports=function(e){return e===n||e===r}},96891:function(e,t,a){"use strict";var n=a(66342);e.exports=n},66342:function(e){"use strict";e.exports=function(e){return Math.abs(e)}},46966:function(e,t,a){"use strict";var n=a(96643);e.exports=n},96643:function(e,t,a){"use strict";var n=a(83713),r=a(12076);e.exports=function(e,t){var a,s,o;if("object"!==typeof e||null===e)throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if(!n(t))throw new TypeError("invalid argument. Second argument must be a function. Value: `"+t+"`.");for(s in a={},e)r(e,s)&&(a[s=t(s,o=e[s],e)]=o);return a}},23596:function(e,t,a){"use strict";var n=a(22122),r=a(19756),s=a(78265),o=a.n(s),l=a(41488),i=a(38674),c=["xl","lg","md","sm","xs"],m=l.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,m=e.noGutters,d=e.as,u=void 0===d?"div":d,p=(0,r.Z)(e,["bsPrefix","className","noGutters","as"]),h=(0,i.vE)(a,"row"),f=h+"-cols",v=[];return c.forEach((function(e){var t,a=p[e];delete p[e];var n="xs"!==e?"-"+e:"";null!=(t=null!=a&&"object"===typeof a?a.cols:a)&&v.push(""+f+n+"-"+t)})),l.createElement(u,(0,n.Z)({ref:t},p,{className:o().apply(void 0,[s,h,m&&"no-gutters"].concat(v))}))}));m.displayName="Row",m.defaultProps={noGutters:!1},t.Z=m},89308:function(e,t,a){"use strict";var n=a(89259),r=a(56091),s=a(6610),o=a(5991),l=a(10379),i=a(23914),c=a(41488),m=a(41702),d=a(82817),u=a(41728),p=(a(5347),a(15272),c.Component,(0,r.m)(n.S));t.ZP=p},87815:function(){},46700:function(e,t,a){var n={"./af":77213,"./af.js":77213,"./ar":78421,"./ar-dz":40604,"./ar-dz.js":40604,"./ar-kw":40145,"./ar-kw.js":40145,"./ar-ly":25984,"./ar-ly.js":25984,"./ar-ma":1789,"./ar-ma.js":1789,"./ar-sa":47317,"./ar-sa.js":47317,"./ar-tn":81841,"./ar-tn.js":81841,"./ar.js":78421,"./az":18169,"./az.js":18169,"./be":56771,"./be.js":56771,"./bg":75581,"./bg.js":75581,"./bm":98145,"./bm.js":98145,"./bn":63297,"./bn-bd":88255,"./bn-bd.js":88255,"./bn.js":63297,"./bo":45899,"./bo.js":45899,"./br":86370,"./br.js":86370,"./bs":7001,"./bs.js":7001,"./ca":552,"./ca.js":552,"./cs":67170,"./cs.js":67170,"./cv":65046,"./cv.js":65046,"./cy":447,"./cy.js":447,"./da":55541,"./da.js":55541,"./de":55672,"./de-at":86e3,"./de-at.js":86e3,"./de-ch":56806,"./de-ch.js":56806,"./de.js":55672,"./dv":47454,"./dv.js":47454,"./el":51671,"./el.js":51671,"./en-au":84748,"./en-au.js":84748,"./en-ca":19229,"./en-ca.js":19229,"./en-gb":27334,"./en-gb.js":27334,"./en-ie":79218,"./en-ie.js":79218,"./en-il":63581,"./en-il.js":63581,"./en-in":42704,"./en-in.js":42704,"./en-nz":34390,"./en-nz.js":34390,"./en-sg":31591,"./en-sg.js":31591,"./eo":36284,"./eo.js":36284,"./es":99028,"./es-do":59761,"./es-do.js":59761,"./es-mx":77837,"./es-mx.js":77837,"./es-us":86976,"./es-us.js":86976,"./es.js":99028,"./et":64785,"./et.js":64785,"./eu":53578,"./eu.js":53578,"./fa":71574,"./fa.js":71574,"./fi":26755,"./fi.js":26755,"./fil":84772,"./fil.js":84772,"./fo":50289,"./fo.js":50289,"./fr":93273,"./fr-ca":74123,"./fr-ca.js":74123,"./fr-ch":97543,"./fr-ch.js":97543,"./fr.js":93273,"./fy":5257,"./fy.js":5257,"./ga":78336,"./ga.js":78336,"./gd":61427,"./gd.js":61427,"./gl":86017,"./gl.js":86017,"./gom-deva":67359,"./gom-deva.js":67359,"./gom-latn":74517,"./gom-latn.js":74517,"./gu":10542,"./gu.js":10542,"./he":17184,"./he.js":17184,"./hi":14955,"./hi.js":14955,"./hr":71621,"./hr.js":71621,"./hu":26007,"./hu.js":26007,"./hy-am":42692,"./hy-am.js":42692,"./id":22315,"./id.js":22315,"./is":81068,"./is.js":81068,"./it":98274,"./it-ch":13247,"./it-ch.js":13247,"./it.js":98274,"./ja":92828,"./ja.js":92828,"./jv":55580,"./jv.js":55580,"./ka":66736,"./ka.js":66736,"./kk":79055,"./kk.js":79055,"./km":24894,"./km.js":24894,"./kn":54934,"./kn.js":54934,"./ko":21502,"./ko.js":21502,"./ku":68828,"./ku.js":68828,"./ky":43038,"./ky.js":43038,"./lb":21360,"./lb.js":21360,"./lo":66079,"./lo.js":66079,"./lt":3569,"./lt.js":3569,"./lv":54810,"./lv.js":54810,"./me":18414,"./me.js":18414,"./mi":78352,"./mi.js":78352,"./mk":82709,"./mk.js":82709,"./ml":18912,"./ml.js":18912,"./mn":49885,"./mn.js":49885,"./mr":85065,"./mr.js":85065,"./ms":61465,"./ms-my":14014,"./ms-my.js":14014,"./ms.js":61465,"./mt":23103,"./mt.js":23103,"./my":76378,"./my.js":76378,"./nb":20408,"./nb.js":20408,"./ne":62121,"./ne.js":62121,"./nl":89580,"./nl-be":31613,"./nl-be.js":31613,"./nl.js":89580,"./nn":14035,"./nn.js":14035,"./oc-lnc":44823,"./oc-lnc.js":44823,"./pa-in":53718,"./pa-in.js":53718,"./pl":1688,"./pl.js":1688,"./pt":56663,"./pt-br":19980,"./pt-br.js":19980,"./pt.js":56663,"./ro":47164,"./ro.js":47164,"./ru":96670,"./ru.js":96670,"./sd":58708,"./sd.js":58708,"./se":81353,"./se.js":81353,"./si":16389,"./si.js":16389,"./sk":5756,"./sk.js":5756,"./sl":7072,"./sl.js":7072,"./sq":80637,"./sq.js":80637,"./sr":67668,"./sr-cyrl":29580,"./sr-cyrl.js":29580,"./sr.js":67668,"./ss":95120,"./ss.js":95120,"./sv":97082,"./sv.js":97082,"./sw":92711,"./sw.js":92711,"./ta":89974,"./ta.js":89974,"./te":78671,"./te.js":78671,"./tet":58856,"./tet.js":58856,"./tg":45576,"./tg.js":45576,"./th":28073,"./th.js":28073,"./tk":75971,"./tk.js":75971,"./tl-ph":17856,"./tl-ph.js":17856,"./tlh":43642,"./tlh.js":43642,"./tr":76838,"./tr.js":76838,"./tzl":28936,"./tzl.js":28936,"./tzm":77621,"./tzm-latn":58368,"./tzm-latn.js":58368,"./tzm.js":77621,"./ug-cn":24613,"./ug-cn.js":24613,"./uk":19279,"./uk.js":19279,"./ur":89859,"./ur.js":89859,"./uz":79081,"./uz-latn":56127,"./uz-latn.js":56127,"./uz.js":79081,"./vi":23163,"./vi.js":23163,"./x-pseudo":35330,"./x-pseudo.js":35330,"./yo":43246,"./yo.js":43246,"./zh-cn":17918,"./zh-cn.js":17918,"./zh-hk":64377,"./zh-hk.js":64377,"./zh-mo":28322,"./zh-mo.js":28322,"./zh-tw":1308,"./zh-tw.js":1308};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id=46700}}]);
//# sourceMappingURL=61883.bf16a08a.chunk.js.map