{"version":3,"sources":["ev/components/barrier/index.js","ev/containers/visible-barrier/index.js","ev/components/admin-settings/branding/main.js"],"names":["LicenseBarrier","admin","this","props","user","licensed","license","valid","children","Jumbotron","style","width","height","textAlign","marginTop","t","Component","defaultProps","withTranslation","VisibleLicenseBarrier","connect","state","BrandingFileUpload","name","updateSettings","useState","file","setFile","imgSrc","setImgSrc","handleFileSelection","useCallback","e","newFile","target","files","reader","FileReader","onload","dataURL","result","readAsDataURL","handleReset","handleConfirm","Form","Group","marginBottom","Label","htmlFor","cursor","Badge","variant","Control","id","display","type","onChange","accept","Button","onClick","size","marginRight","marginLeft","className","src","alt","AdminSettingsBranding","Container","float","Row","Col","sm"],"mappings":"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","file":"static/js/161.51ba55fc.chunk.js","sourcesContent":["// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Jumbotron from 'react-bootstrap/Jumbotron';\n\n\n// MAIN //\n\nclass LicenseBarrier extends Component {\n\trender() {\n\t\tconst admin = this.props.admin;\n\t\tconst user = this.props.user;\n\t\tif ( !user.licensed && ( !admin.license || !admin.license.valid ) ) {\n\t\t\treturn (\n\t\t\t\t<Jumbotron\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '73.7%'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<h3 style={{ textAlign: 'center', marginTop: '12%' }}>\n\t\t\t\t\t\t{this.props.t('not-available-in-community-edition')}\n\t\t\t\t\t</h3>\n\t\t\t\t</Jumbotron>\n\t\t\t);\n\t\t}\n\t\treturn this.props.children;\n\t}\n}\n\n\n// PROPERTIES //\n\nLicenseBarrier.propTypes = {\n\tadmin: PropTypes.object,\n\tuser: PropTypes.object\n};\n\nLicenseBarrier.defaultProps = {\n\tadmin: null,\n\tuser: null\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( 'common' )( LicenseBarrier );\n","// MODULES //\n\nimport { connect } from 'react-redux';\nimport LicenseBarrier from 'ev/components/barrier';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps( state ) {\n\treturn {\n\t\tadmin: state.admin,\n\t\tuser: state.user\n\t};\n}\n\nfunction mapDispatchToProps() {\n\treturn {};\n}\n\n\n// MAIN //\n\nconst VisibleLicenseBarrier = connect( mapStateToProps, mapDispatchToProps )( LicenseBarrier );\n\n\n// EXPORTS //\n\nexport default VisibleLicenseBarrier;\n","// MODULES //\n\nimport React, { Component, Fragment, useCallback, useState } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Badge from 'react-bootstrap/Badge';\nimport Form from 'react-bootstrap/Form';\nimport LicenseBarrier from 'ev/containers/visible-barrier';\nimport './branding.css';\n\n\n// FUNCTIONS //\n\nconst BrandingFileUpload = ({ name, t, updateSettings }) => {\n\tconst [ file, setFile ] = useState( null );\n\tconst [ imgSrc, setImgSrc ] = useState( null );\n\tconst handleFileSelection = useCallback( ( e ) => {\n\t\tconst newFile = e.target.files[ 0 ];\n\t\tif ( newFile ) {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = function onLoad() {\n\t\t\t\tconst dataURL = reader.result;\n\t\t\t\tsetImgSrc( dataURL );\n\t\t\t};\n\t\t\treader.readAsDataURL( newFile );\n\t\t\tsetFile( newFile );\n\t\t}\n\t}, [] );\n\tconst handleReset = useCallback( () => {\n\t\tsetFile( null );\n\t\tsetImgSrc( null );\n\t}, [] );\n\tconst handleConfirm = useCallback( () => {\n\t\tupdateSettings( name, file );\n\t}, [ updateSettings, name, file ] );\n\treturn (\n\t\t<Fragment>\n\t\t\t<Form.Group style={{ marginBottom: 0 }}>\n\t\t\t\t<Form.Label htmlFor=\"logoUpload\" style={{ cursor: 'pointer' }}>\n\t\t\t\t\t<h3><Badge variant=\"success\">{t('select-file')}</Badge></h3>\n\t\t\t\t</Form.Label>\n\t\t\t\t<Form.Control\n\t\t\t\t\tid=\"logoUpload\"\n\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\tonChange={handleFileSelection}\n\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t/>\n\t\t\t\t{ file ?\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={handleConfirm}\n\t\t\t\t\t\t\tvariant=\"success\" size=\"sm\" style={{ marginRight: 6, marginLeft: 8 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-check\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={handleReset}\n\t\t\t\t\t\t\tvariant=\"warning\" size=\"sm\" style={{ width: 32 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i className=\"fas fa-times\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Fragment> : null\n\t\t\t\t}\n\t\t\t</Form.Group>\n\t\t\t<br />\n\t\t\t{ imgSrc ? <img src={imgSrc} alt=\"Logo\" style={{ height: '250px', width: 'auto' }} /> : null }\n\t\t</Fragment>\n\t);\n};\n\n\n// MAIN //\n\nclass AdminSettingsBranding extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div className=\"admin-settings-outer-container\" >\n\t\t\t\t\t<LicenseBarrier>\n\t\t\t\t\t\t<Container style={{ float: 'left' }}>\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col sm={2} >\n\t\t\t\t\t\t\t\t\t<h3>{t('logo')}</h3>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col sm={10} >\n\t\t\t\t\t\t\t\t\t<BrandingFileUpload t={t} />\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t<hr />\n\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t<Col sm={2} >\n\t\t\t\t\t\t\t\t\t<h3>{t('small-logo')}</h3>\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t<Col sm={10} >\n\t\t\t\t\t\t\t\t\t<BrandingFileUpload t={t} />\n\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t</Container>\n\t\t\t\t\t</LicenseBarrier>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nAdminSettingsBranding.propTypes = {\n};\n\nAdminSettingsBranding.defaultProps = {\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( 'admin_settings' )( AdminSettingsBranding );\n"],"sourceRoot":""}