(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[43927],{43927:function(e,t,n){"use strict";n.r(t);var a=n(22122),l=n(28991),i=n(34699),s=n(73284),o=n(10077),r=n.n(o),p=n(9617),u=n(9548),d=n(89139),c=n(26646),h=n(72731),m=n(87950),g=n(87914),f=n(82948),b=n(12376),v=n(10724),y=n(64001),Z=r()("isle:data-explorer:histogram"),E=function(e){var t=(0,s.useState)(!1),n=(0,i.Z)(t,2),o=n[0],r=n[1],E=(0,s.useState)(null),C=(0,i.Z)(E,2),S=C[0],x=C[1],V=(0,s.useState)(1),P=(0,i.Z)(V,2),w=P[0],k=P[1],K=(0,s.useState)(e.defaultValue||e.variables[0]),D=(0,i.Z)(K,2),N=D[0],O=D[1],F=(0,s.useState)(null),B=(0,i.Z)(F,2),T=B[0],U=B[1],A=(0,s.useState)("Overlay"),j=(0,i.Z)(A,2),z=j[0],H=j[1],L=(0,s.useState)(2),q=(0,i.Z)(L,2),I=q[0],M=q[1],_=(0,s.useState)(10),G=(0,i.Z)(_,2),J=G[0],Q=G[1],R=(0,s.useState)({start:null,size:100,end:null}),W=(0,i.Z)(R,2),X=W[0],Y=W[1],$=(0,s.useState)("Automatic"),ee=(0,i.Z)($,2),te=ee[0],ne=ee[1],ae=e.variables,le=e.groupingVariables,ie=e.t;return s.createElement(u.Z,null,s.createElement(u.Z.Header,{as:"h4"},ie("Histogram"),s.createElement(y.Z,{title:ie("Histogram"),content:ie("Histogram-description")})),s.createElement(u.Z.Body,null,s.createElement(m.Z,{legend:ie("variable"),defaultValue:N,options:ae,onChange:O}),s.createElement(c.Z,null,s.createElement(d.Z,{md:5},s.createElement(m.Z,{legend:ie("group-by"),options:le,clearable:!0,onChange:U})),s.createElement(d.Z,{md:4},T?s.createElement(m.Z,{legend:"Mode:",defaultValue:z,options:["Overlay","Facets"],onChange:H}):null),s.createElement(d.Z,{md:3},T&&"Facets"===z?s.createElement(g.Z,{legend:"Columns",defaultValue:2,min:1,onChange:M,style:{marginTop:0},inputStyle:{width:70,marginLeft:0,marginTop:2}}):null)),s.createElement("div",null,s.createElement(m.Z,{legend:ie("binning-strategy"),options:["Automatic","Select # of bins","Set bin width"],defaultValue:te,inline:!0,onChange:ne}),"Automatic"!==te?s.createElement("div",null,s.createElement(g.Z,{legend:"Start",inline:!0,defaultValue:X.start,onChange:function(e){var t=(0,l.Z)({},X);t.start=e,Y(t)},step:"any",inputStyle:{width:70}}),"Select # of bins"===te?s.createElement(g.Z,{legend:"Bins",defaultValue:J,min:1,step:1,onChange:Q,inline:!0,inputStyle:{width:70}}):null,"Set bin width"===te?s.createElement(g.Z,{legend:"Size",inline:!0,defaultValue:X.size,onChange:function(e){var t=(0,l.Z)({},X);t.size=e,Y(t)},step:"any",inputStyle:{width:70}}):null,s.createElement(g.Z,{legend:"End",inline:!0,defaultValue:X.end,onChange:function(e){var t=(0,l.Z)({},X);t.end=e,Y(t)},step:"any",inputStyle:{width:70}})):null),e.showDensityOption?s.createElement("div",null,s.createElement(h.Z,{legend:ie("display-density"),defaultValue:o,onChange:r}),s.createElement(m.Z,{legend:ie("overlay-density-line"),options:["Data-driven","Normal","Uniform","Exponential"],disabled:!o,defaultValue:S,clearable:!0,menuPlacement:"top",onChange:x}),"Data-driven"===S?s.createElement(g.Z,{legend:"Bandwidth adjustment",defaultValue:w,min:0,step:.1,onChange:k}):null):null,s.createElement(p.Z,{variant:"primary",block:!0,onClick:function(){Z("Generate a histogram with ".concat(J," bins"));var t=(0,f.Z)(6),n={variable:N,group:T,groupMode:z,displayDensity:o,densityType:S,binStrategy:te};"Select # of bins"===te?n.nBins=J:"Set bin width"===te&&(n.xBins=X),"Facets"===z&&(n.nCols=I),"Data-driven"===S&&(n.bandwidthAdjust=w);var i=(0,l.Z)((0,l.Z)({},n),{},{plotId:t}),r=s.createElement(b.Z,(0,a.Z)({data:e.data},n,{id:t,action:i,onShare:function(){e.session.addNotification({title:e.t("plot-shared"),message:e.t("plot-shared-message"),level:"success",position:"tr"}),e.logAction(v.V3,i)}}));e.logAction(v.NM,i),e.onCreated(r)}},ie("generate"))))};E.defaultProps={defaultValue:null,groupingVariables:null,logAction:function(){},showDensityOption:!0,onSelected:function(){}},t.default=E},64001:function(e,t,n){"use strict";var a=n(73284),l=n(9617),i=n(9874),s=n(36936),o=n(90105),r=n(69066);t.Z=function(e){var t=a.createElement(i.Z,{id:"popover-positioned-right"},a.createElement(s.Z,null,e.title),a.createElement(o.Z,null,e.content));return a.createElement(r.Z,{trigger:["hover","focus"],placement:"left",rootClose:!0,overlay:t},a.createElement(l.Z,{size:"sm",variant:"outline-secondary",className:"question-button"},a.createElement("div",{className:"fa fa-question"})))}},72731:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var a=n(28991),l=n(6610),i=n(5991),s=n(63349),o=n(10379),r=n(60446),p=n(96156),u=n(73284),d=n(83603),c=n.n(d),h=n(67775),m=n.n(h),g=n(38958),f=n.n(g),b=n(43200),v=n(84972),y=n(87651),Z=function(e){(0,o.Z)(d,e);var t=(0,r.Z)(d);function d(e,a){var i;(0,l.Z)(this,d),i=t.call(this,e),(0,p.Z)((0,s.Z)(i),"updateValue",(function(e){i.setState({value:e},(function(){i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,e))}))})),(0,p.Z)((0,s.Z)(i),"handleChange",(function(e){var t=e.target.checked;i.props.onChange(t),i.updateValue(t)})),(0,p.Z)((0,s.Z)(i),"handleSpanChange",(function(e){var t=null!==i.props.value?!i.props.value:!i.state.value;i.props.onChange(t),i.updateValue(t)}));var o=a;return i.state={value:e.bind&&o.state?o.state[e.bind]:e.defaultValue,bind:e.bind,defaultValue:e.defaultValue},i}return(0,i.Z)(d,[{key:"componentDidUpdate",value:function(){if(this.props.bind){var e=n.g.lesson.state[this.props.bind];e!==this.state.value&&this.setState({value:e})}}},{key:"render",value:function(){var e=this.state.value;null!==this.props.value&&(e=this.props.value);var t=u.createElement("input",{className:"checkbox-input",type:"checkbox",checked:e,value:"checkbox",onChange:this.handleChange,disabled:this.props.disabled,"aria-label":this.props.tooltip});if(!0===this.props.inline)return u.createElement(v.Z,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},u.createElement("span",{style:(0,a.Z)({marginLeft:"8px"},this.props.style)},t,u.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:this.handleSpanChange,onKeyPress:this.handleSpanChange},this.props.legend)));var n=this.props.disabled?f():this.handleSpanChange;return u.createElement(v.Z,{tooltip:this.props.tooltip,placement:this.props.tooltipPlacement},u.createElement("div",{className:"input checkbox-input-div",style:this.props.style},t,u.createElement("span",{role:"button",tabIndex:0,className:"checkbox-legend",style:{color:this.props.disabled?"darkgray":null},onClick:n,onKeyPress:n},this.props.legend)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={};return e.defaultValue!==t.defaultValue?(a.value=e.defaultValue,a.defaultValue=e.defaultValue):e.bind!==t.bind&&(a.value=n.g.lesson.state[e.bind],a.bind=e.bind),m()(a)?null:a}}]),d}(b.Z);Z.defaultProps={bind:"",onChange:function(){},defaultValue:!1,value:null,disabled:!1,inline:!1,legend:"",tooltip:"",tooltipPlacement:"right",style:{}},Z.propTypes={bind:c().string,defaultValue:c().bool,value:c().bool,disabled:c().bool,inline:c().bool,onChange:c().func,legend:c().oneOfType([c().string,c().node]),tooltip:c().string,tooltipPlacement:c().oneOf(["left","top","right","bottom"]),style:c().object},Z.contextType=y.Z;var E=Z},87914:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var a=n(28991),l=n(6610),i=n(5991),s=n(63349),o=n(10379),r=n(60446),p=n(96156),u=n(73284),d=n(83603),c=n.n(d),h=n(10077),m=n.n(h),g=n(43200),f=n(24833),b=n.n(f),v=n(75209),y=n.n(v),Z=n(52015),E=n(40231),C=n(67775),S=n.n(C),x=n(40867),V=n.n(x),P=n(66785),w=n.n(P),k=n(84972),K=n(87651),D=n(20216);var N=function(e){var t="Enter a".concat(1===e.step?"n integer":" number"," ");return e.max!==V()&&e.min!==w()?t+="between ".concat(e.min," and ").concat(e.max):e.min!==w()?t+="larger or equal to ".concat(e.min):e.max!==V()&&(t+="smaller or equal to ".concat(e.max)),t},O=m()("isle:number-input"),F=(0,D.Z)("number-input"),B=function(e){(0,o.Z)(d,e);var t=(0,r.Z)(d);function d(e,a){var i;(0,l.Z)(this,d),i=t.call(this,e),(0,p.Z)((0,s.Z)(i),"handleChange",(function(e){O("Handle change of input field...");var t=e.target.validity.valid,a=e.target.value;i.setState({value:a},(function(){i.props.value||t&&""!==a&&"-"!==a&&"."!==a&&"-."!==a?(a=parseFloat(a),y()(a)&&(a=""),i.props.onChange(a),i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,a))):i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,a))}))})),(0,p.Z)((0,s.Z)(i),"finishChange",(function(e){var t=i.props,a=t.max,l=t.min,s=t.step;O("Finished change...");var o=e.target.value;if(b()(o,"/")){O("Encountered a fraction...");var r=o.split("/");""!==r[0]&&""!==r[1]&&(o=parseFloat(r[0])/parseFloat(r[1]))}y()(o)?o="":""!==o&&"-"!==o&&"."!==o&&"-."!==o&&(o=parseFloat(o)),o>a?o=a:o<l?o=l:1===s&&""!==o&&"-"!==o&&"."!==o&&"-."!==o&&(o-=o%i.props.step),i.props.onChange(o),i.props.onBlur(o),o!==i.state.value&&i.setState({value:o},(function(){i.props.bind&&n.g.lesson.setState((0,p.Z)({},i.props.bind,o))}))}));var o=a;return i.id=e.id||F(e),i.state={value:e.value||(e.bind&&o.state?o.state[e.bind]:e.defaultValue),tooltip:e.tooltip||N(e),prevProps:e},i}return(0,i.Z)(d,[{key:"componentDidUpdate",value:function(){if(O("Component did update..."),this.props.bind){var e=n.g.lesson.state[this.props.bind];e!==this.state.value&&(0,E.isPrimitive)(this.state.value)&&this.setState({value:e})}}},{key:"render",value:function(){var e=this.state.value;if(null!==this.props.value&&(e=this.props.value),!0===this.props.inline){var t=u.createElement("span",{className:"input",style:(0,a.Z)({padding:"5px"},this.props.style)},this.props.legend?u.createElement("label",{htmlFor:this.id}," ",this.props.legend," =  "):null,u.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:(0,a.Z)({width:"80px",paddingLeft:"6px",marginLeft:"3px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"}),this.props.description?u.createElement("span",null,"(",this.props.description,")"):u.createElement("span",null));return this.props.disabled?t:u.createElement(k.Z,{id:"number-input-tooltip-inline",placement:"top",tooltip:this.state.tooltip},t)}var n=u.createElement("input",{id:this.id,type:this.props.numbersOnly?"number":"text",name:"input",className:"number-number-input",disabled:this.props.disabled,value:e,step:this.props.step,min:this.props.min,max:this.props.max,style:(0,a.Z)({width:"80px",marginLeft:"24px"},this.props.inputStyle),onChange:this.handleChange,onBlur:this.finishChange,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp,autoComplete:"off"});return u.createElement("div",{className:"input",style:(0,a.Z)({marginBottom:"4px",marginTop:"4px"},this.props.style)},this.props.legend?u.createElement("span",null,u.createElement("label",{htmlFor:this.id},(0,Z.isPrimitive)(this.props.legend)?this.props.legend+":":this.props.legend),this.props.description?u.createElement("span",null," ",this.props.description):null):null,u.createElement(k.Z,{id:"number-input-tooltip",placement:this.props.tooltipPlacement,tooltip:this.state.tooltip},u.createElement("span",{className:"number-input-span"},n)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a={},l=t.prevProps;return e.defaultValue!==l.defaultValue?a.value=e.defaultValue:e.bind!==l.bind&&(a.value=n.g.lesson.state[e.bind]),e.min!==l.min||e.max!==l.max?a.tooltip=e.tooltip||N(e):e.tooltip&&e.tooltip!==t.tooltip&&(a.tooltip=e.tooltip),S()(a)?null:(O("Created new state from props..."),a.prevProps=e,a)}}]),d}(g.Z);B.defaultProps={bind:"",disabled:!1,legend:null,min:w(),max:V(),step:1,defaultValue:0,onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){},inline:!1,numbersOnly:!0,style:{},inputStyle:{},value:null,tooltip:null,tooltipPlacement:"left"},B.propTypes={bind:c().string,defaultValue:c().number,disabled:c().bool,inline:c().bool,legend:c().oneOfType([c().string,c().node]),max:c().number,min:c().number,numbersOnly:c().bool,onBlur:c().func,onChange:c().func,onKeyDown:c().func,onKeyPress:c().func,onKeyUp:c().func,step:c().oneOfType([c().number,c().string]),style:c().object,inputStyle:c().object,value:c().number,tooltip:c().string,tooltipPlacement:c().oneOf(["top","right","bottom","left"])},B.contextType=K.Z;var T=B}}]);
//# sourceMappingURL=43927.9643eabd.chunk.js.map