/*! For license information please see 2308.e225ddeb.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2308],{11965:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(82961);function o(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}},98733:function(e){"use strict";e.exports=JSON.parse('["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"]')},41830:function(e){"use strict";e.exports=JSON.parse('{"mutate":false,"replace":true}')},40217:function(e,t,n){"use strict";var r=(0,n(65221).Z)((function(){return Promise.all([n.e(5840),n.e(2787),n.e(4972),n.e(2488),n.e(9527),n.e(6399),n.e(4669)]).then(n.bind(n,26399))}));t.Z=r},65221:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var r=n(41488),o=n(19756),i=n(22122),s=n(63349),a=n(41788),c=n(52316),u=n(49988),l=n.n(u);function f(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var h=r.createContext();var d={initialChunks:{}},p="PENDING",m="REJECTED";var g=function(e){return e};function v(e){var t=e.defaultResolveComponent,n=void 0===t?g:t,u=e.render,v=e.onLoad;function E(e,t){void 0===t&&(t={});var g=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),E={};function _(e){return t.cacheKey?t.cacheKey(e):g.resolve?g.resolve(e):"static"}function S(e,r,o){var i=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,c.isValidElementType)(i))throw new Error("resolveComponent returned something that is not a React component!");return l()(o,i,{preload:!0}),i}var A,T,y=function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:_(n)},f(!n.__chunkExtractor||g.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(g.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(g.chunkName(n))),(0,s.Z)(r)):(!1!==t.ssr&&(g.isReady&&g.isReady(n)||g.chunkName&&d.initialChunks[g.chunkName(n)])&&r.loadSync(),r)}(0,a.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=_(e);return(0,i.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===m&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return _(this.props)},r.getCache=function(){return E[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),E[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;v&&setTimeout((function(){v(e.state.result,e.props)}))},r.loadSync=function(){if(this.state.loading)try{var e=S(g.requireSync(this.props),this.props,O);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:g.resolve(this.props),chunkName:g.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=S(t,e.props,{Loadable:O});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},r.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,o.Z)(t,["__chunkExtractor","forwardedRef"])),r=this.getCache();return r||((r=g.requireAsync(n)).status=p,this.setCache(r),r.then((function(){r.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:g.resolve(e.props),chunkName:g.chunkName(e.props),error:t?t.message:t}),r.status=m}))),r},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,s=(e.__chunkExtractor,(0,o.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,c=a.error,l=a.loading,f=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===p)throw this.loadAsync();if(c)throw c;var h=r||t.fallback||null;return l?h:u({fallback:h,result:f,options:t,props:(0,i.Z)({},s,{ref:n})})},n}(r.Component),R=(T=function(e){return r.createElement(h.Consumer,null,(function(t){return r.createElement(A,Object.assign({__chunkExtractor:t},e))}))},(A=y).displayName&&(T.displayName=A.displayName+"WithChunkExtractor"),T),O=r.forwardRef((function(e,t){return r.createElement(R,Object.assign({forwardedRef:t},e))}));return O.displayName="Loadable",O.preload=function(e){g.requireAsync(e)},O.load=function(e){return g.requireAsync(e)},O}return{loadable:E,lazy:function(e,t){return E(e,(0,i.Z)({},t,{suspense:!0}))}}}var E=v({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),_=E.loadable,S=E.lazy,A=v({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),T=A.loadable,y=A.lazy;var R=_;R.lib=T,S.lib=y;var O=R,I=n(34699),b=function(){var e=(0,r.useState)(!1),t=(0,I.Z)(e,2),n=t[0],o=t[1];return(0,r.useEffect)((function(){var e=setTimeout((function(){return o(!0)}),200);return function(){clearTimeout(e)}})),n?r.createElement("span",{className:"isle-loadable sk-cube-grid"},r.createElement("span",{className:"sk-cube sk-cube1"}),r.createElement("span",{className:"sk-cube sk-cube2"}),r.createElement("span",{className:"sk-cube sk-cube3"}),r.createElement("span",{className:"sk-cube sk-cube4"}),r.createElement("span",{className:"sk-cube sk-cube5"}),r.createElement("span",{className:"sk-cube sk-cube6"}),r.createElement("span",{className:"sk-cube sk-cube7"}),r.createElement("span",{className:"sk-cube sk-cube8"}),r.createElement("span",{className:"sk-cube sk-cube9"})):null};var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.fallback&&(t.fallback=r.createElement(b,null));var n=O(e,t);return n}},10724:function(e,t,n){"use strict";n.d(t,{CN:function(){return r},Uc:function(){return o},Di:function(){return i},mk:function(){return s},lJ:function(){return a},lS:function(){return c},Fk:function(){return u},Ud:function(){return l},NM:function(){return f},iT:function(){return h},e5:function(){return d},PW:function(){return p},uA:function(){return m},hf:function(){return g},uD:function(){return v},FD:function(){return E},Cz:function(){return _},WI:function(){return S},Jk:function(){return A},ZA:function(){return T},Wk:function(){return y},mi:function(){return R},lG:function(){return O},uZ:function(){return I},Pj:function(){return b},oZ:function(){return N},qn:function(){return D},$W:function(){return L},QV:function(){return P},V3:function(){return C},zH:function(){return w},m_:function(){return k},Uu:function(){return x},bb:function(){return M},mM:function(){return U},Gp:function(){return H},AC:function(){return G},rC:function(){return X},hs:function(){return Z},OZ:function(){return V},uh:function(){return j},Fo:function(){return F},Ch:function(){return B},IO:function(){return q},VP:function(){return z},n_:function(){return K},Ej:function(){return Y},NF:function(){return J},go:function(){return Q},$o:function(){return $},P$:function(){return W},e3:function(){return ee},dU:function(){return te},CS:function(){return ne},Dp:function(){return re},gx:function(){return oe},Jz:function(){return ie},W:function(){return se},U0:function(){return ae},D_:function(){return ce},x6:function(){return ue},hF:function(){return le},_f:function(){return fe},$X:function(){return he},x$:function(){return de}});var r="DASHBOARD_CLICK_GENERATE",o="TABLE_FILTER",i="TABLE_RESET",s="TABLE_SORT",a="LESSON_CONNECTED",c="DATA_EXPLORER_CONTINGENCY_TABLE",u="DATA_EXPLORER_FREQUENCY_TABLE",l="DATA_EXPLORER_SUMMARY_STATISTICS",f="DATA_EXPLORER_HISTOGRAM",h="DATA_EXPLORER_BARCHART",d="DATA_EXPLORER_BOXPLOT",p="DATA_EXPLORER_CONTOURPLOT",m="DATA_EXPLORER_HEATMAP",g="DATA_EXPLORER_LINEPLOT",v="DATA_EXPLORER_MAP",E="DATA_EXPLORER_MOSAIC",_="DATA_EXPLORER_PIECHART",S="DATA_EXPLORER_QQPLOT",A="DATA_EXPLORER_SCATTERPLOT",T="DATA_EXPLORER_SPLOM",y="DATA_EXPLORER_VIOLINPLOT",R="DATA_EXPLORER_TESTS_ANOVA",O="DATA_EXPLORER_TESTS_CHISQUARE",I="DATA_EXPLORER_TESTS_CORRTEST",b="DATA_EXPLORER_TESTS_KRUSKAL",N="DATA_EXPLORER_TESTS_PROPTEST",D="DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST",L="DATA_EXPLORER_TESTS_TWO_SAMPLE_MEAN",P="DATA_EXPLORER_TESTS_MEAN",C="DATA_EXPLORER_SHARE_HISTOGRAM",w="DATA_EXPLORER_SHARE_BARCHART",k="DATA_EXPLORER_SHARE_BOXPLOT",x="DATA_EXPLORER_SHARE_CONTOURPLOT",M="DATA_EXPLORER_SHARE_HEATMAP",U="DATA_EXPLORER_SHARE_LINEPLOT",H="DATA_EXPLORER_SHARE_MAP",G="DATA_EXPLORER_SHARE_MOSAIC",X="DATA_EXPLORER_SHARE_PIECHART",Z="DATA_EXPLORER_SHARE_QQPLOT",V="DATA_EXPLORER_SHARE_SCATTERPLOT",j="DATA_EXPLORER_SHARE_SPLOM",F="DATA_EXPLORER_SHARE_VIOLINPLOT",B="DATA_EXPLORER_DECISION_TREE",q="DATA_EXPLORER_HIERARCHICAL_CLUSTERING",z="DATA_EXPLORER_LASSO_REGRESSION",K="DATA_EXPLORER_LINEAR_REGRESSION",Y="DATA_EXPLORER_MULTIPLE_REGRESSION",J="DATA_EXPLORER_MULTIPLE_REGRESSION",Q="DATA_EXPLORER_NAIVE_BAYES",$="DATA_EXPLORER_PCA",W="DATA_EXPLORER_RANDOM_FOREST",ee="DATA_EXPLORER_KMEANS",te="DATA_EXPLORER_BIN_TRANSFORMER",ne="DATA_EXPLORER_CAT_TRANSFORMER",re="DATA_EXPLORER_GROUP_TRANSFORMER",oe="DATA_EXPLORER_VARIABLE_TRANSFORMER",ie="DATA_EXPLORER_DELETE_VARIABLE",se="EDITOR_SUBMIT",ae="PAGES_FIRST_PAGE",ce="PAGES_NEXT_PAGE",ue="PAGES_PREVIOUS_PAGE",le="PAGES_LAST_PAGE",fe="PAGES_JUMP_PAGE",he="PLOT_UPDATE",de="TOGGLE_PRESENTATION_MODE"},65695:function(e,t,n){"use strict";n.d(t,{LL:function(){return r},em:function(){return o},QG:function(){return i},EG:function(){return s},q$:function(){return a},SC:function(){return c},gz:function(){return u},sS:function(){return l},qG:function(){return f},Fw:function(){return h},E7:function(){return d},NH:function(){return p},Wh:function(){return m},xG:function(){return g},Jz:function(){return v},ug:function(){return E},PY:function(){return _},O4:function(){return S},lf:function(){return A},KI:function(){return T},Kd:function(){return y},YQ:function(){return R},_Z:function(){return O},u:function(){return I},Hl:function(){return b},$L:function(){return N},c_:function(){return D},JV:function(){return L},TY:function(){return P},Gq:function(){return C},tf:function(){return w},Zh:function(){return k},t0:function(){return x},OG:function(){return M},WQ:function(){return U},Ys:function(){return H},p0:function(){return G},At:function(){return X},vu:function(){return Z},Ny:function(){return V},q:function(){return j},lK:function(){return F},cK:function(){return B},WF:function(){return q},vB:function(){return z}});var r="CHAT_MESSAGE",o="CHAT_STATISTICS",i="CONNECTED_TO_SERVER",s="OWN_CHAT_MESSAGE",a="COLLABORATIVE_EDITING_EVENTS",c="DISCONNECTED_FROM_SERVER",u="FOCUS_ELEMENT",l="LOSE_FOCUS_ELEMENT",f="JOINED_COLLABORATIVE_EDITING",h="LOGGED_IN",d="LOGGED_OUT",p="MARK_MESSAGES",m="MEMBER_ACTION",g="MEMBER_HAS_JOINED_CHAT",v="MEMBER_HAS_LEFT_CHAT",E="POLLED_COLLABORATIVE_EDITING_EVENTS",_="RECEIVED_CHAT_HISTORY",S="RECEIVED_JITSI_TOKEN",A="RECEIVED_USERS",T="RECEIVED_LESSON_INFO",y="RECEIVED_QUEUE_QUESTIONS",R="RECEIVED_USER_RIGHTS",O="REMOVED_CHAT",I="RETRIEVED_CURRENT_USER_ACTIONS",b="RETRIEVED_USER_ACTIONS",N="RETRIEVED_COHORTS",D="SELECTED_COHORT",L="SELF_HAS_JOINED_CHAT",P="SELF_HAS_LEFT_CHAT",C="SELF_INITIAL_PROGRESS",w="SELF_UPDATED_PROGRESS",k="SELF_UPDATED_SCORE",x="SENT_COLLABORATIVE_EDITING_EVENTS",M="SERVER_IS_LIVE",U="STICKY_NOTES_UPDATED",H="TEXT_EDITOR_DOCUMENTS_UPDATED",G="USER_FINALLY_REMOVED",X="USER_JOINED",Z="USER_LEFT",V="USER_PROGRESS",j="VIDEO_CHAT_STARTED",F="VIDEO_CHAT_ENDED",B="VOICE_RECORDING_STATUS",q="CREATED_GROUPS",z="DELETED_GROUPS"},45906:function(e,t,n){"use strict";n.d(t,{a:function(){return O}});var r=n(66438),o=n(71294);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=[],a=s.forEach,c=s.slice;function u(e){return a.call(c.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function l(){return"function"===typeof XMLHttpRequest||"object"===("undefined"===typeof XMLHttpRequest?"undefined":i(XMLHttpRequest))}var f,h,d,p=n(81193),m=n.t(p,2);function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"===typeof fetch&&("undefined"!==typeof global&&global.fetch?f=global.fetch:"undefined"!==typeof window&&window.fetch&&(f=window.fetch)),l&&("undefined"!==typeof global&&global.XMLHttpRequest?h=global.XMLHttpRequest:"undefined"!==typeof window&&window.XMLHttpRequest&&(h=window.XMLHttpRequest)),"function"===typeof ActiveXObject&&("undefined"!==typeof global&&global.ActiveXObject?d=global.ActiveXObject:"undefined"!==typeof window&&window.ActiveXObject&&(d=window.ActiveXObject)),f||!m||h||d||(f=p||m),"function"!==typeof f&&(f=void 0);var v=function(e,t){if(t&&"object"===g(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},E=function(e,t,n,r){return"function"===typeof n&&(r=n,n=void 0),r=r||function(){},f?function(e,t,n,r){e.queryStringParams&&(t=v(t,e.queryStringParams));var o=u({},"function"===typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(o["Content-Type"]="application/json"),f(t,u({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:o},"function"===typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then((function(t){r(null,{status:e.status,data:t})})).catch(r)})).catch(r)}(e,t,n,r):l||"function"===typeof ActiveXObject?function(e,t,n,r){n&&"object"===g(n)&&(n=v("",n).slice(1)),e.queryStringParams&&(t=v(t,e.queryStringParams));try{var o;(o=h?new h:new d("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.withCredentials=!!e.withCredentials,n&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.overrideMimeType&&o.overrideMimeType("application/json");var i=e.customHeaders;if(i="function"===typeof i?i():i)for(var s in i)o.setRequestHeader(s,i[s]);o.onreadystatechange=function(){o.readyState>3&&r(o.status>=400?o.statusText:null,{status:o.status,data:o.responseText})},o.send(n)}catch(a){console&&console.log(a)}}(e,t,n,r):void 0};function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var A=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:E,reloadInterval:"undefined"===typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=u(n,this.options||{},A()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){var r=this.options.loadPath;"function"===typeof this.options.loadPath&&(r=this.options.loadPath(e,t));var o=this.services.interpolator.interpolate(r,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(o,n,e,t)}},{key:"read",value:function(e,t,n){var r=this.options.loadPath;"function"===typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));var o=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(o,n,e,t)}},{key:"loadUrl",value:function(e,t,n,r){var o=this;this.options.request(this.options,e,void 0,(function(i,s){if(s&&(s.status>=500&&s.status<600||!s.status))return t("failed loading "+e+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return t("failed loading "+e+"; status code: "+s.status,!1);if(!s&&i&&i.message&&i.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+i.message,!0);if(i)return t(i,!1);var a,c;try{a="string"===typeof s.data?o.options.parse(s.data,n,r):s.data}catch(u){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,a)}))}},{key:"create",value:function(e,t,n,r,o){var i=this;if(this.options.addPath){"string"===typeof e&&(e=[e]);var s=this.options.parsePayload(t,n,r),a=0,c=[],u=[];e.forEach((function(n){var r=i.options.addPath;"function"===typeof i.options.addPath&&(r=i.options.addPath(n,t));var l=i.services.interpolator.interpolate(r,{lng:n,ns:t});i.options.request(i.options,l,s,(function(t,n){a+=1,c.push(t),u.push(n),a===e.length&&o&&o(c,u)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,o=t.logger,i=n.language;if(!i||"cimode"!==i.toLowerCase()){var s=[],a=function(e){r.toResolveHierarchy(e).forEach((function(e){s.indexOf(e)<0&&s.push(e)}))};a(i),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return a(e)})),s.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,i){r&&o.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&i&&o.log("loaded namespace ".concat(e," for language ").concat(t),i),n.loaded("".concat(t,"|").concat(e),r,i)}))}))}))}}}])&&S(t.prototype,n),r&&S(t,r),e}();T.type="backend";var y=T,R="undefined"!==typeof window&&window,O=r.Z.createInstance();O.use(o.Z).use(y).init({debug:!!{NODE_ENV:"production"}.DEBUG_I18N,lng:R.localStorage&&R.localStorage.getItem("i18nextLng")||"en",fallbackLng:"en",ns:["general"],defaultNS:"general",backend:{loadPath:"https://cdn.jsdelivr.net/npm/@isle-project/locales@0.2.76/components/{{ns}}/{{lng}}.json"},react:{bindI18n:"languageChanged",useSuspense:!1},interpolation:{escapeValue:!1}})},87651:function(e,t,n){"use strict";var r=n(41488).createContext();t.Z=r},13215:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ze}});var r=n(28991),o=n(34699),i=n(11965),s=n(6610),a=n(5991),c=n(96156),u=n(67403),l=n(10077),f=n.n(l),h=n(86072),d=n.n(h),p=n(63833),m=n.n(p),g=n(41074),v=n.p+"static/media/wrapper.e351c591.mjs",E=n(30672),_=n.n(E),S=n(33837),A=n.n(S),T=n(20842),y=n(71226),R=n.n(y),O=n(65773),I=n.n(O),b=n(98718),N=n.n(b),D=n(70954),L=n.n(D),P=n(90485),C=n.n(P),w=n(12087),k=n.n(w),x=n(48726),M=n.n(x),U=n(33857),H=n.n(U),G=n(79693),X=n.n(G),Z=n(15377),V=n.n(Z),j=n(2183),F=n(82948);var B=function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],o=0;o<r.members.length;o++)if(r.members[o].email===t.email)return r;return null};var q=function(e){return e.returnValue="o/","o/"},z=n(15272),K=n(100),Y=n.n(K),J=n(18484),Q=n.n(J),$=n(86890),W=n.n($),ee=n(37691),te=n.n(ee),ne=function(e,t){t=Object.assign({pascalCase:!1},t);var n=function(e){return t.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e};return 0===(e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():/^[a-z\d]+$/.test(e)?n(e):(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,n=!1,r=!1,o=0;o<e.length;o++){var i=e[o];t&&/[a-zA-Z]/.test(i)&&i.toUpperCase()===i?(e=e.slice(0,o)+"-"+e.slice(o),t=!1,r=n,n=!0,o++):n&&r&&/[a-zA-Z]/.test(i)&&i.toLowerCase()===i?(e=e.slice(0,o-1)+"-"+e.slice(o-1),r=n,n=!1,t=!0):(t=i.toLowerCase()===i,r=n,n=i.toUpperCase()===i)}return e}(e)),n(e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))))},re=/light /,oe=/dark /,ie=/ viewport*/,se=/number */g,ae=/ pixels*/,ce=/select (?:the|or|a|) ?([\S]*)/i,ue=/CSS (?:set|change|modify|alter) (?:the|a)? ?([\s\S]*) to ([\s\S]*)/i,le=f()("isle-editor:speech-interface");function fe(e,t){for(var n=0;n<t.commands.length;n++){var r=t.commands[n],o=r.trigger;if(!0===L()(o)){for(var i=0;i<o.length;i++)if(-1!==e.search(o[i]))return he(t.reference,r,e)}else if(-1!==e.search(o))return he(t.reference,r,e)}return!1}function he(e,t,n){return le("Executing ".concat(t.command," command with input: ")+n),t.regexp?L()(t.regexp)?function(e,t,n){for(var r=0;r<t.regexp.length;r++){var o=t.regexp[r];Y()(o)&&(o=Q()(o),t.regexp[r]=o);var i=n.match(o);if(i){var s=[];if(t.params)for(var a=0;a<t.params.length;a++)s.push(i.groups[t.params[a]]);else for(var c=1;c<i.length;c++)s.push(i[c]);return e[t.command].apply(e,s),!0}}return!1}(e,t,n):function(e,t,n){Y()(t.regexp)&&(t.regexp=Q()(t.regexp));var r=n.match(t.regexp);if(r){var o=[];if(t.params)for(var i=0;i<t.params.length;i++)o.push(r.groups[t.params[i]]);else for(var s=1;s<r.length;s++)o.push(r[s]);return e[t.command].apply(e,o),!0}return!1}(e,t,n):(e[t.command](),!0)}var de=function(){function e(){var t=this;(0,s.Z)(this,e),(0,c.Z)(this,"sendNotUnderstoodMsg",(function(){var e=new SpeechSynthesisUtterance("Sorry, I didn't get that.");e.lang="en-US",window.speechSynthesis.speak(e)})),(0,c.Z)(this,"setActive",(function(e,n){var r=!1;if(le("Trying to set component with the following ID as active: "+e),e)for(var o=0;o<t.components.length;o++){var i=t.components[o];le("Current iteration: "+i.name),i.control.setInactive(),i.name===e&&(le("Found match..."),r=!0,t.active=i,i.control.setActive())}if(n){var s;s=r?"Component selected.":"Sorry, I couldn't find a component with the identifier "+e;var a=new SpeechSynthesisUtterance(s);a.lang="en-US",a.onend=n,window.speechSynthesis.speak(a)}})),this.components=[],this.active=null}return(0,a.Z)(e,[{key:"resetStyle",value:function(){le("Resetting the styling of the active element: "+JSON.stringify(this.active.originalStyle));var e=z.findDOMNode(this.active.reference);if(e)for(var t in this.active.originalStyle)k()(this.active.originalStyle,t)&&(e.style[t]=this.active.originalStyle[t])}},{key:"updateStyle",value:function(e){function t(e){return le("Set RGB..."),e=(e=e.replace("rgba","rgba(")).replace("RGB","rgb("),e+=")"}var n=e.match(ue);if(n&&n[1]&&n[2]){var r=n[1],o=n[2];"in a text"===r&&(r="inner text"),"inner Html"===r&&(r="inner HTML"),"colour"===(r=ne(r))&&(r="color"),"color"!==r&&"background"!==r||(-1!==(o=(o=o.replace(oe,"dark")).replace(re,"light")).search("RGB")&&(o=t(o)),-1!==o.search("rgba")&&(o=t(o))),"with"===r&&(r="width"),"textDecoration"===r&&"line through"===o&&(o="line-through"),"textShadow"!==r&&"boxShadow"!==r||(o=function(e){le("Setting shadow..."),e=(e=e.replace(se,"")).split(" ");for(var t="",n=0;n<e.length;n++){var r=e[n];"four"!==r&&"for"!==r||(r=4),"one"===r&&(r=1),n<3&&(r+="px "),t+=r}return t}(o)),"textAlign"===r&&"Centre"===o&&(o="center"),o=(o=o.replace(ae,"px")).replace(ie,"vw");var i=z.findDOMNode(this.active.reference);this.active.originalStyle||(this.active.originalStyle={}),i&&(le("Setting "+r+" to "+o),this.active.originalStyle[r]=i.style[r],i.style[r]=o),this.active.originalStyle||(this.active.originalStyle={}),"small caps"===o&&(o="small-caps")}else this.sendNotUnderstoodMsg()}},{key:"check",value:function(e,t){for(var n=t.onStart,r=void 0===n?te():n,o=t.onEnd,i=void 0===o?te():o,s=0;s<e.length;s++){var a=e[s];if(le("Checking text: `"+a+"`"),this.active?le("Active component is: "+this.active.name):le("No active component..."),A()(a,"select")){le("Received a selection command: "+a);var c=a.match(ce);if(c){r();var u=c[1];return this.setActive(u,i)}}if(this.active){if(fe(a,this.active))return;if(ue.test(a))return le("Found style setting command..."),this.updateStyle(a);if(A()(a,"reset"))return this.resetStyle()}for(var l=0;l<this.components.length;l++){var f=this.components[l],h=f.name;if(-1!==a.search(h))if(le("Checking triggers for "+h+" component..."),fe(a,f))return}}}},{key:"register",value:function(e){le("Register component: "+e.name),W()(e)&&e.name&&W()(e.reference)&&this.components.push(e)}}]),e}(),pe="/ocpu/library/base/R/identity/identity-d",me=n(10724),ge=n(65695),ve={CALCULATOR_SOLVE:4,DASHBOARD_CLICK_GENERATE:4,TABLE_FILTER:2,TABLE_RESET:2,TABLE_SORT:2,USER_FEEDBACK_CONFUSED:5,USER_FEEDBACK_UNDERSTOOD:5,USER_FEEDBACK_FORM:10,FREE_TEXT_QUESTION_SUBMIT_ANSWER:20,FREE_TEXT_QUESTION_DISPLAY_SOLUTION:5,FREE_TEXT_QUESTION_OPEN_HINT:-2,TEXT_SURVEY_SUBMISSION:4,JSSHELL_DISPLAY_SOLUTION:4,JSSHELL_EVALUATION:4,JSSHELL_OPEN_HINT:-2,LESSON_SUBMIT:20,LIKERT_SCALE_SUBMISSION:2,DATA_EXPLORER_CONTINGENCY_TABLE:4,DATA_EXPLORER_FREQUENCY_TABLE:4,DATA_EXPLORER_SUMMARY_STATISTICS:4,DATA_EXPLORER_HISTOGRAM:4,DATA_EXPLORER_BARCHART:4,DATA_EXPLORER_BOXPLOT:4,DATA_EXPLORER_CONTOURPLOT:4,DATA_EXPLORER_HEATMAP:4,DATA_EXPLORER_MOSAIC:4,DATA_EXPLORER_PIECHART:4,DATA_EXPLORER_SCATTERPLOT:4,DATA_EXPLORER_VIOLINPLOT:4,DATA_EXPLORER_TESTS_ANOVA:4,DATA_EXPLORER_TESTS_CHISQUARE:4,DATA_EXPLORER_TESTS_CORRTEST:4,DATA_EXPLORER_TESTS_PROPTEST:4,DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST:4,DATA_EXPLORER_TESTS_TWO_SAMPLE_ZTEST:4,DATA_EXPLORER_TESTS_ZTEST:4,DATA_EXPLORER_SHARE_HISTOGRAM:2,DATA_EXPLORER_SHARE_BARCHART:2,DATA_EXPLORER_SHARE_BOXPLOT:2,DATA_EXPLORER_SHARE_CONTOURPLOT:2,DATA_EXPLORER_SHARE_HEATMAP:2,DATA_EXPLORER_SHARE_MOSAIC:2,DATA_EXPLORER_SHARE_PIECHART:2,DATA_EXPLORER_SHARE_SCATTERPLOT:2,DATA_EXPLORER_SHARE_VIOLINPLOT:2,DATA_EXPLORER_LINEAR_REGRESSION:4,DATA_EXPLORER_VARIABLE_TRANSFORMER:8,INSERT_STICKY_NOTE:5,EDITOR_SUBMIT:100,EDITOR_PEER_REPORT:50,EDITOR_PEER_COMMENTS:50,PLOT_DRAGGED:8,MATCH_LIST_SUBMISSION:20,MATCH_LIST_TOGGLE_SOLUTION:5,MATCH_LIST_OPEN_HINT:-2,MULTIPLE_CHOICE_MATRIX_SUBMISSION:40,MULTIPLE_CHOICE_OPEN_HINT:-2,MULTIPLE_CHOICE_SUBMISSION:20,MULTIPLE_CHOICE_SURVEY_SUBMISSION:20,NUMBER_QUESTION_SUBMISSION:20,NUMBER_QUESTION_OPEN_HINT:-2,NUMBER_SURVEY_SUBMISSION:20,ORDER_QUESTION_OPEN_HINT:-2,ORDER_QUESTION_SUBMISSION:20,PAGES_FIRST_PAGE:2,PAGES_NEXT_PAGE:2,PAGES_PREVIOUS_PAGE:2,PAGES_LAST_PAGE:2,PAGES_JUMP_PAGE:2,SKETCHPAD_FIRST_PAGE:2,SKETCHPAD_NEXT_PAGE:2,SKETCHPAD_PREVIOUS_PAGE:2,SKETCHPAD_LAST_PAGE:2,SKETCHPAD_GOTO_PAGE:2,SKETCHPAD_INIT_PAGES:2,SKETCHPAD_HIDE_POINTER:2,SKETCHPAD_HIDE_ZOOM:2,SKETCHPAD_REPLAY:2,SKETCHPAD_CLEAR_PAGE:2,SKETCHPAD_CLEAR_ALL_PAGES:2,SKETCHPAD_DRAW_CURVE:2,SKETCHPAD_DRAW_TEXT:2,SKETCHPAD_DRAG_ELEMENT:2,SKETCHPAD_INSERT_PAGE:2,SKETCHPAD_DELETE_ELEMENT:2,STICKY_NOTE_MOVE:0,STICKY_NOTE_TITLE:0,STICKY_NOTE_BODY:0,STICKY_NOTE_DELETE:0,PLOT_UPDATE:5,PROPORTIONS_SURVEY_SUBMISSION:20,SEND_QUEUE_SIZE:4,ENTER_QUEUE:8,LEFT_QUEUE:4,QUESTION_CONFIDENCE:5,RSHELL_DISPLAY_SOLUTION:8,RSHELL_EVALUATION:5,RSHELL_OPEN_HINT:-2,RANGE_QUESTION_SUBMIT_ANSWER:20,RANGE_QUESTION_OPEN_HINT:-2,RESPONSE_VISUALIZER_TOGGLE:1,RESPONSE_VISUALIZER_EXTENDED:1,REVEAL_CONTENT:5,HIDE_CONTENT:5,SELECT_QUESTION_SUBMISSION:20,SELECT_QUESTION_MATRIX_SUBMISSION:40,START_SURVEY:1,STOP_SURVEY:1,USERS_ASSIGNED:1,INDIVIDUAL_ASSIGNED:1,ASSIGNMENT_CLEARED:1,REMOVE_ASSIGNMENT:1,VIDEO_PLAY:1,VIDEO_PAUSE:1,VIDEO_END:8},Ee=["Dog","Cat","Cow","Sheep","Rabbit","Duck","Hen","Horse","Pig","Turkey","Chicken","Donkey","Goat","Guinea-Pig","Llama","Squirrel","Snail","Mouse","Chameleon","Deer","Raccoon","Moose","Antelope","Beaver","Weasel","Hedgehog","Ferret","Koala","Wolf","Lynx","Groundhog","Anteater","Panda-Bear","Grizzly-Bear","Wombat","Panther","Mole","Lion","Hyena","Camel","Elephant","Hippo","Fennec","Leopard","Puma","Zebra","Mule"],_e=n(45906),Se=f()("isle:session"),Ae=/^\/([^/]*)\/([^/]*)\//i,Te=/\/ocpu\/tmp\/[^/]+\/stdout/,ye=/\/ocpu\/tmp\/[^/]+\/graphics\/[^\n]*/g,Re=/\nIn call:[\s\S]*$/gm,Oe=/\/(?:site-)?library\/([^/]*)\/help\/([^/"]*)/,Ie=3e5,be=null,Ne=(new Date).getTime(),De=Ne,Le=0,Pe={progress:null,score:null,elapsed:0,feedbacks:0,addedChatMessages:0,addedActionTypes:[],active:!0,startTime:Ne,endTime:null,duration:null},Ce=null,we=null,ke=null,xe=null,Me=null,Ue=null,He=null,Ge=null;function Xe(e,t){return(""+e.title).localeCompare(t.title)}var Ze=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;(0,s.Z)(this,e),(0,c.Z)(this,"onLessonMount",(function(){Se("Lesson has mounted..."),t.anonymous||C()(t.currentUserActions)||(t.logSessionInterval=setInterval(t.interval,Ie))})),(0,c.Z)(this,"onlineListener",(function(){Se("Browser switched to being online..."),t.startPingServer()})),(0,c.Z)(this,"offlineListener",(function(){Se("Browser switched to being offline..."),t.live=!1,t.socket&&(t.socket.close(),t.socket=null),t.update(ge.SC)})),(0,c.Z)(this,"visibilityChangeListener",(function(){document.hidden?(t.logSession(),t.stopPingServer(),clearInterval(t.logSessionInterval)):(t.startPingServer(),De=(new Date).getTime(),t.logSessionInterval=setInterval(t.logSession,Ie))})),(0,c.Z)(this,"focusInListener",(function(e){var n,r=document.activeElement;if(r)for(n=r.id;!n&&r;)(r=r.parentElement)&&(n=r.id);Se("Focused element with id ".concat(n)),t.log({type:ge.gz,value:t.user.email,id:n,noSave:!0},"owners")})),(0,c.Z)(this,"focusOutListener",(function(e){Se("Users ".concat(t.user.email," lost focus...")),t.log({type:ge.sS,id:t.userFocuses[t.user.email],value:t.user.email,noSave:!0},"owners")})),(0,c.Z)(this,"logSession",(function(){Se("Logging current session object to database..."),!t.anonymous&&t.live&&t.updateDatabase()})),(0,c.Z)(this,"subscribe",(function(e){return Ce.push(e),function(){Ce=Ce.filter((function(t){return t!==e}))}})),(0,c.Z)(this,"pingServer",(function(){Se("Should ping the server at ".concat(t.server,"...")),d().get(t.server+"/ping").then((function(e){"live"===e.data?(t.live=!0,t.socket&&!t.socket.disconnected||t.socketConnect(),t.update(ge.QG),t.lessonID||t.namespaceID||t.getLessonInfo()):(t.live=!1,t.config.server&&(t.server=t.config.server)),t.update(ge.OG)})).catch((function(e){Se("Encountered an error: "+e.message),t.config.server&&(t.server=t.config.server)}))})),(0,c.Z)(this,"startPingServer",(function(){t.pingServer(),t.pingInterval=setInterval(t.pingServer,1e4)})),(0,c.Z)(this,"stopPingServer",(function(){Se("Should clear the interval pinging the server"),clearInterval(t.pingInterval)})),(0,c.Z)(this,"executeRCode",(function(e){var n=e.code,r=e.onPlots,o=e.onResult,s=e.onError;Se("Executing R code...");var a=t.getOpenCPUServer();Se("Post request at ".concat(a+pe,' for code "').concat(n,'"'));var c=new FormData;c.append("x",n),d().post(a+pe,c).then((function(e){var t=e.data;Se("Received body:\n "+t),Se("Response status: "+e.status);var n,s=[],c=t.match(Te);c&&c[0]&&(n=c[0],d().get(a+n).then((function(e){o(null,e,e.data)})).catch((function(e){return o(e)})));var u,l=t.matchAll(ye),f=(0,i.Z)(l);try{for(f.s();!(u=f.n()).done;){var h=u.value,p=a+h[0]+"/svg";s.push(p)}}catch(m){f.e(m)}finally{f.f()}I()(r)&&r(s)})).catch((function(e){Se("Encountered an error: "+e.message),e.response.data&&s(e.response.data.replace(Re,""))}))})),(0,c.Z)(this,"getRHelpPage",(function(e,n){var r=t.getOpenCPUServer(),i=new FormData;i.append("x","y = "+e+"; y[1]"),d().post(r+pe,i).then((function(e){e.data.split("\n").forEach((function(e){!0===Te.test(e)&&function(e){d().get(r+e).then((function(e){var t=e.data.match(Oe),r=(0,o.Z)(t,3),i=r[1],s=r[2];d().get("https://public.opencpu.org/ocpu/library/".concat(i,"/man/").concat(s,"/html")).then((function(e){n(null,e,e.data)})).catch((function(e){return n(e)}))}))}(e)}))})).catch((function(e){return Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"getRHelp",(function(e,n,r){var o=t.getOpenCPUServer();d().get(o+"/ocpu/library/".concat(e,"/man/").concat(n,"/html")).then((function(e){r(null,e,e.data)})).catch((function(e){return r(e)}))})),(0,c.Z)(this,"getRPlot",(function(e,n,r){var o=t.getOpenCPUServer(),i=new FormData;i.append("x",e),d().post(o+pe,i).then((function(e){e.data.split("\n").forEach((function(e){!0===ye.test(e)&&function(e){d().get(e,{responseType:"arraybuffer"}).then((function(t){var n=t.headers["content-type"],o=btoa(new Uint8Array(t.data).reduce((function(e,t){return e+String.fromCharCode(t)}),"")),i="data:".concat(n,";base64,").concat(o);return r(null,e,i)})).catch((function(e){return r(e)}))}(o+e+"/"+n)}))})).catch((function(e){return r(e)}))})),(0,c.Z)(this,"getJitsiToken",(function(){var e=t.server+"/get_jitsi_token";e+="?",e+=u.stringify({namespaceID:t.namespaceID}),d().get(e).then((function(e){Se("Retrieved JITSI token: "+JSON.stringify(e.data)),Ge=e.data,t.update(ge.O4)})).catch((function(e){Ge=null,Se("Encountered an error "+e.message)}))})),(0,c.Z)(this,"sendSocketMessage",(function(e,n){n||(n="owners"),t.socket?t.socket.emit("event",e,n):(e.email="anonymous",e.name="anonymous",t.saveAction(e))})),(0,c.Z)(this,"getUserRights",(function(){t.anonymous||t.userRightsQuestionPosed||t._offline||be||!t.lessonID||!t.namespaceID||(Se("Retrieve user rights..."),t.userRightsQuestionPosed=!0,d().post(t.server+"/get_user_rights",{namespaceName:t.namespaceName,lessonName:t.lessonName}).then((function(e){be=e.data,t.cohort=be.cohort,be.owner&&N()(t.socketActions)?(Se("[3a] Retrieve all user actions for owners:"),t.getUserActions()):(Se("[3b] Retrieve only own actions otherwise:"),t.getCurrentUserActions()),t.update(ge.YQ,be),Ge||t.getJitsiToken(),t.getStickyNotes(),t.getTextEditorDocuments()})).catch((function(e){t.userRightsQuestionPosed=!1,Se("Encountered an error "+e.message)})))})),(0,c.Z)(this,"removeUserRights",(function(){be=null,t.userRightsQuestionPosed=!1})),(0,c.Z)(this,"isEnrolled",(function(){return!!be&&be.enrolled})),(0,c.Z)(this,"isOwner",(function(){return!!be&&be.owner})),(0,c.Z)(this,"isActive",(function(){return Pe.active})),(0,c.Z)(this,"removeChat",(function(e){e=t.stripChatName(e),Se('Remove the "'.concat(e,'" chat from the list of chats'));for(var n=ke.length-1;n>=0;n--)ke[n].name===e&&ke.splice(n,1);t.update(ge._Z,e)})),(0,c.Z)(this,"deleteGroups",(function(){for(var e=0;e<xe.length;e++)t.closeChatForAll(xe[e].name);t.socket.emit("delete_groups")})),(0,c.Z)(this,"getStickyNotes",(function(){d().get(t.server+"/get_sticky_notes?"+u.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){"ok"===e.data.message&&e.data.notes.length>0&&(t.stickyNotes=e.data.notes,t.update(ge.WQ))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))})),(0,c.Z)(this,"updateStickyNote",(function(e){return d().post(t.server+"/update_sticky_note",(0,r.Z)((0,r.Z)({},e),{},{namespaceID:t.namespaceID})).then((function(e){if("ok"===e.data.message)for(var n=e.data.note,r=0;r<t.stickyNotes.length;r++)t.stickyNotes[r]._id===n._id&&(t.stickyNotes[r]=n),t.update(ge.WQ)})).catch((function(e){return Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"deleteStickyNote",(function(e){return Se("Deleting sticky note..."),d().post(t.server+"/delete_sticky_note",{noteID:e,namespaceID:t.namespaceID}).then((function(n){if("ok"===n.data.message){for(var r=null,o=0;o<t.stickyNotes.length;o++)t.stickyNotes[o]._id===e&&(r=o);null!==r&&(Se("Remove note at position "+r),t.stickyNotes.splice(r,1),setTimeout((function(){t.update(ge.WQ)}),1100))}})).catch((function(e){return Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"getTextEditorDocuments",(function(){be&&be.owner&&d().get(t.server+"/text_editor_document_list?"+u.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){"ok"===e.data.message&&e.data.documents.length>0&&(t.textEditorDocuments=e.data.documents.map((function(e){return e.id})),t.update(ge.Ys))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))})),(0,c.Z)(this,"getTextEditorDocument",(function(e){var n=t.server+"/text_editor_document?"+u.stringify({id:e,lessonID:t.lessonID,namespaceID:t.namespaceID});return d().get(n).catch((function(e){return Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"updateMetadata",(function(e,n,o){if(!t.isOwner())return null;t.metadata[e]||(t.metadata[e]={}),t.metadata[e][n]=o;var i={namespaceID:t.namespaceID,lessonID:t.lessonID,type:e,key:n,value:o};d().post(t.server+"/update_metadata",i).then((function(e){e.data.metadata&&(t.metadata=(0,r.Z)((0,r.Z)({},t.metadata),e.data.metadata))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))})),(0,c.Z)(this,"getFakeUsers",(function(){var e=t.server+"/get_fake_users?";return e+=u.stringify({namespaceID:t.namespaceID}),d().get(e).then((function(e){return e.data})).catch((function(e){return t.addNotification({title:_e.a.t("session:request-failed"),message:e.message,level:"error",position:"tl"})}))})),(0,c.Z)(this,"getUserActions",(function(){Se("Retrieve user actions..."),d().post(t.server+"/get_user_actions",{lessonID:t.lessonID,anonymous:!0}).then((function(e){Se("/get_user_actions response status: "+e.status);var n=e.data.actions;Se("Received ".concat(n.length," actions for lesson ").concat(t.lessonName," (id: ").concat(t.lessonID,")...")),t.socketActions=n,t.update(ge.Hl,n),Se("[4] Retrieve cohort information..."),t.getCohorts()})).catch((function(e){return Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"getCohorts",(function(){var e=t.server+"/get_cohorts?"+u.stringify({namespaceID:t.namespaceID,memberFields:"email name picture"});d().get(e).then((function(e){var n=e.data.cohorts;t.cohorts=n.sort(Xe),t.update(ge.$L,t.cohorts)})).catch((function(e){return Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"selectCohort",(function(e){if(!t.cohorts||t.selectedCohort&&e===t.selectedCohort.title)return Se("No cohorts available or already changed to the requested cohort...");for(var n,r,o=t.cohorts,i=0;i<o.length;i++){if(o[i].title===e)if("break"===function(){n=o[i];var e=t.userList.map((function(e){return e.email}));return r=n.members.filter((function(t){return A()(e,t.email)})),"break"}())break}t.selectedCohort=n,t.activeCohortMembers=r,t.update(ge.c_,t.selectedCohort)})),(0,c.Z)(this,"getCurrentUserActions",(function(){d().post(t.server+"/get_current_user_actions",{lessonID:t.lessonID}).then((function(e){Se("Received current user actions..."),t.currentUserActions=e.data.actions,t.update(ge.u,t.currentUserActions)})).catch((function(e){return Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"saveAction",(function(e){if(Se("Received a member action..."),!e.noSave){var n=t.socketActions;n.unshift(e),t.socketActions=n,Se("Number of actions: "+t.socketActions.length)}e.type===ge.gz?(Se("Received focus for element with ID ".concat(e.id," by ").concat(e.email)),t.userFocuses[e.email]=e.id):e.type===ge.sS&&(Se("Remove focus for user ".concat(e.email)),delete t.userFocuses[e.email]),t.update(ge.Wh,e)})),(0,c.Z)(this,"login",(function(e,n){var r;r=e.token?t.server+"/login_tfa":t.server+"/login",d().post(r,e).then((function(e){var r=e.data,o=r.token,i=r.id,s=r.message;He={token:o,id:i},localStorage.setItem(t.userVal,JSON.stringify(He)),"ok"===s&&t.handleLogin({token:o,id:i}),n(null,e,e.data)})).catch((function(e){return 404===e.response.status||401===e.response.status?t.addNotification({title:e.response.statusText,message:e.response.data,level:"error",position:"tl"}):void n(e)}))})),(0,c.Z)(this,"getLessonInfo",(function(){var e=t.lessonName,n=t.namespaceName,o=t.server;Se("Retrieve lesson info for ".concat(n,"/").concat(e," from ").concat(o)),e&&n&&d().get(t.server+"/get_lesson_info?"+u.stringify({lessonName:e,namespaceName:n})).then((function(e){var n=e.data;t.lessonID=n.lessonID,t.namespaceID=n.namespaceID,n.enableTicketing&&(t.enableTicketing=n.enableTicketing),Pe.active=void 0===n.active||n.active,n.time&&(Pe.startTime=n.time),n.metadata&&(t.metadata=(0,r.Z)((0,r.Z)({},t.metadata),n.metadata)),Se("[2] Retrieve user rights and data for said lesson and its namespace"),Se(JSON.stringify(n)),t.update(ge.KI,n),t.getUserRights()})).catch((function(e){Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"handleLogin",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d().post(t.server+"/credentials",{id:e.id}).then((function(e){Se("Received credentials for login..."),n||t.addNotification({title:_e.a.t("session:loggedin"),message:_e.a.t("session:loggedin-message"),level:"success",position:"tl"}),t.user=e.data,t.user&&t.user.picture&&(t.user.picture=t.server+"/avatar/"+t.user.picture),Pe.score=t.user.score,t.anonymous=!1,t.socket.close(),t.socketConnect(),be||t.getUserRights(),t.update(ge.Fw)})).catch((function(e){Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"adjustGrades",(function(e,n){var r=0;for(var o in n)k()(n,o)&&"_sumPoints"!==o&&(r+=n[o]);n._sumPoints=r,t.lessonGrades[e]=n,d().post(t.server+"/user_adjust_grades",{email:e,grades:n,lessonID:t.lessonID,namespaceID:t.namespaceID}).then((function(e){t.addNotification({title:_e.a.t("session:grades-saved"),message:e.data.message,level:"success",position:"tl"})}))})),(0,c.Z)(this,"appendGradeMessage",(function(e,n,r){var o={time:(new Date).getTime(),user:t.user.name,picture:(0,g.basename)(t.user.picture),content:r};t.lessonGradeMessages[e]||(t.lessonGradeMessages[e]={}),L()(t.lessonGradeMessages[e][n])?t.lessonGradeMessages[e][n].push(o):t.lessonGradeMessages[e][n]=[o],d().post(t.server+"/user_append_grade_message",{lessonID:t.lessonID,namespaceID:t.namespaceID,email:e,componentID:n,message:o}).then((function(e){t.addNotification({title:_e.a.t("session:message-saved"),message:e.data.message,level:"success",position:"tl"})}))})),(0,c.Z)(this,"getLessonGrades",(function(){for(var e=t.responseVisualizerIds,n=0,r=e.length-1;r>=0;r--){var o=e[r],i=t.responseVisualizers[o].ref;i&&i.props&&i.props.points&&(n+=i.props.points)}t.metadata.grades&&t.metadata.grades.maxPoints!==n&&(t.metadata.grades.maxPoints=n,t.updateMetadata("grades","maxPoints",n)),d().get(t.server+"/get_lesson_grades?"+u.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){t.lessonGrades=e.data.grades})).catch((function(e){Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"getLessonGradeMessages",(function(){d().get(t.server+"/get_lesson_grade_messages?"+u.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){t.lessonGradeMessages=e.data.gradeMessages})).catch((function(e){Se("Encountered an error: "+e.message)}))})),(0,c.Z)(this,"getLessonOwnerFiles",(function(e){if(t.lessonName&&t.namespaceName){var n=t.server+"/get_files";n+="?"+u.stringify({namespaceName:t.namespaceName,lessonName:t.lessonName,owner:!0}),d().get(n).then((function(t){e(null,t.data.files)})).catch((function(t){Se("Encountered an error: "+t.message),e(t)}))}})),(0,c.Z)(this,"uploadFile",(function(e){var n=e.formData,r=e.callback,o=void 0===r?function(){}:r,i=e.showNotification,s=void 0===i||i;if(t.lessonName&&n.append("lessonName",t.lessonName),t.namespaceName&&n.append("namespaceName",t.namespaceName),t.isOwner()&&n.append("owner",!0),C()(t.user))return t.addNotification({title:_e.a.t("session:file-upload"),message:_e.a.t("session:file-upload-signin-required"),level:"warning",position:"tl"}),o(new Error(_e.a.t("session:file-upload-signin-required")));var a=new XMLHttpRequest;a.open("POST",t.server+"/upload_file",!0),a.setRequestHeader("Authorization","JWT "+He.token),a.onreadystatechange=function(){var e,n,r,i;if(a.readyState===XMLHttpRequest.DONE)return i=null,200===a.status?(e=(r=JSON.parse(a.responseText)).message,n="success"):(e=a.responseText,n="error",i=new Error(a.responseText)),s&&t.addNotification({title:_e.a.t("session:file-upload"),message:e,level:n,position:"tl"}),o(i,r)},a.send(n)})),(0,c.Z)(this,"sendMail",(function(e,n){var o=(0,r.Z)({},e);k()(o,"from")||(o.from=t.config.email||"notifications@".concat(window.location.host)),k()(o,"to")||(o.to=n),d().post(t.server+"/send_mail",o).catch((function(e){return Se("Encountered an error: "+e.message)}))})),Se("Should create session..."),this.server=a?null:j.Z?n.server:window.location.origin,this._offline=a||!1,Ce=[],this.userVal="ISLE_USER_"+this.server,this.anonymous=!0;var l,f="ISLE_ANONYMOUS_"+this.server;if(localStorage&&((l=localStorage.getItem(f))?this.anonymousIdentifier=l:(this.anonymousIdentifier=V()(Ee,{size:1})+" "+(0,F.Z)(4),localStorage.setItem(f,this.anonymousIdentifier))),this.sessionID=(0,F.Z)(3),this.user={},d().interceptors.request.use((function(e){e.headers["Accept-Language"]=_e.a.language;var n=He.token;return n&&R()(e.url,t.server)&&(e.headers.Authorization="JWT ".concat(n)),e})),localStorage&&((l=localStorage.getItem(this.userVal))?(He=JSON.parse(l),this.handleLogin(He,!0)):(He={},!this.server||this._offline||this.socket||this.socketConnect())),this.finished=!1,this.live=!1,this.actions=[],this.currentUserActions={},this.cohort=null,this.cohorts=null,this.socketActions=[],this.responseVisualizers={},this.responseVisualizerIds=[],this.presentationMode=!1,this.userList=[],this.userFocuses={},this.userProgress={},Me=null,xe=[],Ue=[],this.selectedCohort=null,this.activeCohortMembers=null,this.hasOwner=!1,ke=[],we=[],this.state=n.state,this.speechInterface=new de,this.config=n,this.VoiceRecordingStatus=!1,this.lessonID=null,this.namespaceID=null,this.enableTicketing=!1,this.metadata={revealer:{},grades:{},store:{}},this.lessonGrades={},this.lessonGradeMessages={},this.stickyNotes=[],this.textEditorDocuments=[],this.namespaceName=null,this.lessonName=null,j.Z||a)this.lessonName=n.lesson,this.namespaceName=n.namespace;else{var h=window.location.pathname;if((0,T.isPrimitive)(h)){var p=h.match(Ae);p&&p.length>=2&&h.endsWith("/")&&(this.namespaceName=decodeURIComponent(p[1]),this.lessonName=decodeURIComponent(p[2]))}}this.store=m().createInstance({driver:m().INDEXEDDB,name:"ISLE_".concat(this.namespaceName,"_").concat(this.lessonName),description:"Persistent data storage for ISLE lesson"}),this._offline||this.startPingServer(),this.lessonID||this.namespaceID||this._offline||(Se("[1] Retrieve lesson information:"),this.getLessonInfo()),this.debouncedInitializeProgress=_()(this.initializeProgress,3e3),j.Z||a||(document.addEventListener("focusin",this.focusInListener),document.addEventListener("focusout",this.focusOutListener),document.addEventListener("visibilitychange",this.visibilityChangeListener),window.addEventListener("online",this.onlineListener),window.addEventListener("offline",this.offlineListener)),this.server&&(d().get(this.server+"/get_lesson_settings").then((function(e){Pe.settings=e.data})).catch((function(e){Se("Encountered an error: "+e.message)})),d().get(this.server+"/get_translations").then((function(e){var t=e.data||{};_e.a.store.on("added",(function(e,n){if(t[e]&&t[e][n])for(var r=t[e][n],o=Object.keys(r),i=0;i<o.length;i++)_e.a.store.data[e][n][o[i]]=r[o[i]]}))})).catch((function(e){Se("Encountered an error: "+e.message)})))}return(0,a.Z)(e,[{key:"startTime",get:function(){return Pe.startTime}},{key:"endTime",get:function(){return Pe.endTime}},{key:"duration",get:function(){return Pe.duration}},{key:"videoChats",get:function(){return we}},{key:"chats",get:function(){return ke}},{key:"group",get:function(){return Me}},{key:"allGroups",get:function(){return xe}},{key:"questions",get:function(){return Ue}},{key:"settings",get:function(){return Pe.settings||{}}},{key:"jitsi",get:function(){return(0,r.Z)({},Ge)}},{key:"joinChat",value:function(e){var t=e.name,n=e.canLeave,r=void 0===n||n,o=e.anonymousSubmissions,i=void 0!==o&&o;if(this.socket){for(var s=!1,a=0;a<ke.length;a++)ke[a].name===t&&(s=!0);s||(ke.push({name:t,messages:[],members:[],canLeave:r,anonymousSubmissions:i}),this.socket.emit("join_chat",t))}}},{key:"joinVideoChat",value:function(e){for(var t=e.name,n=e.subject,r=!1,o=0;o<we.length;o++)we[o].name===t&&(r=!0);r||(we.push({name:t,subject:n}),this.update(ge.q,t))}},{key:"inviteToChat",value:function(e,t){this.socket.emit("chat_invitation",e,t)}},{key:"inviteToVideo",value:function(e,t){this.socket.emit("video_invitation",e,t)}},{key:"closeChatForAll",value:function(e){Se("Closing chat "+e+" for all users..."),this.socket.emit("close_chat",e)}},{key:"joinCollaborativeEditing",value:function(e,t){e="".concat(this.namespaceID,"-").concat(this.lessonID,"-").concat(e),this.socket&&(Se("Join collaborative editing for "+e),t?this.socket.emit("join_collaborative_editing",e,t):this.socket.emit("join_collaborative_editing",e))}},{key:"sendCollaborativeEvents",value:function(e,t){this.socket&&(e="".concat(this.namespaceID,"-").concat(this.lessonID,"-").concat(e),this.socket.emit("send_collaborative_editing_events",{docID:e,data:t}))}},{key:"pollCollaborativeEditingEvents",value:function(e,t){this.socket&&(e="".concat(this.namespaceID,"-").concat(this.lessonID,"-").concat(e),this.socket.emit("poll_collaborative_editing_events",{docID:e,data:t}))}},{key:"markChatMessagesAsRead",value:function(e){var t=this.getChat(e);t.messages=t.messages.map((function(e){return e.unread=!1,e})),this.update(ge.NH)}},{key:"sendChatMessage",value:function(e,t,n){if(Pe.addedChatMessages+=1,this.socket){var r={time:(new Date).getTime(),user:this.user.name,picture:(0,g.basename)(this.user.picture),content:t};n&&(r.anonymous=!0);var o=this.getChat(e);o&&(o.messages.push(r),this.markChatMessagesAsRead(e)),Se("Should emit message to room "+e+": "+JSON.stringify(r)),this.socket.emit("chat_message",{msg:r,namespaceName:this.namespaceName,lessonName:this.lessonName,chatroom:e}),this.update(ge.EG,e)}}},{key:"getChat",value:function(e){e=this.stripChatName(e);for(var t=0;t<ke.length;t++){var n=ke[t];if(n.name===e)return n}return null}},{key:"stripChatName",value:function(e){var t=e.indexOf(":");return-1!==t&&(e=e.substr(t+1)),e}},{key:"leaveChat",value:function(e){this.removeChat(e),this.socket&&this.socket.emit("leave_chat",e)}},{key:"leaveVideoChat",value:function(e){Se("Closing video chat with name ".concat(e));for(var t=we.length-1;t>=0;t--)we[t].name===e&&we.splice(t,1);this.update(ge.lK,e)}},{key:"createGroups",value:function(e){this.socket.emit("create_groups",e)}},{key:"addQuestionToQueue",value:function(e){this.socket.emit("add_question",e)}},{key:"removeQuestionFromQueue",value:function(e){this.socket.emit("remove_question",e)}},{key:"saveSketchpadData",value:function(e,t){var n=this;return d().post(this.server+"/save_sketchpad_data",{namespaceID:this.namespaceID,lessonID:this.lessonID,sketchpadID:e,data:t}).catch((function(e){n.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))}},{key:"getSketchpadVisitorData",value:function(e){var t=this;return this._offline?new Promise((function(e,t){e(null)})):this.store.getItem(e).then((function(n){var o=t.server+"/get_sketchpad_shared_data";return o+="?"+u.stringify({lessonID:t.lessonID,sketchpadID:e}),d().get(o).then((function(e){var t=e.data;return n?(0,r.Z)((0,r.Z)({},n),t):t}))}))}},{key:"getSketchpadUserData",value:function(e){if(this._offline)return new Promise((function(e,t){e(null)}));var t=this.server+"/get_sketchpad_user_data";return t+="?"+u.stringify({namespaceID:this.namespaceID,lessonID:this.lessonID,sketchpadID:e}),d().get(t).then((function(e){return e.data}))}},{key:"saveStickyNote",value:function(e){var t=this,n=e.title,r=e.body,o=e.left,i=e.top,s=e.visibility;return d().post(this.server+"/save_sticky_note",{namespaceID:this.namespaceID,lessonID:this.lessonID,title:n,body:r,left:o,top:i,visibility:s}).then((function(e){"ok"===e.data.message&&(t.stickyNotes.push(e.data.note),t.update(ge.WQ))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))}},{key:"socketConnect",value:function(){var e=this;if(Se("Connecting via socket to server..."),this.socket){if(!this.socket.disconnected)return void Se("Socket connection is still working, no need to create new one...");Se("Close existing connection before creating new socket connection..."),this.socket.close(),this.socket=null}var t=v.connect(this.server,{transports:["websocket"]});t.on("connect",(function(){Se("I am connected..."),setTimeout((function(){e.log({type:me.lJ,value:t.id,id:e.lessonName})}),1e3),e.stopPingServer()}));var n={namespaceName:this.namespaceName,lessonName:this.lessonName,userID:this.user.id,userName:this.user.name||this.anonymousIdentifier,userEmail:this.user.email||this.anonymousIdentifier};t.emit("join",n),t.on("console",(function(e){Se(e)})),t.on("userlist",(function(t){Se("Received list of users currently in the lesson: "+t),e.userList=JSON.parse(t);for(var n=0;n<e.userList.length;n++){if(e.userList[n].owner){e.hasOwner=!0;break}}e.update(ge.lf)})),t.on("progress",(function(t){Se("Receiving progress ".concat(t.progress," from user ").concat(t.email)),e.userProgress[t.email]=t.progress,e.update(ge.Ny)})),t.on("user_joins",(function(t){Se("A user has joined and should be added to the user list: "+t),(t=JSON.parse(t)).owner&&(e.hasOwner=!0),e.userList=e.userList.filter((function(e){return e.email!==t.email})),e.userList.push(t),e.update(ge.At,t)})),t.on("user_leaves",(function(t){Se("A user has disconnected and should be removed: "+t),t=JSON.parse(t),e.userList=e.userList.map((function(e){return e.email===t.email&&(e.inactive=!0,e.exitTime=t.exitTime),e})),setTimeout((function(){e.userList=e.userList.filter((function(e){return e.email!==t.email||!e.inactive})),e.update(ge.p0,t.email)}),18e4);var n=t.email===e.user.email;e.update(ge.vu,t.email),n&&e.forcedLogout()})),t.on("chat_history",(function(t){var n=t.name,r=t.messages,o=t.members;Se("Received chat history: "+JSON.stringify(r));var i=e.getChat(n);i?(i.messages=r,i.members=o):(i={name:n=e.stripChatName(n),messages:r,members:o},ke.push(i)),e.update(ge.PY,i)})),t.on("member_has_joined_chat",(function(t){var n=t.name,r=t.member;Se("Member ".concat(r.name," has joined chat ").concat(n));var o=e.getChat(n);n=e.stripChatName(n),o?(o.members.push(r),e.update(ge.xG,o)):r.email===e.user.email&&(o={name:n,messages:[],members:[]},ke.push(o),e.socket.emit("join_chat",n),e.update(ge.JV,o))})),t.on("member_has_left_chat",(function(t){var n=t.name,r=t.member;Se("Member ".concat(r.name," has left chat ").concat(n));var o=e.getChat(n);n=e.stripChatName(n),o.members=o.members.filter((function(e){return e.email!==r.email})),e.user.email===r.email?(Se("I have left the chat..."),e.removeChat(n),e.update(ge.TY,n)):(Se("Somebody else has left the chat"),e.update(ge.Jz,n))})),t.on("joined_collaborative_editing",(function(t,n){e.update(ge.qG,{id:t,data:n})})),t.on("sent_collaborative_editing_events",(function(t,n){e.update(ge.t0,{id:t,data:n})})),t.on("polled_collaborative_editing_events",(function(t,n){e.update(ge.ug,{id:t,data:n})})),t.on("collaborative_editing_events",(function(t,n){e.update(ge.q$,{id:t,data:n})})),t.on("chat_message",(function(t){var n=e.getChat(t.chatroom);n&&(t.msg.unread=!0,n.messages.push(t.msg)),e.update(ge.LL,t.chatroom)})),t.on("chat_invitation",(function(t){e.joinChat(t)})),t.on("video_invitation",(function(t){e.joinVideoChat(t)})),t.on("closed_chat",(function(t){Se("Should close chat with name "+t),e.removeChat(t)})),t.on("chat_statistics",(function(t){t.name=e.stripChatName(t.name),e.update(ge.em,t)})),t.on("created_groups",(function(t){xe=t,Me=B(t,e.user),e.update(ge.WF,Me),Me&&!e.isOwner()&&e.joinChat({name:e.group.name,canLeave:!1})})),t.on("deleted_groups",(function(){Me=null;var t=xe;xe=[],e.update(ge.vB,t)})),t.on("queue_questions",(function(t){Ue=t,e.update(ge.Kd,Ue)})),t.on("memberAction",this.saveAction),t.on("error",(function(e){Se("Encountered an error: "+e.message)})),t.on("disconnect",(function(t){Se("Socket is disconnected from the server. Reason: "+t),e.live=!1,e.socket&&(e.socket.close(),e.socket=null),e.startPingServer(),e.update(ge.SC)})),this.socket=t}},{key:"update",value:function(e,t){Ce.forEach((function(n){return n(e,t)}))}},{key:"registerUser",value:function(e,t){var n=this;d().post(this.server+"/create_user",e).then((function(){n.addNotification({title:_e.a.t("session:user-created"),message:_e.a.t("session:user-created-message"),level:"success",position:"tl"}),n.login({email:e.email,password:e.password},t)})).catch((function(e){n.addNotification({title:_e.a.t("session:user-not-created"),message:e.response.data,level:"error",position:"tl"}),Se("Encountered an error: "+e.message),t(e)}))}},{key:"logout",value:function(){Se("Logout initiated by user ".concat(this.user.name)),localStorage.removeItem(this.userVal),this.socket.emit("leave"),this.socket.close(),this.user={},this.anonymous=!0,this.userRightsQuestionPosed=!1,this.reset(),this.addNotification({title:_e.a.t("session:logout-title"),message:_e.a.t("session:logout-message"),level:"success",position:"tl"}),this.update(ge.E7)}},{key:"forcedLogout",value:function(){Se("Forced logout of user ".concat(this.user.name," by server, connect again"));var e=localStorage.getItem(this.userVal);this.reset(),e&&(e=JSON.parse(e),this.handleLogin(e,!0))}},{key:"reset",value:function(){ke=[],we=[],this.actions=[],this.socketActions=[],this.currentUserActions={},this.userList=[],this.removeUserRights()}},{key:"forgotPassword",value:function(e){var t=this;d().get(this.server+"/forgot_password?"+u.stringify({email:e})).then((function(){Se("GET: /forgot_password"),t.addNotification({title:_e.a.t("session:new-password-title"),message:_e.a.t("session:new-password-message"),level:"success",position:"tl"})})).catch((function(e){t.addNotification({title:_e.a.t("session:new-password-title"),message:e.message,level:"error",position:"tl"})}))}},{key:"retrieveData",value:function(e,t){d().post(this.server+"/retrieve_data",{query:e,user:this.user}).then((function(e){return t(null,e.data)})).catch((function(e){return t(e)}))}},{key:"get",value:function(e){return Pe[e]}},{key:"finalize",value:function(){Pe.endTime=(new Date).getTime(),Pe.duration=Pe.endTime-Pe.startTime,this.finished=!0,!1===this.anonymous&&this.updateDatabase()}},{key:"initializeProgress",value:function(){if(!(this.anonymous||C()(this.currentUserActions)||be&&be.owner)){Se("Set initial progress...");var e=0,t=this.responseVisualizerIds;this.unfinished=t.slice();for(var n=t.length-1;n>=0;n--){var r=t[n],o=this.currentUserActions[r],i=this.responseVisualizers[r];if(i){var s=i.type;if(o)for(var a=0;a<o.length;a++)if(o[a].type===s){this.unfinished.splice(n,1),e+=1/t.length;break}}}Pe.progress=X()(e,0,1),Se("Initial progress: "+e),this.update(ge.Gq,e),this.socket.emit("progress",e),this.logSession()}}},{key:"setProgress",value:function(e){if(!(this.anonymous||C()(this.currentUserActions)||be&&be.owner)){var t=this.responseVisualizerIds;if(e){var n=this.currentUserActions[e],r=this.responseVisualizers[e];if(n&&r)for(var o=r.type,i=0;i<n.length;i++)if(n[i].type===o){if(i<n.length-1)break;if(i===n.length-1){var s=X()(this.get("progress")+1/t.length,0,1);Pe.progress=s,this.update(ge.tf,s),this.unfinished||this.initializeProgress(),this.unfinished=this.unfinished.filter((function(t){return t!==e})),this.socket.emit("progress",s),this.logSession()}}}}}},{key:"setScore",value:function(e){if(!(this.anonymous||C()(this.currentUserActions)||be&&be.owner)){var t=this.currentUserActions;if(t){var n=t[e.id],r=ve[e.type]||1;if(n){var o=n.map((function(e){return e.type}));A()(o,e.type)||(Le+=r,Pe.score=this.get("score")+r,this.update(ge.Zh,r))}else Le+=r,Pe.score=this.get("score")+r,this.update(ge.Zh,r)}}}},{key:"togglePresentationView",value:function(){this.presentationMode=!this.presentationMode,this.update(me.x$,this.presentationMode);var e="You have started the presentation mode which hides the status bar, the instructorView and all owner elements. Hit F7 to leave the it.",t="Started presentation mode";!1===this.presentationMode&&(e="You have finished the presentation mode. Hit F7 to start it again.",t="Finished presentation mode"),this.addNotification({title:t,message:e,level:"success",position:"tl"})}},{key:"updateDatabase",value:function(){var e=(new Date).getTime(),t=e-De;De=e;var n=this.get("addedActionTypes");if(0===n.length)return Se("Do not update user session when user is idle...");Se("Updates session object in database...");var r={elapsed:t,addedScore:Le,addedChatMessages:this.get("addedChatMessages"),vars:this.vars,lessonID:this.lessonID,progress:this.get("progress"),addedActionTypes:M()(n,H())};Le=0,Pe.addedChatMessages=0,Pe.addedActionTypes=[],this._offline||this.anonymous||d().post(this.server+"/update_user_session",r).then((function(e){Se("/update_user_session returns: "+e.status)})).catch((function(e){Se("Encountered an error: "+e.message)}))}},{key:"logToDatabase",value:function(e,t,n){Se("Logging ".concat(e," to database..."));var r={startTime:Pe.startTime,userID:this.user.id,lessonID:this.lessonID,type:e,data:t};this._offline||(Pe.addedActionTypes.push(t.type),Se("Storing session element..."),d().post(this.server+"/store_session_element",r).then((function(e){Se("/store_session_element status code: "+e.status),n(null,e.data)})).catch((function(e){Se("Encountered an error: ".concat(e.message,".")),n(e)})))}},{key:"removeSessionElementFromDB",value:function(e,t){var n=this;d().get(this.server+"/delete_session_element?"+u.stringify({_id:e})).then((function(){for(var r=0;r<n.socketActions.length;r++)if(n.socketActions[r].sessiondataID===e){n.socketActions.splice(r,1);break}n.addNotification({title:_e.a.t("session:deleted"),message:_e.a.t("session:deleted-message"),level:"success",position:"tl"}),t(null)})).catch((function(e){n.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"}),t(e)}))}},{key:"log",value:function(e,t){var n=this;e&&e.id&&(e.absoluteTime=(new Date).getTime(),e.time=e.absoluteTime-this.startTime,e.owner=this.isOwner(),this.anonymous?(e.email=this.anonymousIdentifier,e.name=this.anonymousIdentifier):(e.email=this.user.email,e.name=this.user.name),e.noSave?this.sendSocketMessage(e,t):(Se("Save action..."),this.actions.push(e),this.logToDatabase("action",e,(function(r,o){if(r)return n.addNotification({title:_e.a.t("session:error-encountered"),message:r.message,level:"error",position:"tl"});e.sessiondataID=o.id;var i=n.currentUserActions;n.setScore(e),i&&(i[e.id]?i[e.id].push(e):i[e.id]=[e]),n.setProgress(e.id),Se("Send to socket connections after ID is attached..."),n.sendSocketMessage(e,t),1===n.actions.length&&n.updateDatabase()}))))}},{key:"createTicket",value:function(e){var t=e.title,n=e.description,r=e.component,o=e.platform,i=e.files,s=void 0===i?[]:i;if(0===s.length)return d().post(this.server+"/create_ticket",{title:t,description:n,platform:o,component:r,namespaceID:this.namespaceID,lessonID:this.lessonID}).catch((function(e){return Se("Encountered an error: "+e.message)}));for(var a=new FormData,c=0;c<s.length;c++)a.append("attachment",s[c]);return a.append("title",t),a.append("description",n),a.append("platform",JSON.stringify(o)),a.append("namespaceID",this.namespaceID),a.append("lessonID",this.lessonID),d().post(this.server+"/create_ticket",a).catch((function(e){return Se("Encountered an error: "+e.message)}))}},{key:"getOpenCPUServer",value:function(){return this.config.rshell&&this.config.rshell.server?this.config.rshell.server:"https://phd-serv5.heinz.cmu.edu"}},{key:"setVoiceRecordingStatus",value:function(e){this.voiceRecordingStatus=e,this.update(ge.cK,e)}},{key:"addNotification",value:function(e){return e.onAdd||e.onRemove||(e.onAdd=function(){window.addEventListener("beforeunload",q)},e.onRemove=function(){window.removeEventListener("beforeunload",q)}),e.position||(e.position="tc"),n.g.notificationSystemISLE?n.g.notificationSystemISLE.addNotification(e):null}},{key:"removeNotification",value:function(e){n.g.notificationSystemISLE&&n.g.notificationSystemISLE.removeNotification(e)}}]),e}()},2183:function(e,t,n){"use strict";var r=n(86890),o=n.n(r),i=n(20842),s="object"===typeof process&&o()(process.versions)&&(0,i.isPrimitive)(process.versions.electron)&&(0,i.isPrimitive)(process.versions.chrome)&&("browser"===process.type||"renderer"===process.type);t.Z=s},82948:function(e,t,n){"use strict";var r=n(7380),o=n.n(r),i=n(15377),s=n.n(i),a=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122];t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=s()(a,{size:e});return o().apply(null,t)}},9578:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,E=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,S=n?Symbol.for("react.scope"):60119;function A(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case i:case a:case s:case d:return e;default:switch(e=e&&e.$$typeof){case u:case h:case g:case m:case c:return e;default:return t}}case o:return t}}}function T(e){return A(e)===f}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===f||e===a||e===s||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h||e.$$typeof===E||e.$$typeof===_||e.$$typeof===S||e.$$typeof===v)}},52316:function(e,t,n){"use strict";e.exports=n(9578)},35411:function(e,t,n){"use strict";var r=n(48194),o=n(43834),i=n(90597),s=n(17554),a=n(11105),c=n(83489),u=n(70475),l=n(71634),f=[[n(59776),"Float64Array"],[l,"Float32Array"],[c,"Int32Array"],[u,"Uint32Array"],[s,"Int16Array"],[a,"Uint16Array"],[r,"Int8Array"],[o,"Uint8Array"],[i,"Uint8ClampedArray"]];e.exports=f},65259:function(e,t,n){"use strict";var r=n(87435);e.exports=r},87435:function(e,t,n){"use strict";var r=n(65105),o=n(59800);e.exports=function(e){var t,n;if(!r(e))throw new TypeError("invalid argument. Must provide a typed array. Value: `"+e+"`.");for((t={}).type=o(e),t.data=[],n=0;n<e.length;n++)t.data.push(e[n]);return t}},59800:function(e,t,n){"use strict";var r=n(30392),o=n(88888),i=n(61989),s=n(35411);e.exports=function(e){var t,n;for(n=0;n<s.length;n++)if(r(e,s[n][0]))return s[n][1];for(;e;){for(t=o(e),n=0;n<s.length;n++)if(t===s[n][1])return s[n][1];e=i(e)}}},36812:function(e){"use strict";e.exports=function(){}},88412:function(e,t,n){"use strict";var r=n(47827);e.exports=r},47827:function(e,t,n){"use strict";var r=n(36812);e.exports=function(){return"foo"===r.name}},30392:function(e,t,n){"use strict";var r=n(84825);e.exports=r},84825:function(e){"use strict";e.exports=function(e,t){if("function"!==typeof t)throw new TypeError("invalid argument. `constructor` argument must be callable. Value: `"+t+"`.");return e instanceof t}},265:function(e,t,n){"use strict";var r=n(6742);e.exports=r},6742:function(e,t,n){"use strict";var r=n(55212),o=n(48708);e.exports=function(e){return void 0!==e&&null!==e&&"function"!==typeof e&&"number"===typeof e.length&&r(e.length)&&e.length>=0&&e.length<=o}},98718:function(e,t,n){"use strict";var r=n(10039);e.exports=r},10039:function(e,t,n){"use strict";var r=n(70954);e.exports=function(e){return r(e)&&0===e.length}},90485:function(e,t,n){"use strict";var r=n(54227);e.exports=r},54227:function(e,t,n){"use strict";var r=n(67583),o=n(16561),i=n(57701)();e.exports=function(e){return!!o(e)&&(!(r(e).length>0)&&!(i&&Object.getOwnPropertySymbols(e).length>0))}},78422:function(e,t,n){"use strict";var r=n(55037),o=n(83916),i=n(42836),s=n(73354);r(o,"isPrimitive",i),r(o,"isObject",s),e.exports=o},83916:function(e,t,n){"use strict";var r=n(42836),o=n(73354);e.exports=function(e){return r(e)||o(e)}},73354:function(e,t,n){"use strict";var r=n(16910).isObject;e.exports=function(e){return r(e)&&e.valueOf()>0}},42836:function(e,t,n){"use strict";var r=n(16910).isPrimitive;e.exports=function(e){return r(e)&&e>0}},77895:function(e,t,n){"use strict";var r=n(16023);e.exports=r},16023:function(e,t,n){"use strict";var r=n(38600).isPrimitive,o=n(47715);e.exports=function(e){return null!==e&&"object"===typeof e&&r(e.length)&&e.length<=o&&"number"===typeof e.BYTES_PER_ELEMENT&&"number"===typeof e.byteOffset&&"number"===typeof e.byteLength}},76388:function(e,t,n){"use strict";var r=n(48194),o=n(43834),i=n(90597),s=n(17554),a=n(11105),c=n(83489),u=n(70475),l=n(71634),f=[n(59776),l,c,u,s,a,r,o,i];e.exports=f},65105:function(e,t,n){"use strict";var r=n(92266);e.exports=r},92266:function(e,t,n){"use strict";var r=n(88888),o=n(58619),i=n(61989),s=n(63062),a=n(59776),c=n(76388),u=n(98733),l=s()?i(a):f;function f(){}l="TypedArray"===o(l)?l:f,e.exports=function(e){var t,n;if("object"!==typeof e||null===e)return!1;if(e instanceof l)return!0;for(n=0;n<c.length;n++)if(e instanceof c[n])return!0;for(;e;){for(t=r(e),n=0;n<u.length;n++)if(u[n]===t)return!0;e=i(e)}return!1}},5e3:function(e,t,n){"use strict";var r=n(13559);e.exports=r},13559:function(e,t,n){"use strict";var r=n(65105),o=n(70954),i=n(37221).isPrimitive,s=n(84458),a=n(646);e.exports=function(e){var t,n;if(o(e)){for(t=0,n=0;n<e.length;n++){if(!i(e[n])||e[n]>1||e[n]<0)return!1;t+=e[n]}return s(t,1)<=a}if(r(e)){for(t=0,n=0;n<e.length;n++){if(e[n]>1||e[n]<0)return!1;t+=e[n]}return s(t,1)<=a}return!1}},71263:function(e,t,n){"use strict";var r=n(55037),o=n(48578);r(o,"ndarray",n(16654)),e.exports=o},48578:function(e){"use strict";e.exports=function(e,t,n,r,o){var i,s,a,c;if(e<=0)return r;if(1===n&&1===o){if((a=e%8)>0)for(c=0;c<a;c++)r[c]=t[c];if(e<8)return r;for(c=a;c<e;c+=8)r[c]=t[c],r[c+1]=t[c+1],r[c+2]=t[c+2],r[c+3]=t[c+3],r[c+4]=t[c+4],r[c+5]=t[c+5],r[c+6]=t[c+6],r[c+7]=t[c+7];return r}for(i=n<0?(1-e)*n:0,s=o<0?(1-e)*o:0,c=0;c<e;c++)r[s]=t[i],i+=n,s+=o;return r}},16654:function(e){"use strict";e.exports=function(e,t,n,r,o,i,s){var a,c,u,l;if(e<=0)return o;if(a=r,c=s,1===n&&1===i){if((u=e%8)>0)for(l=0;l<u;l++)o[c]=t[a],a+=n,c+=i;if(e<8)return o;for(l=u;l<e;l+=8)o[c]=t[a],o[c+1]=t[a+1],o[c+2]=t[a+2],o[c+3]=t[a+3],o[c+4]=t[a+4],o[c+5]=t[a+5],o[c+6]=t[a+6],o[c+7]=t[a+7],a+=8,c+=8;return o}for(l=0;l<e;l++)o[c]=t[a],a+=n,c+=i;return o}},48708:function(e){"use strict";e.exports=4294967295},63989:function(e){"use strict";e.exports=9007199254740991},646:function(e){"use strict";e.exports=1.4901161193847656e-8},64947:function(e){"use strict";e.exports=65535},62897:function(e){"use strict";e.exports=1114111},19758:function(e,t,n){"use strict";var r=n(43022);e.exports=r},43022:function(e,t,n){"use strict";var r=n(14444),o=n(27394);e.exports=function(e){return e===r||e===o}},96551:function(e,t,n){"use strict";var r=n(96671);e.exports=r},96671:function(e,t,n){"use strict";var r=n(27394);e.exports=function(e){return 0===e&&1/e===r}},40223:function(e,t,n){"use strict";var r=n(56409);e.exports=r},56409:function(e,t,n){"use strict";var r=n(14444);e.exports=function(e){return 0===e&&1/e===r}},28135:function(e,t,n){"use strict";var r=n(16943);e.exports=r},16943:function(e){"use strict";e.exports=function(e){return Math.abs(e)}},79693:function(e,t,n){"use strict";var r=n(63388);e.exports=r},63388:function(e,t,n){"use strict";var r=n(62423),o=n(96551);e.exports=function(e,t,n){return r(e)||r(t)||r(n)?NaN:e<t?t:e>n?n:0===t&&o(e)?t:0===e&&o(n)?n:e}},2554:function(e,t,n){"use strict";var r=n(92919);e.exports=r},92919:function(e,t,n){"use strict";var r=n(40223),o=n(62423),i=n(27394),s=n(14444);e.exports=function(e,t){var n,a,c,u;if(2===(n=arguments.length))return o(e)||o(t)?NaN:e===s||t===s?s:e===t&&0===e?r(e)?e:t:e>t?e:t;for(a=i,u=0;u<n;u++){if(o(c=arguments[u])||c===s)return c;(c>a||c===a&&0===c&&r(c))&&(a=c)}return a}},59596:function(e,t,n){"use strict";var r=n(70300);e.exports=r},70300:function(e){"use strict";e.exports=function(e,t){var n,r;return((n=(65535&(e>>>=0))>>>0)*(r=(65535&(t>>>=0))>>>0)>>>0)+((e>>>16>>>0)*r+n*(t>>>16>>>0)<<16>>>0)>>>0}},84458:function(e,t,n){"use strict";var r=n(93115);e.exports=r},93115:function(e,t,n){"use strict";var r=n(14444),o=n(28135),i=n(62423),s=n(19758);e.exports=function(e,t){return i(e)||i(t)?NaN:s(e)||s(t)?e===t?NaN:r:o(e-t)}},37471:function(e,t,n){"use strict";var r=n(55037),o=n(49553),i=n(48666),s=n(12087),a=n(16561),c=n(52894),u=n(46040),l=n(18306).isPrimitive,f=n(78422).isPrimitive,h=n(63989),d=n(47161),p=n(70475),m=n(2554),g=n(59596),v=n(71263),E=n(65259),_=n(25195),S=624,A=d>>>0,T=19650218,y=2147483648,R=2147483647,O=2636928640,I=4022730752,b=[0,2567483615],N=1/(h+1),D=67108864,L=h*N,P=630;function C(e,t){var n;return n=t?"option":"argument",e.length<631?new RangeError("invalid "+n+". `state` array has insufficient length."):1!==e[0]?new RangeError("invalid "+n+". `state` array has an incompatible schema version. Expected: 1. Actual: "+e[0]+"."):3!==e[1]?new RangeError("invalid "+n+". `state` array has an incompatible number of sections. Expected: 3. Actual: "+e[1]+"."):e[2]!==S?new RangeError("invalid "+n+". `state` array has an incompatible state length. Expected: "+S+". Actual: "+e[2]+"."):1!==e[627]?new RangeError("invalid "+n+". `state` array has an incompatible section length. Expected: "+1..toString()+". Actual: "+e[627]+"."):e[629]!==e.length-P?new RangeError("invalid "+n+". `state` array length is incompatible with seed section length. Expected: "+(e.length-P)+". Actual: "+e[629]+"."):null}function w(e,t,n){var r;for(e[0]=n>>>0,r=1;r<t;r++)n=((n=e[r-1]>>>0)^n>>>30)>>>0,e[r]=g(n,1812433253)+r>>>0;return e}function k(e,t,n,r){var o,i,s,a;for(i=1,s=0,a=m(t,r);a>0;a--)o=e[i-1]>>>0,o=g(o=(o^o>>>30)>>>0,1664525)>>>0,e[i]=(e[i]>>>0^o)+n[s]+s>>>0,s+=1,(i+=1)>=t&&(e[0]=e[t-1],i=1),s>=r&&(s=0);for(a=t-1;a>0;a--)o=e[i-1]>>>0,o=g(o=(o^o>>>30)>>>0,1566083941)>>>0,e[i]=(e[i]>>>0^o)-i>>>0,(i+=1)>=t&&(e[0]=e[t-1],i=1);return e[0]=2147483648,e}function x(e){var t,n;for(227,n=0;n<227;n++)t=e[n]&y|e[n+1]&R,e[n]=e[n+397]^t>>>1^b[1&t];for(623;n<623;n++)t=e[n]&y|e[n+1]&R,e[n]=e[n-227]^t>>>1^b[1&t];return t=e[623]&y|e[0]&R,e[623]=e[396]^t>>>1^b[1&t],e}e.exports=function(e){var t,n,h,m,g,y;if(h={},arguments.length){if(!a(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(s(e,"copy")&&(h.copy=e.copy,!l(e.copy)))throw new TypeError("invalid option. `copy` option must be a boolean. Option: `"+e.copy+"`.");if(s(e,"state")){if(n=e.state,h.state=!0,!u(n))throw new TypeError("invalid option. `state` option must be a Uint32Array. Option: `"+n+"`.");if(y=C(n,!0))throw y;!1===h.copy?t=n:(t=new p(n.length),v(n.length,n,1,t,1)),n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,S),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,n[629])}if(void 0===m)if(s(e,"seed"))if(m=e.seed,h.seed=!0,f(m)){if(m>A)throw new RangeError("invalid option. `seed` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");m>>>=0}else{if(!1===c(m)||m.length<1)throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");if(1===m.length){if(m=m[0],!f(m))throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");if(m>A)throw new RangeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");m>>>=0}else g=m.length,(t=new p(P+g))[0]=1,t[1]=3,t[2]=S,t[627]=1,t[628]=S,t[629]=g,v.ndarray(g,m,1,0,t,1,630),n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,S),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,g),n=k(n=w(n,S,T),S,m,g)}else m=_()>>>0}else m=_()>>>0;return void 0===n&&((t=new p(631))[0]=1,t[1]=3,t[2]=S,t[627]=1,t[628]=S,t[629]=1,t[630]=m,n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,S),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,1),n=w(n,S,m)),r(Z,"NAME","mt19937"),o(Z,"seed",R),o(Z,"seedLength",b),i(Z,"state",H,G),o(Z,"stateLength",M),o(Z,"byteLength",U),r(Z,"toJSON",X),r(Z,"MIN",1),r(Z,"MAX",d),r(Z,"normalized",V),r(V,"NAME",Z.NAME),o(V,"seed",R),o(V,"seedLength",b),i(V,"state",H,G),o(V,"stateLength",M),o(V,"byteLength",U),r(V,"toJSON",X),r(V,"MIN",0),r(V,"MAX",L),Z;function R(){var e=t[629];return v(e,m,1,new p(e),1)}function b(){return t[629]}function M(){return t.length}function U(){return t.byteLength}function H(){var e=t.length;return v(e,t,1,new p(e),1)}function G(e){var r;if(!u(e))throw new TypeError("invalid argument. Must provide a Uint32Array. Value: `"+e+"`.");if(r=C(e,!1))throw r;!1===h.copy?h.state&&e.length===t.length?v(e.length,e,1,t,1):(t=e,h.state=!0):(e.length!==t.length&&(t=new p(e.length)),v(e.length,e,1,t,1)),n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,S),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,t[629])}function X(){var e={type:"PRNG"};return e.name=Z.NAME,e.state=E(t),e.params=[],e}function Z(){var e,r;return(r=t[628])>=S&&(n=x(n),r=0),e=n[r],t[628]=r+1,e^=e>>>11,e^=e<<7&O,e^=e<<15&I,(e^=e>>>18)>>>0}function V(){var e=Z()>>>5,t=Z()>>>6;return(e*D+t)*N}}},52788:function(e,t,n){"use strict";var r=n(55037),o=n(45025);r(o,"factory",n(37471)),e.exports=o},45025:function(e,t,n){"use strict";var r=n(37471)({seed:n(25195)()});e.exports=r},25195:function(e,t,n){"use strict";var r=n(47161),o=n(42339),i=r-1;e.exports=function(){return o(1+i*Math.random())>>>0}},70520:function(e,t,n){"use strict";var r=n(42339);e.exports=function(e,t,n){var o,i,s,a;for(s=e.length,i=new Array(t),a=0;a<t;a++)o=r(s*n()),i[a]=e[o];return i}},69895:function(e,t,n){"use strict";var r=n(55037),o=n(265),i=n(77895),s=n(20842).isPrimitive,a=n(52788).factory,c=n(97623),u=n(70520),l=n(25458),f=n(46128),h=n(20101),d=n(41830),p=n(66715),m=Array.prototype.slice;e.exports=function(){var e,t,n,g,v,E;if(n=c(d),1===arguments.length)o(arguments[0])||i(arguments[0])?t=arguments[0]:v=p(n,e=arguments[0]);else if(arguments.length>1){if(e=arguments[1],!o(t=arguments[0])&&!i(t))throw new TypeError("invalid argument. `pool` argument must be array-like. Value: `"+t+"`.");v=p(n,e)}if(v)throw v;return g=e&&e.seed?a({seed:e.seed}):a(),void 0===t?E=_:(t=s(t)?t.split(""):c(t),E=S),r(E,"seed",g.seed),r(E,"PRNG",g),g=g.normalized,E;function _(e,t){var r,a,c,d,v,E;if(!o(e)&&!i(e))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+e+"`.");if(s(e)&&(e=e.split("")),d={},arguments.length>1&&(E=p(d,t)))throw E;if(r=void 0===d.replace?n.replace:d.replace,void 0!==d.probs&&(c=d.probs),v=d.size?d.size:n.size?n.size:e.length,!1===r&&v>e.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `"+v+"`.");return c?r?h(e,v,g,c):l(e,v,g,c):r?u(e,v,g):(a=m.call(e),f(a,v,g))}function S(e){var r,o,i,s,a,c;if(0===t.length)return null;if(i={},arguments.length&&(a=p(i,e)))throw a;if(o=void 0===i.mutate?n.mutate:i.mutate,r=void 0===i.replace?n.replace:i.replace,s=i.size?i.size:n.size?n.size:t.length,!1===r&&s>t.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `"+s+"`.");return r?u(t,s,g):(c=f(t,s,g),o&&(t=t.slice(s,t.length)),c)}}},46128:function(e,t,n){"use strict";var r=n(42339),o=Array.prototype.slice;e.exports=function(e,t,n){var i,s,a;for(s=e.length-1;s>0;s--)a=r(n()*(s+1)),i=e[s],e[s]=e[a],e[a]=i;return o.call(e,0,t)}},15377:function(e,t,n){"use strict";var r=n(55037),o=n(37971);r(o,"factory",n(69895)),e.exports=o},25458:function(e){"use strict";e.exports=function(e,t,n,r){var o,i,s,a,c,u,l,f;for(a=e.length,o=new Array(a),c=0;c<a;c++)o[c]=r[c];for(s=new Array(t),c=0;c<t;c++){for(f=n(),i=0,u=0;u<a&&!(f<(i+=o[u]));u++);for(l=0;l<a;l++)l!==u&&(o[l]/=1-o[u]);o[u]=0,s[c]=e[u]}return s}},37971:function(e,t,n){"use strict";var r=n(69895)();e.exports=r},66715:function(e,t,n){"use strict";var r=n(38600),o=n(5e3),i=n(12087),s=n(18306).isPrimitive,a=n(16561);e.exports=function(e,t){return a(t)?i(t,"size")&&(e.size=t.size,!r(e.size))?new TypeError("invalid option. `size` option must be a nonnegative integer. Option: `"+e.size+"`."):i(t,"probs")&&(e.probs=t.probs,!o(e.probs))?new TypeError("invalid option. `probs` option must be an array of probabilities that sum to one. Option: `"+e.probs+"`."):i(t,"mutate")&&(e.mutate=t.mutate,!s(e.mutate))?new TypeError("invalid option. `mutate` option must be a boolean primitive. Option: `"+e.mutate+"`."):i(t,"replace")&&(e.replace=t.replace,!s(e.replace))?new TypeError("invalid option. `replace` option must be a boolean primitive. Option: `"+e.replace+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")}},20101:function(e,t,n){"use strict";var r=n(42339);e.exports=function(e,t,n,o){var i,s,a,c,u,l,f,h,d,p;for(a=o.slice(),l=e.length,i=[],s=[],d=0;d<l;d++)a[d]*=l,a[d]<1?i.push(d):s.push(d);for(c=new Array(l),f=new Array(l);0!==i.length&&0!==s.length;)p=i.shift(),h=s.shift(),f[p]=a[p],c[p]=h,a[h]=a[h]+a[p]-1,a[h]<1?i.push(h):s.push(h);for(d=0;d<s.length;d++)f[s[d]]=1;for(d=0;d<i.length;d++)f[i[d]]=1;for(u=new Array(t),d=0;d<t;d++)p=r(l*n()),n()<f[p]?u[d]=e[p]:u[d]=e[c[p]];return u}},7380:function(e,t,n){"use strict";var r=n(49504);e.exports=r},49504:function(e,t,n){"use strict";var r=n(38600).isPrimitive,o=n(52894),i=n(62897),s=n(64947),a=String.fromCharCode;e.exports=function(e){var t,n,c,u,l;if(1===(t=arguments.length)&&o(e))t=(c=arguments[0]).length;else for(c=[],l=0;l<t;l++)c.push(arguments[l]);if(0===t)throw new Error("insufficient input arguments. Must provide either an array of code points or one or more code points as separate arguments.");for(n="",l=0;l<t;l++){if(u=c[l],!r(u))throw new TypeError("invalid argument. Must provide valid code points (nonnegative integers). Value: `"+u+"`.");if(u>i)throw new RangeError("invalid argument. Must provide a valid code point (cannot exceed max). Value: `"+u+"`.");n+=u<=s?a(u):a(55296+((u-=65536)>>10),56320+(1023&u))}return n}},71226:function(e,t,n){"use strict";var r=n(91070);e.exports=r},91070:function(e,t,n){"use strict";var r=n(16910).isPrimitive,o=n(20842).isPrimitive;e.exports=function(e,t,n){var i,s;if(!o(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(!o(t))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+t+"`.");if(arguments.length>2){if(!r(n))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+n+"`.");i=n<0?e.length+n:n}else i=0;if(0===t.length)return!0;if(i<0||i+t.length>e.length)return!1;for(s=0;s<t.length;s++)if(e.charCodeAt(i+s)!==t.charCodeAt(s))return!1;return!0}},86645:function(e,t,n){"use strict";var r=n(52894),o=n(65773),i=n(12087),s=n(13447);e.exports=function(e,t,n){var a,c,u,l,f,h,d,p;if(!r(e))throw new TypeError("invalid argument. First argument must be a collection. Value: `"+e+"`.");if(c={},2===arguments.length)h=t;else{if(u=s(c,t))throw u;h=n}if(!o(h))throw new TypeError("invalid argument. Last argument must be a function. Value: `"+h+"`.");for(a=c.thisArg,f=e.length,l={},p=0;p<f;p++)d=h.call(a,e[p],p),i(l,d)?l[d]+=1:l[d]=1;return l}},48726:function(e,t,n){"use strict";var r=n(86645);e.exports=r},13447:function(e,t,n){"use strict";var r=n(16561),o=n(12087);e.exports=function(e,t){return r(t)?(o(t,"thisArg")&&(e.thisArg=t.thisArg),null):new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")}},49553:function(e,t,n){"use strict";var r=n(78497);e.exports=r},78497:function(e,t,n){"use strict";var r=n(45591);e.exports=function(e,t,n){r(e,t,{configurable:!1,enumerable:!1,get:n})}},48666:function(e,t,n){"use strict";var r=n(21696);e.exports=r},21696:function(e,t,n){"use strict";var r=n(45591);e.exports=function(e,t,n,o){r(e,t,{configurable:!1,enumerable:!1,get:n,set:o})}},31195:function(e,t,n){"use strict";var r=n(65773),o=n(88412),i=n(301).REGEXP,s=o();e.exports=function(e){if(!1===r(e))throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return s?e.name:i.exec(e.toString())[1]}},58619:function(e,t,n){"use strict";var r=n(31195);e.exports=r},5352:function(e){"use strict";e.exports=function(e){return e}},33857:function(e,t,n){"use strict";var r=n(5352);e.exports=r},81193:function(e,t,n){var r;if("function"===typeof fetch&&("undefined"!==typeof n.g&&n.g.fetch?r=n.g.fetch:"undefined"!==typeof window&&window.fetch&&(r=window.fetch)),"undefined"===typeof window||"undefined"===typeof window.document){var o=r||n(99282);o.default&&(o=o.default),t.default=o,e.exports=t.default}},30672:function(e,t,n){var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")(),f=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return l.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,s,a,c,u=0,l=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var n=r,i=o;return r=o=void 0,u=t,s=e.apply(i,n)}function _(e){return u=e,a=setTimeout(A,t),l?E(e):s}function S(e){var n=e-c;return void 0===c||n>=t||n<0||f&&e-u>=i}function A(){var e=p();if(S(e))return T(e);a=setTimeout(A,function(e){var n=t-(e-c);return f?d(n,i-(e-u)):n}(e))}function T(e){return a=void 0,v&&r?E(e):(r=o=void 0,s)}function y(){var e=p(),n=S(e);if(r=arguments,o=this,c=e,n){if(void 0===a)return _(c);if(f)return a=setTimeout(A,t),E(c)}return void 0===a&&(a=setTimeout(A,t)),s}return t=g(t)||0,m(n)&&(l=!!n.leading,i=(f="maxWait"in n)?h(g(n.maxWait)||0,t):i,v="trailing"in n?!!n.trailing:v),y.cancel=function(){void 0!==a&&clearTimeout(a),u=0,r=c=o=a=void 0},y.flush=function(){return void 0===a?s:T(p())},y}},41074:function(e){"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",o=0,i=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(i===a-1||1===s);else if(i!==a-1&&2===s){if(r.length<2||2!==o||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",o=0):o=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),i=a,s=0;continue}}else if(2===r.length||1===r.length){r="",o=0,i=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",o=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),o=a-i-1;i=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var s;i>=0?s=arguments[i]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,o=47===s.charCodeAt(0))}return r=n(r,!o),o?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&o&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var o=arguments[n];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var i=e.length,s=i-o,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,u=s<c?s:c,l=-1,f=0;f<=u;++f){if(f===u){if(c>u){if(47===n.charCodeAt(a+f))return n.slice(a+f+1);if(0===f)return n.slice(a+f)}else s>u&&(47===e.charCodeAt(o+f)?l=f:0===f&&(l=0));break}var h=e.charCodeAt(o+f);if(h!==n.charCodeAt(a+f))break;47===h&&(l=f)}var d="";for(f=o+l+1;f<=i;++f)f!==i&&47!==e.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,o=-1,i=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!i){o=s;break}}else i=!1;return-1===o?r?"/":".":r&&1===o?"//":e.slice(0,o)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,o=0,i=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var u=e.charCodeAt(r);if(47===u){if(!s){o=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(u===n.charCodeAt(a)?-1===--a&&(i=r):(a=-1,i=c))}return o===i?i=c:-1===i&&(i=e.length),e.slice(o,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){o=r+1;break}}else-1===i&&(s=!1,i=r+1);return-1===i?"":e.slice(o,i)},extname:function(e){t(e);for(var n=-1,r=0,o=-1,i=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===o&&(i=!1,o=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!i){r=a+1;break}}return-1===n||-1===o||0===s||1===s&&n===o-1&&n===r+1?"":e.slice(n,o)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,o=e.charCodeAt(0),i=47===o;i?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,u=!0,l=e.length-1,f=0;l>=r;--l)if(47!==(o=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===o?-1===s?s=l:1!==f&&(f=1):-1!==s&&(f=-1);else if(!u){a=l+1;break}return-1===s||-1===c||0===f||1===f&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&i?e.slice(1,c):e.slice(a,c)):(0===a&&i?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},62300:function(e,t,n){"use strict";var r=n(22122),o=n(19756),i=n(41488),s=n(78265),a=n.n(s),c=n(38674),u=["as","className","fluid","bsPrefix"],l=i.forwardRef((function(e,t){var n,s=e.as,l=void 0===s?"div":s,f=e.className,h=e.fluid,d=e.bsPrefix,p=(0,o.Z)(e,u),m=((n={})[d=(0,c.vE)(d,"jumbotron")]=!0,n[d+"-fluid"]=h,n);return i.createElement(l,(0,r.Z)({ref:t},p,{className:a()(f,m)}))}));l.defaultProps={fluid:!1},l.displayName="Jumbotron",t.Z=l},75824:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(41488),o=n(6244);function i(e){var t=e.i18n,n=e.defaultNS,i=e.children,s=(0,r.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,r.createElement)(o.OO.Provider,{value:s},i)}}}]);
//# sourceMappingURL=2308.e225ddeb.chunk.js.map