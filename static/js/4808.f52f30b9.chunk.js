/*! For license information please see 4808.f52f30b9.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[4808],{99046:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return G}});var a=r(41488),s=r(9251),n=r(6610),o=r(5991),l=r(10379),c=r(60446),i=r(910),u=r(25472),d=r(89161),m=r.n(d),p=r(42339),f=r.n(p),h=r(13708),v=r.n(h),b=r(67583),E=r.n(b),g=r(63349),Z=r(96156),N=r(70048),y=r(73109),k=r(23596),x=r(72945),w=r(85840),C=r(73230),P=r(51189),I=r(54949),F=r.n(I),R=r(4135);var M=function(e){(0,l.Z)(r,e);var t=(0,c.Z)(r);function r(e){var a;return(0,n.Z)(this,r),a=t.call(this,e),(0,Z.Z)((0,g.Z)(a),"handleEnroll",(function(){var e=a.props.cohorts[a.state.checked]._id;a.props.addUserToCohort(e,a.props.namespace),a.setState({showModal:!1})})),(0,Z.Z)((0,g.Z)(a),"handleFormClick",(function(e){var t=e.target.checked,r=e.target.dataset.pos;t&&a.setState({checked:Number(r)})})),(0,Z.Z)((0,g.Z)(a),"toggleModal",(function(){a.setState({showModal:!a.state.showModal})})),a.state={showModal:!1,checked:null},a}return(0,o.Z)(r,[{key:"renderOwners",value:function(){for(var e,t,r=[],s=this.props.namespace.owners.filter((function(e){return e.writeAccess})),n=f()(F()(s.length)),o=0;o<s.length;o+=n){for(var l=[],c=0;c<n;c++)l[c]=(e=s[o+c],t=o+c,e?a.createElement(x.Z,{key:"owner-".concat(t),className:"enroll-page-course-teacher"},a.createElement("img",{className:"enroll-page-course-teacher-thumbnail",src:R.ZP+"/thumbnail/"+e.picture,alt:"Lesson Thumbnail"}),a.createElement("span",{className:"enroll-page-course-teacher-info"},a.createElement("span",{className:"enroll-page-courses-teacher-name"},e.name),a.createElement("br",null),a.createElement("span",{className:"enroll-page-course-teacher-email"},a.createElement("a",{href:"mailto:"+e.email},e.email)))):null);r.push(a.createElement(k.Z,{key:"row-".concat(o)},l))}return a.createElement("div",{className:"enroll-page-course-owner-wrapper"},a.createElement(y.Z,{className:"enroll-page-course-owners"},r))}},{key:"renderAvailableCohorts",value:function(){for(var e=[],t=0;t<this.props.cohorts.length;t++){var r=this.props.cohorts[t],s=new Date(r.startDate).toLocaleDateString(),n=new Date(r.endDate).toLocaleDateString(),o=a.createElement(a.Fragment,null,a.createElement("span",null,r.title),a.createElement("span",{className:"enroll-cohort-date"},s," - ",n));e.push(a.createElement(P.Z,{id:t,key:t,"data-pos":t,type:"radio",checked:this.state.checked===t,label:o,name:"radioGroup",onChange:this.handleFormClick}))}return e}},{key:"render",value:function(){var e=this.props.t,t="enroll-page-course-item",r=e("common:enroll");return!1===this.props.enrollable&&(t="enroll-item-deactivated",r=e("already-enrolled")),a.createElement(a.Fragment,null,a.createElement("div",{className:t},a.createElement("h1",null,this.props.namespace.title),a.createElement("div",{className:"enroll-page-course-description"},this.props.namespace.description),this.renderOwners(),a.createElement(N.Z,{size:"sm",className:"enroll-button",disabled:!this.props.enrollable,onClick:this.toggleModal},r)),a.createElement(w.Z,{onHide:this.toggleModal,show:this.state.showModal},a.createElement(w.Z.Header,{closeButton:!0},a.createElement("h1",null,this.props.namespace.title)),a.createElement(w.Z.Body,null,a.createElement("div",{className:"enroll-page-cohort-information"},"(",e("select-cohort"),")"),a.createElement("div",{className:"enroll-page-cohorts-list"},a.createElement(C.Z,null,this.renderAvailableCohorts(this.props.cohorts))),a.createElement(N.Z,{onClick:this.handleEnroll,size:"sm",className:"enroll-button-modal"},e("enroll-in-course")))))}}]),r}(a.Component),T=(0,i.WidthProvider)(i.Responsive),D=function(e){(0,l.Z)(r,e);var t=(0,c.Z)(r);function r(e){var a;return(0,n.Z)(this,r),(a=t.call(this,e)).state={},a}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.fetchCohorts(this.props.user)}},{key:"createLayout",value:function(e){var t=3.72,r=e.map((function(e,r){return{lg:{i:"cell-".concat(r),x:6*r%24,y:f()(r/4)*t,w:6,h:t},md:{i:"cell-".concat(r),x:6*r%18,y:f()(r/3)*t,w:6,h:t},sm:{i:"cell-".concat(r),x:6*r%12,y:f()(r/2)*t,w:6,h:t},xs:{i:"cell-".concat(r),x:6*r%6,y:f()(r/1)*t,w:6,h:t}}}));return r={lg:m()(r,"lg"),md:m()(r,"md"),sm:m()(r,"sm"),xs:m()(r,"xs")}}},{key:"checkEnrollable",value:function(e){for(var t=this.props.user,r=0;r<t.enrolledNamespaces.length;r++)if(t.enrolledNamespaces[r].title===e)return!1;return!0}},{key:"renderCourses",value:function(){var e=this.props.cohorts;if(!e)return null;e=e.filter((function(e){return e.namespace}));for(var t=v()(e,(function(e){return e.namespace.title})),r=E()(t),s=new Array(r.length),n=0;n<r.length;n++){var o=r[n];s[n]=a.createElement("div",{className:"enroll-page-course",key:"cell-".concat(n)},a.createElement(M,{addUserToCohort:this.props.addUserToCohort,enrollable:this.checkEnrollable(o),namespace:t[o][0].namespace,user:this.props.user,cohorts:t[o],t:this.props.t}))}var l=this.createLayout(r);return a.createElement(T,{margin:[20,20],containerPadding:[10,10],layouts:l,breakpoints:{lg:1800,md:1400,sm:900,xs:500},cols:{lg:24,md:18,sm:12,xs:6},isResizable:!1,isDraggable:!1,rowHeight:60},s)}},{key:"render",value:function(){return a.createElement("div",{className:"enroll-page"},a.createElement("img",{className:"enroll-page-background",src:"img/pexels_background.jpeg",alt:""}),a.createElement("div",{className:"enroll-page-content"},this.renderCourses()))}}]),r}(a.Component),S=(0,u.Z)(["enroll_page","common"])(D),L=r(58713);var G=(0,s.$j)((function(e){return{cohorts:e.cohorts,user:e.user}}),(function(e){return{addUserToCohort:(0,L.Yc)(e),fetchCohorts:(0,L.R9)(e)}}))(S)},35264:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var a=r(41488);function s(e){var t,r,s=(t=e,(r=(0,a.useRef)(t)).current=t,r);(0,a.useEffect)((function(){return function(){return s.current()}}),[])}},54949:function(e,t,r){"use strict";var a=r(78108);e.exports=a},78108:function(e){"use strict";var t=Math.sqrt;e.exports=t},72945:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(38674),i=["bsPrefix","className","as"],u=["xl","lg","md","sm","xs"],d=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,d=e.as,m=void 0===d?"div":d,p=(0,s.Z)(e,i),f=(0,c.vE)(r,"col"),h=[],v=[];return u.forEach((function(e){var t,r,a,s=p[e];if(delete p[e],"object"===typeof s&&null!=s){var n=s.span;t=void 0===n||n,r=s.offset,a=s.order}else t=s;var o="xs"!==e?"-"+e:"";t&&h.push(!0===t?""+f+o:""+f+o+"-"+t),null!=a&&v.push("order"+o+"-"+a),null!=r&&v.push("offset"+o+"-"+r)})),h.length||h.push(f),l.createElement(m,(0,a.Z)({},p,{ref:t,className:o().apply(void 0,[n].concat(h,v))}))}));d.displayName="Col",t.Z=d},73109:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(38674),i=["bsPrefix","fluid","as","className"],u=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.fluid,u=e.as,d=void 0===u?"div":u,m=e.className,p=(0,s.Z)(e,i),f=(0,c.vE)(r,"container"),h="string"===typeof n?"-"+n:"-fluid";return l.createElement(d,(0,a.Z)({ref:t},p,{className:o()(m,n?""+f+h:f)}))}));u.displayName="Container",u.defaultProps={fluid:!1},t.Z=u},61422:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(83603),i=r.n(c),u=["as","className","type","tooltip"],d={type:i().string,tooltip:i().bool,as:i().elementType},m=l.forwardRef((function(e,t){var r=e.as,n=void 0===r?"div":r,c=e.className,i=e.type,d=void 0===i?"valid":i,m=e.tooltip,p=void 0!==m&&m,f=(0,s.Z)(e,u);return l.createElement(n,(0,a.Z)({},f,{ref:t,className:o()(c,d+"-"+(p?"tooltip":"feedback"))}))}));m.displayName="Feedback",m.propTypes=d,t.Z=m},51189:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=(r(84910),r(41488)),c=r(61422),i=r(67064),u=r(38674),d=["id","bsPrefix","bsCustomPrefix","className","type","isValid","isInvalid","isStatic","as"],m=l.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,c=e.bsCustomPrefix,m=e.className,p=e.type,f=void 0===p?"checkbox":p,h=e.isValid,v=void 0!==h&&h,b=e.isInvalid,E=void 0!==b&&b,g=e.isStatic,Z=e.as,N=void 0===Z?"input":Z,y=(0,s.Z)(e,d),k=(0,l.useContext)(i.Z),x=k.controlId,w=k.custom?[c,"custom-control-input"]:[n,"form-check-input"],C=w[0],P=w[1];return n=(0,u.vE)(C,P),l.createElement(N,(0,a.Z)({},y,{ref:t,type:f,id:r||x,className:o()(m,n,v&&"is-valid",E&&"is-invalid",g&&"position-static")}))}));m.displayName="FormCheckInput";var p=m,f=["bsPrefix","bsCustomPrefix","className","htmlFor"],h=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.bsCustomPrefix,c=e.className,d=e.htmlFor,m=(0,s.Z)(e,f),p=(0,l.useContext)(i.Z),h=p.controlId,v=p.custom?[n,"custom-control-label"]:[r,"form-check-label"],b=v[0],E=v[1];return r=(0,u.vE)(b,E),l.createElement("label",(0,a.Z)({},m,{ref:t,htmlFor:d||h,className:o()(c,r)}))}));h.displayName="FormCheckLabel";var v=h,b=["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","className","style","title","type","label","children","custom","as"],E=l.forwardRef((function(e,t){var r=e.id,n=e.bsPrefix,d=e.bsCustomPrefix,m=e.inline,f=void 0!==m&&m,h=e.disabled,E=void 0!==h&&h,g=e.isValid,Z=void 0!==g&&g,N=e.isInvalid,y=void 0!==N&&N,k=e.feedbackTooltip,x=void 0!==k&&k,w=e.feedback,C=e.className,P=e.style,I=e.title,F=void 0===I?"":I,R=e.type,M=void 0===R?"checkbox":R,T=e.label,D=e.children,S=e.custom,L=e.as,G=void 0===L?"input":L,V=(0,s.Z)(e,b),_="switch"===M||S,j=_?[d,"custom-control"]:[n,"form-check"],A=j[0],U=j[1];n=(0,u.vE)(A,U);var z=(0,l.useContext)(i.Z).controlId,H=(0,l.useMemo)((function(){return{controlId:r||z,custom:_}}),[z,_,r]),B=_||null!=T&&!1!==T&&!D,O=l.createElement(p,(0,a.Z)({},V,{type:"switch"===M?"checkbox":M,ref:t,isValid:Z,isInvalid:y,isStatic:!B,disabled:E,as:G}));return l.createElement(i.Z.Provider,{value:H},l.createElement("div",{style:P,className:o()(C,n,_&&"custom-"+M,f&&n+"-inline")},D||l.createElement(l.Fragment,null,O,B&&l.createElement(v,{title:F},T),(Z||y)&&l.createElement(c.Z,{type:Z?"valid":"invalid",tooltip:x},w))))}));E.displayName="FormCheck",E.Input=p,E.Label=v;var g=E},67064:function(e,t,r){"use strict";var a=r(41488).createContext({controlId:void 0});t.Z=a},73230:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(67064),i=r(38674),u=["bsPrefix","className","children","controlId","as"],d=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,d=e.children,m=e.controlId,p=e.as,f=void 0===p?"div":p,h=(0,s.Z)(e,u);r=(0,i.vE)(r,"form-group");var v=(0,l.useMemo)((function(){return{controlId:m}}),[m]);return l.createElement(c.Z.Provider,{value:v},l.createElement(f,(0,a.Z)({},h,{ref:t,className:o()(n,r)}),d))}));d.displayName="FormGroup",t.Z=d},23596:function(e,t,r){"use strict";var a=r(22122),s=r(19756),n=r(78265),o=r.n(n),l=r(41488),c=r(38674),i=["bsPrefix","className","noGutters","as"],u=["xl","lg","md","sm","xs"],d=l.forwardRef((function(e,t){var r=e.bsPrefix,n=e.className,d=e.noGutters,m=e.as,p=void 0===m?"div":m,f=(0,s.Z)(e,i),h=(0,c.vE)(r,"row"),v=h+"-cols",b=[];return u.forEach((function(e){var t,r=f[e];delete f[e];var a="xs"!==e?"-"+e:"";null!=(t=null!=r&&"object"===typeof r?r.cols:r)&&b.push(""+v+a+"-"+t)})),l.createElement(p,(0,a.Z)({ref:t},f,{className:o().apply(void 0,[n,h,d&&"no-gutters"].concat(b))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},t.Z=d}}]);
//# sourceMappingURL=4808.f52f30b9.chunk.js.map