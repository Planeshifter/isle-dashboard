{"version":3,"sources":["components/confirm-email/index.js","containers/visible-confirm-email/index.js"],"names":["ConfirmEmail","props","state","message","a","hash","window","location","substring","qs","queryString","parse","token","this","confirmEmail","newMessage","setState","t","className","Card","style","boxShadow","borderRadius","opacity","background","Header","Title","as","Body","data-testid","Footer","textAlign","to","Component","withTranslation","VisibleConfirmEmail","connect","dispatch"],"mappings":"sOA8BMA,G,2DACL,WAAaC,GAAS,IAAD,8BACpB,cAAOA,IAEFC,MAAQ,CACZC,QAAS,kBAJU,E,8EAQrB,kCAAAC,EAAA,6DACOC,EAAOC,OAAOC,SAASF,KAAKG,UAAW,IACvCC,EAAKC,IAAYC,MAAON,GACxBO,EAAQH,EAAE,MAHjB,SAI0BI,KAAKZ,MAAMa,aAAcF,GAJnD,OAIOG,EAJP,OAOCF,KAAKG,SAAS,CACbb,QAASY,IARX,gD,iEAYA,WAAU,IACDE,EAAMJ,KAAKZ,MAAXgB,EACR,OACC,yBAAKC,UAAU,SACd,kBAACC,EAAA,EAAD,CAAMC,MAAO,CAAEC,UAAW,0BAA2BC,aAAc,MAAOC,QAAS,IAAMC,WAAY,2BACpG,kBAACL,EAAA,EAAKM,OAAN,KACC,kBAACN,EAAA,EAAKO,MAAN,CAAYC,GAAG,MAAMV,EAAE,0BAExB,kBAACE,EAAA,EAAKS,KAAN,KACC,uBAAGC,cAAY,WAAYhB,KAAKX,MAAMC,UAEvC,kBAACgB,EAAA,EAAKW,OAAN,CAAaV,MAAO,CAAEI,WAAY,wBAAyBO,UAAW,UACrE,kBAAC,IAAD,CAAMC,GAAG,WAAWf,EAAE,oBACtB,qCACA,kBAAC,IAAD,CAAMe,GAAG,UAAUf,EAAE,wB,GAnCAgB,cAqDZC,cAAiB,CAAE,UAAnBA,CAAiClC,G,QC3ChD,IAAMmC,EAAsBC,aAb5B,WACC,MAAO,MAGR,SAA6BC,GAC5B,MAAO,CACNvB,aAAcA,OAOYsB,CAAgDpC,GAK7DmC,a","file":"static/js/156.9f026c2b.chunk.js","sourcesContent":["/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withTranslation } from 'react-i18next';\nimport Card from 'react-bootstrap/Card';\nimport { Link } from 'react-router-dom';\nimport queryString from 'query-string';\nimport 'css/login.css';\n\n\n// MAIN //\n\nclass ConfirmEmail extends Component {\n\tconstructor( props ) {\n\t\tsuper( props );\n\n\t\tthis.state = {\n\t\t\tmessage: 'common:waiting'\n\t\t};\n\t}\n\n\tasync componentDidMount() {\n\t\tconst hash = window.location.hash.substring( 16 );\n\t\tconst qs = queryString.parse( hash );\n\t\tconst token = qs[ 'token' ];\n\t\tconst newMessage = await this.props.confirmEmail( token );\n\n\t\t// eslint-disable-next-line react/no-did-mount-set-state\n\t\tthis.setState({\n\t\t\tmessage: newMessage\n\t\t});\n\t}\n\n\trender() {\n\t\tconst { t } = this.props;\n\t\treturn (\n\t\t\t<div className=\"login\">\n\t\t\t\t<Card style={{ boxShadow: '0 0 8px rgba(0,0,0,0.3)', borderRadius: '6px', opacity: 0.98, background: 'rgba(255,255,255,0.75)' }}>\n\t\t\t\t\t<Card.Header>\n\t\t\t\t\t\t<Card.Title as=\"h3\">{t('common:confirm-email')}</Card.Title>\n\t\t\t\t\t</Card.Header>\n\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t<p data-testid=\"message\" >{this.state.message}</p>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t\t<Card.Footer style={{ background: 'rgba(255,255,255,0.6)', textAlign: 'right' }}>\n\t\t\t\t\t\t<Link to=\"/signup\">{t('common:register')}</Link>\n\t\t\t\t\t\t<span> | </span>\n\t\t\t\t\t\t<Link to=\"/login\">{t('common:login')}</Link>\n\t\t\t\t\t</Card.Footer>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n\n// PROPERTIES //\n\nConfirmEmail.propTypes = {\n\tconfirmEmail: PropTypes.func.isRequired\n};\n\n\n// EXPORTS //\n\nexport default withTranslation( [ 'common' ] )( ConfirmEmail );\n","/**\n* Copyright (C) 2016-present The ISLE Authors\n*\n* The isle-dashboard program is free software: you can redistribute it and/or modify\n* it under the terms of the GNU Affero General Public License as\n* published by the Free Software Foundation, either version 3 of the\n* License, or (at your option) any later version.\n*\n* This program is distributed in the hope that it will be useful,\n* but WITHOUT ANY WARRANTY; without even the implied warranty of\n* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n* GNU Affero General Public License for more details.\n*\n* You should have received a copy of the GNU Affero General Public License\n* along with this program.  If not, see <https://www.gnu.org/licenses/>.\n*/\n\n// MODULES //\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport ConfirmEmail from 'components/confirm-email';\nimport { confirmEmail } from 'actions/user';\n\n\n// FUNCTIONS //\n\nfunction mapStateToProps() {\n\treturn {};\n}\n\nfunction mapDispatchToProps( dispatch ) {\n\treturn {\n\t\tconfirmEmail: confirmEmail\n\t};\n}\n\n\n// MAIN //\n\nconst VisibleConfirmEmail = connect( mapStateToProps, mapDispatchToProps )( ConfirmEmail );\n\n\n// EXPORTS //\n\nexport default VisibleConfirmEmail;\n"],"sourceRoot":""}