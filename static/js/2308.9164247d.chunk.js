/*! For license information please see 2308.9164247d.chunk.js.LICENSE.txt */
(self.webpackChunkisle_dashboard=self.webpackChunkisle_dashboard||[]).push([[2308],{11965:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(82961);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}},98733:function(e){"use strict";e.exports=JSON.parse('["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"]')},41830:function(e){"use strict";e.exports=JSON.parse('{"mutate":false,"replace":true}')},40217:function(e,t,n){"use strict";var r=(0,n(65221).Z)((function(){return Promise.all([n.e(5840),n.e(2787),n.e(4972),n.e(2488),n.e(9527),n.e(6399),n.e(4669)]).then(n.bind(n,26399))}));t.Z=r},65221:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(41488),i=n(19756),s=n(22122),o=n(63349),a=n(41788),u=n(45259),c=n(49988),l=n.n(c);function f(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}var h=r.createContext();var d={initialChunks:{}},p="PENDING",m="REJECTED";var g=function(e){return e};function v(e){var t=e.defaultResolveComponent,n=void 0===t?g:t,c=e.render,v=e.onLoad;function E(e,t){void 0===t&&(t={});var g=function(e){return"function"===typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),E={};function _(e){return t.cacheKey?t.cacheKey(e):g.resolve?g.resolve(e):"static"}function A(e,r,i){var s=t.resolveComponent?t.resolveComponent(e,r):n(e);if(t.resolveComponent&&!(0,u.isValidElementType)(s))throw new Error("resolveComponent returned something that is not a React component!");return l()(i,s,{preload:!0}),s}var S,T,R=function(e){function n(n){var r;return(r=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:_(n)},f(!n.__chunkExtractor||g.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(g.requireAsync(n).catch((function(){return null})),r.loadSync(),n.__chunkExtractor.addChunk(g.chunkName(n))),(0,o.Z)(r)):(!1!==t.ssr&&(g.isReady&&g.isReady(n)||g.chunkName&&d.initialChunks[g.chunkName(n)])&&r.loadSync(),r)}(0,a.Z)(n,e),n.getDerivedStateFromProps=function(e,t){var n=_(e);return(0,s.Z)({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===m&&this.setCache(),this.state.loading&&this.loadAsync()},r.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},r.componentWillUnmount=function(){this.mounted=!1},r.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},r.getCacheKey=function(){return _(this.props)},r.getCache=function(){return E[this.getCacheKey()]},r.setCache=function(e){void 0===e&&(e=void 0),E[this.getCacheKey()]=e},r.triggerOnLoad=function(){var e=this;v&&setTimeout((function(){v(e.state.result,e.props)}))},r.loadSync=function(){if(this.state.loading)try{var e=A(g.requireSync(this.props),this.props,O);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:g.resolve(this.props),chunkName:g.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},r.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=A(t,e.props,{Loadable:O});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},r.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,(0,i.Z)(t,["__chunkExtractor","forwardedRef"])),r=this.getCache();return r||((r=g.requireAsync(n)).status=p,this.setCache(r),r.then((function(){r.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:g.resolve(e.props),chunkName:g.chunkName(e.props),error:t?t.message:t}),r.status=m}))),r},r.render=function(){var e=this.props,n=e.forwardedRef,r=e.fallback,o=(e.__chunkExtractor,(0,i.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,u=a.error,l=a.loading,f=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===p)throw this.loadAsync();if(u)throw u;var h=r||t.fallback||null;return l?h:c({fallback:h,result:f,options:t,props:(0,s.Z)({},o,{ref:n})})},n}(r.Component),y=(T=function(e){return r.createElement(h.Consumer,null,(function(t){return r.createElement(S,Object.assign({__chunkExtractor:t},e))}))},(S=R).displayName&&(T.displayName=S.displayName+"WithChunkExtractor"),T),O=r.forwardRef((function(e,t){return r.createElement(y,Object.assign({forwardedRef:t},e))}));return O.displayName="Loadable",O.preload=function(e){g.requireAsync(e)},O.load=function(e){return g.requireAsync(e)},O}return{loadable:E,lazy:function(e,t){return E(e,(0,s.Z)({},t,{suspense:!0}))}}}var E=v({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return r.createElement(t,n)}}),_=E.loadable,A=E.lazy,S=v({onLoad:function(e,t){e&&t.forwardedRef&&("function"===typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),T=S.loadable,R=S.lazy;var y=_;y.lib=T,A.lib=R;var O=y,I=n(34699),N=function(){var e=(0,r.useState)(!1),t=(0,I.Z)(e,2),n=t[0],i=t[1];return(0,r.useEffect)((function(){var e=setTimeout((function(){return i(!0)}),200);return function(){clearTimeout(e)}})),n?r.createElement("span",{className:"isle-loadable sk-cube-grid"},r.createElement("span",{className:"sk-cube sk-cube1"}),r.createElement("span",{className:"sk-cube sk-cube2"}),r.createElement("span",{className:"sk-cube sk-cube3"}),r.createElement("span",{className:"sk-cube sk-cube4"}),r.createElement("span",{className:"sk-cube sk-cube5"}),r.createElement("span",{className:"sk-cube sk-cube6"}),r.createElement("span",{className:"sk-cube sk-cube7"}),r.createElement("span",{className:"sk-cube sk-cube8"}),r.createElement("span",{className:"sk-cube sk-cube9"})):null};var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0===t.fallback&&(t.fallback=r.createElement(N,null));var n=O(e,t);return n}},10724:function(e,t,n){"use strict";n.d(t,{CN:function(){return r},Uc:function(){return i},Di:function(){return s},mk:function(){return o},lJ:function(){return a},lS:function(){return u},Fk:function(){return c},Ud:function(){return l},NM:function(){return f},iT:function(){return h},e5:function(){return d},PW:function(){return p},uA:function(){return m},hf:function(){return g},uD:function(){return v},FD:function(){return E},Cz:function(){return _},WI:function(){return A},Jk:function(){return S},ZA:function(){return T},Wk:function(){return R},mi:function(){return y},lG:function(){return O},uZ:function(){return I},Pj:function(){return N},oZ:function(){return b},qn:function(){return D},$W:function(){return L},QV:function(){return P},V3:function(){return C},zH:function(){return w},m_:function(){return k},Uu:function(){return M},bb:function(){return x},mM:function(){return U},Gp:function(){return H},AC:function(){return G},rC:function(){return X},hs:function(){return Z},OZ:function(){return V},uh:function(){return j},Fo:function(){return F},Ch:function(){return B},IO:function(){return q},VP:function(){return z},n_:function(){return K},Ej:function(){return Y},NF:function(){return J},go:function(){return Q},$o:function(){return W},P$:function(){return $},e3:function(){return ee},dU:function(){return te},CS:function(){return ne},Dp:function(){return re},gx:function(){return ie},Jz:function(){return se},W:function(){return oe},U0:function(){return ae},D_:function(){return ue},x6:function(){return ce},hF:function(){return le},_f:function(){return fe},$X:function(){return he},x$:function(){return de}});var r="DASHBOARD_CLICK_GENERATE",i="TABLE_FILTER",s="TABLE_RESET",o="TABLE_SORT",a="LESSON_CONNECTED",u="DATA_EXPLORER_CONTINGENCY_TABLE",c="DATA_EXPLORER_FREQUENCY_TABLE",l="DATA_EXPLORER_SUMMARY_STATISTICS",f="DATA_EXPLORER_HISTOGRAM",h="DATA_EXPLORER_BARCHART",d="DATA_EXPLORER_BOXPLOT",p="DATA_EXPLORER_CONTOURPLOT",m="DATA_EXPLORER_HEATMAP",g="DATA_EXPLORER_LINEPLOT",v="DATA_EXPLORER_MAP",E="DATA_EXPLORER_MOSAIC",_="DATA_EXPLORER_PIECHART",A="DATA_EXPLORER_QQPLOT",S="DATA_EXPLORER_SCATTERPLOT",T="DATA_EXPLORER_SPLOM",R="DATA_EXPLORER_VIOLINPLOT",y="DATA_EXPLORER_TESTS_ANOVA",O="DATA_EXPLORER_TESTS_CHISQUARE",I="DATA_EXPLORER_TESTS_CORRTEST",N="DATA_EXPLORER_TESTS_KRUSKAL",b="DATA_EXPLORER_TESTS_PROPTEST",D="DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST",L="DATA_EXPLORER_TESTS_TWO_SAMPLE_MEAN",P="DATA_EXPLORER_TESTS_MEAN",C="DATA_EXPLORER_SHARE_HISTOGRAM",w="DATA_EXPLORER_SHARE_BARCHART",k="DATA_EXPLORER_SHARE_BOXPLOT",M="DATA_EXPLORER_SHARE_CONTOURPLOT",x="DATA_EXPLORER_SHARE_HEATMAP",U="DATA_EXPLORER_SHARE_LINEPLOT",H="DATA_EXPLORER_SHARE_MAP",G="DATA_EXPLORER_SHARE_MOSAIC",X="DATA_EXPLORER_SHARE_PIECHART",Z="DATA_EXPLORER_SHARE_QQPLOT",V="DATA_EXPLORER_SHARE_SCATTERPLOT",j="DATA_EXPLORER_SHARE_SPLOM",F="DATA_EXPLORER_SHARE_VIOLINPLOT",B="DATA_EXPLORER_DECISION_TREE",q="DATA_EXPLORER_HIERARCHICAL_CLUSTERING",z="DATA_EXPLORER_LASSO_REGRESSION",K="DATA_EXPLORER_LINEAR_REGRESSION",Y="DATA_EXPLORER_MULTIPLE_REGRESSION",J="DATA_EXPLORER_MULTIPLE_REGRESSION",Q="DATA_EXPLORER_NAIVE_BAYES",W="DATA_EXPLORER_PCA",$="DATA_EXPLORER_RANDOM_FOREST",ee="DATA_EXPLORER_KMEANS",te="DATA_EXPLORER_BIN_TRANSFORMER",ne="DATA_EXPLORER_CAT_TRANSFORMER",re="DATA_EXPLORER_GROUP_TRANSFORMER",ie="DATA_EXPLORER_VARIABLE_TRANSFORMER",se="DATA_EXPLORER_DELETE_VARIABLE",oe="EDITOR_SUBMIT",ae="PAGES_FIRST_PAGE",ue="PAGES_NEXT_PAGE",ce="PAGES_PREVIOUS_PAGE",le="PAGES_LAST_PAGE",fe="PAGES_JUMP_PAGE",he="PLOT_UPDATE",de="TOGGLE_PRESENTATION_MODE"},65695:function(e,t,n){"use strict";n.d(t,{LL:function(){return r},em:function(){return i},QG:function(){return s},EG:function(){return o},q$:function(){return a},SC:function(){return u},gz:function(){return c},sS:function(){return l},qG:function(){return f},Fw:function(){return h},E7:function(){return d},NH:function(){return p},Wh:function(){return m},xG:function(){return g},Jz:function(){return v},ug:function(){return E},PY:function(){return _},O4:function(){return A},lf:function(){return S},KI:function(){return T},Kd:function(){return R},YQ:function(){return y},_Z:function(){return O},u:function(){return I},Hl:function(){return N},$L:function(){return b},c_:function(){return D},JV:function(){return L},TY:function(){return P},Gq:function(){return C},tf:function(){return w},Zh:function(){return k},t0:function(){return M},OG:function(){return x},WQ:function(){return U},Ys:function(){return H},p0:function(){return G},At:function(){return X},vu:function(){return Z},Ny:function(){return V},q:function(){return j},lK:function(){return F},cK:function(){return B},WF:function(){return q},vB:function(){return z}});var r="CHAT_MESSAGE",i="CHAT_STATISTICS",s="CONNECTED_TO_SERVER",o="OWN_CHAT_MESSAGE",a="COLLABORATIVE_EDITING_EVENTS",u="DISCONNECTED_FROM_SERVER",c="FOCUS_ELEMENT",l="LOSE_FOCUS_ELEMENT",f="JOINED_COLLABORATIVE_EDITING",h="LOGGED_IN",d="LOGGED_OUT",p="MARK_MESSAGES",m="MEMBER_ACTION",g="MEMBER_HAS_JOINED_CHAT",v="MEMBER_HAS_LEFT_CHAT",E="POLLED_COLLABORATIVE_EDITING_EVENTS",_="RECEIVED_CHAT_HISTORY",A="RECEIVED_JITSI_TOKEN",S="RECEIVED_USERS",T="RECEIVED_LESSON_INFO",R="RECEIVED_QUEUE_QUESTIONS",y="RECEIVED_USER_RIGHTS",O="REMOVED_CHAT",I="RETRIEVED_CURRENT_USER_ACTIONS",N="RETRIEVED_USER_ACTIONS",b="RETRIEVED_COHORTS",D="SELECTED_COHORT",L="SELF_HAS_JOINED_CHAT",P="SELF_HAS_LEFT_CHAT",C="SELF_INITIAL_PROGRESS",w="SELF_UPDATED_PROGRESS",k="SELF_UPDATED_SCORE",M="SENT_COLLABORATIVE_EDITING_EVENTS",x="SERVER_IS_LIVE",U="STICKY_NOTES_UPDATED",H="TEXT_EDITOR_DOCUMENTS_UPDATED",G="USER_FINALLY_REMOVED",X="USER_JOINED",Z="USER_LEFT",V="USER_PROGRESS",j="VIDEO_CHAT_STARTED",F="VIDEO_CHAT_ENDED",B="VOICE_RECORDING_STATUS",q="CREATED_GROUPS",z="DELETED_GROUPS"},45906:function(e,t,n){"use strict";n.d(t,{a:function(){return O}});var r=n(66438),i=n(71294);function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=[],a=o.forEach,u=o.slice;function c(e){return a.call(u.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function l(){return"function"===typeof XMLHttpRequest||"object"===("undefined"===typeof XMLHttpRequest?"undefined":s(XMLHttpRequest))}var f,h,d,p=n(81193),m=n.t(p,2);function g(e){return(g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}"function"===typeof fetch&&("undefined"!==typeof global&&global.fetch?f=global.fetch:"undefined"!==typeof window&&window.fetch&&(f=window.fetch)),l&&("undefined"!==typeof global&&global.XMLHttpRequest?h=global.XMLHttpRequest:"undefined"!==typeof window&&window.XMLHttpRequest&&(h=window.XMLHttpRequest)),"function"===typeof ActiveXObject&&("undefined"!==typeof global&&global.ActiveXObject?d=global.ActiveXObject:"undefined"!==typeof window&&window.ActiveXObject&&(d=window.ActiveXObject)),f||!m||h||d||(f=p||m),"function"!==typeof f&&(f=void 0);var v=function(e,t){if(t&&"object"===g(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e},E=function(e,t,n,r){return"function"===typeof n&&(r=n,n=void 0),r=r||function(){},f?function(e,t,n,r){e.queryStringParams&&(t=v(t,e.queryStringParams));var i=c({},"function"===typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json"),f(t,c({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},"function"===typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then((function(t){r(null,{status:e.status,data:t})})).catch(r)})).catch(r)}(e,t,n,r):l||"function"===typeof ActiveXObject?function(e,t,n,r){n&&"object"===g(n)&&(n=v("",n).slice(1)),e.queryStringParams&&(t=v(t,e.queryStringParams));try{var i;(i=h?new h:new d("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var s=e.customHeaders;if(s="function"===typeof s?s():s)for(var o in s)i.setRequestHeader(o,s[o]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(a){console&&console.log(a)}}(e,t,n,r):void 0};function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:E,reloadInterval:"undefined"===typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},T=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,(n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=c(n,this.options||{},S()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){var r=this.options.loadPath;"function"===typeof this.options.loadPath&&(r=this.options.loadPath(e,t));var i=this.services.interpolator.interpolate(r,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(i,n,e,t)}},{key:"read",value:function(e,t,n){var r=this.options.loadPath;"function"===typeof this.options.loadPath&&(r=this.options.loadPath([e],[t]));var i=this.services.interpolator.interpolate(r,{lng:e,ns:t});this.loadUrl(i,n,e,t)}},{key:"loadUrl",value:function(e,t,n,r){var i=this;this.options.request(this.options,e,void 0,(function(s,o){if(o&&(o.status>=500&&o.status<600||!o.status))return t("failed loading "+e+"; status code: "+o.status,!0);if(o&&o.status>=400&&o.status<500)return t("failed loading "+e+"; status code: "+o.status,!1);if(!o&&s&&s.message&&s.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+s.message,!0);if(s)return t(s,!1);var a,u;try{a="string"===typeof o.data?i.options.parse(o.data,n,r):o.data}catch(c){u="failed parsing "+e+" to json"}if(u)return t(u,!1);t(null,a)}))}},{key:"create",value:function(e,t,n,r,i){var s=this;if(this.options.addPath){"string"===typeof e&&(e=[e]);var o=this.options.parsePayload(t,n,r),a=0,u=[],c=[];e.forEach((function(n){var r=s.options.addPath;"function"===typeof s.options.addPath&&(r=s.options.addPath(n,t));var l=s.services.interpolator.interpolate(r,{lng:n,ns:t});s.options.request(s.options,l,o,(function(t,n){a+=1,u.push(t),c.push(n),a===e.length&&i&&i(u,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,s=n.language;if(!s||"cimode"!==s.toLowerCase()){var o=[],a=function(e){r.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};a(s),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return a(e)})),o.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,s){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&s&&i.log("loaded namespace ".concat(e," for language ").concat(t),s),n.loaded("".concat(t,"|").concat(e),r,s)}))}))}))}}}])&&A(t.prototype,n),r&&A(t,r),e}();T.type="backend";var R=T,y="undefined"!==typeof window&&window,O=r.Z.createInstance();O.use(i.Z).use(R).init({debug:!!{NODE_ENV:"production"}.DEBUG_I18N,lng:y.localStorage&&y.localStorage.getItem("i18nextLng")||"en",fallbackLng:"en",ns:["general"],defaultNS:"general",backend:{loadPath:"https://cdn.jsdelivr.net/npm/@isle-project/locales@0.2.76/components/{{ns}}/{{lng}}.json"},react:{bindI18n:"languageChanged",useSuspense:!1},interpolation:{escapeValue:!1}})},87651:function(e,t,n){"use strict";var r=n(41488).createContext();t.Z=r},13215:function(e,t,n){"use strict";n.d(t,{Z:function(){return Ze}});var r=n(28991),i=n(34699),s=n(11965),o=n(6610),a=n(5991),u=n(96156),c=n(67403),l=n(10077),f=n.n(l),h=n(86072),d=n.n(h),p=n(63833),m=n.n(p),g=n(41074),v=n.p+"static/media/wrapper.e351c591.mjs",E=n(30672),_=n.n(E),A=n(33837),S=n.n(A),T=n(20842),R=n(71226),y=n.n(R),O=n(65773),I=n.n(O),N=n(98718),b=n.n(N),D=n(70954),L=n.n(D),P=n(90485),C=n.n(P),w=n(12087),k=n.n(w),M=n(48726),x=n.n(M),U=n(33857),H=n.n(U),G=n(79693),X=n.n(G),Z=n(15377),V=n.n(Z),j=n(2183),F=n(82948);var B=function(e,t){for(var n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.members.length;i++)if(r.members[i].email===t.email)return r;return null};var q=function(e){return e.returnValue="o/","o/"},z=n(15272),K=n(100),Y=n.n(K),J=n(18484),Q=n.n(J),W=n(86890),$=n.n(W),ee=n(37691),te=n.n(ee),ne=function(e,t){t=Object.assign({pascalCase:!1},t);var n=function(e){return t.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e};return 0===(e=Array.isArray(e)?e.map((function(e){return e.trim()})).filter((function(e){return e.length})).join("-"):e.trim()).length?"":1===e.length?t.pascalCase?e.toUpperCase():e.toLowerCase():/^[a-z\d]+$/.test(e)?n(e):(e!==e.toLowerCase()&&(e=function(e){for(var t=!1,n=!1,r=!1,i=0;i<e.length;i++){var s=e[i];t&&/[a-zA-Z]/.test(s)&&s.toUpperCase()===s?(e=e.slice(0,i)+"-"+e.slice(i),t=!1,r=n,n=!0,i++):n&&r&&/[a-zA-Z]/.test(s)&&s.toLowerCase()===s?(e=e.slice(0,i-1)+"-"+e.slice(i-1),r=n,n=!1,t=!0):(t=s.toLowerCase()===s,r=n,n=s.toUpperCase()===s)}return e}(e)),n(e=e.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))))},re=/light /,ie=/dark /,se=/ viewport*/,oe=/number */g,ae=/ pixels*/,ue=/select (?:the|or|a|) ?([\S]*)/i,ce=/CSS (?:set|change|modify|alter) (?:the|a)? ?([\s\S]*) to ([\s\S]*)/i,le=f()("isle-editor:speech-interface");function fe(e,t){for(var n=0;n<t.commands.length;n++){var r=t.commands[n],i=r.trigger;if(!0===L()(i)){for(var s=0;s<i.length;s++)if(-1!==e.search(i[s]))return he(t.reference,r,e)}else if(-1!==e.search(i))return he(t.reference,r,e)}return!1}function he(e,t,n){return le("Executing ".concat(t.command," command with input: ")+n),t.regexp?L()(t.regexp)?function(e,t,n){for(var r=0;r<t.regexp.length;r++){var i=t.regexp[r];Y()(i)&&(i=Q()(i),t.regexp[r]=i);var s=n.match(i);if(s){var o=[];if(t.params)for(var a=0;a<t.params.length;a++)o.push(s.groups[t.params[a]]);else for(var u=1;u<s.length;u++)o.push(s[u]);return e[t.command].apply(e,o),!0}}return!1}(e,t,n):function(e,t,n){Y()(t.regexp)&&(t.regexp=Q()(t.regexp));var r=n.match(t.regexp);if(r){var i=[];if(t.params)for(var s=0;s<t.params.length;s++)i.push(r.groups[t.params[s]]);else for(var o=1;o<r.length;o++)i.push(r[o]);return e[t.command].apply(e,i),!0}return!1}(e,t,n):(e[t.command](),!0)}var de=function(){function e(){var t=this;(0,o.Z)(this,e),(0,u.Z)(this,"sendNotUnderstoodMsg",(function(){var e=new SpeechSynthesisUtterance("Sorry, I didn't get that.");e.lang="en-US",window.speechSynthesis.speak(e)})),(0,u.Z)(this,"setActive",(function(e,n){var r=!1;if(le("Trying to set component with the following ID as active: "+e),e)for(var i=0;i<t.components.length;i++){var s=t.components[i];le("Current iteration: "+s.name),s.control.setInactive(),s.name===e&&(le("Found match..."),r=!0,t.active=s,s.control.setActive())}if(n){var o;o=r?"Component selected.":"Sorry, I couldn't find a component with the identifier "+e;var a=new SpeechSynthesisUtterance(o);a.lang="en-US",a.onend=n,window.speechSynthesis.speak(a)}})),this.components=[],this.active=null}return(0,a.Z)(e,[{key:"resetStyle",value:function(){le("Resetting the styling of the active element: "+JSON.stringify(this.active.originalStyle));var e=z.findDOMNode(this.active.reference);if(e)for(var t in this.active.originalStyle)k()(this.active.originalStyle,t)&&(e.style[t]=this.active.originalStyle[t])}},{key:"updateStyle",value:function(e){function t(e){return le("Set RGB..."),e=(e=e.replace("rgba","rgba(")).replace("RGB","rgb("),e+=")"}var n=e.match(ce);if(n&&n[1]&&n[2]){var r=n[1],i=n[2];"in a text"===r&&(r="inner text"),"inner Html"===r&&(r="inner HTML"),"colour"===(r=ne(r))&&(r="color"),"color"!==r&&"background"!==r||(-1!==(i=(i=i.replace(ie,"dark")).replace(re,"light")).search("RGB")&&(i=t(i)),-1!==i.search("rgba")&&(i=t(i))),"with"===r&&(r="width"),"textDecoration"===r&&"line through"===i&&(i="line-through"),"textShadow"!==r&&"boxShadow"!==r||(i=function(e){le("Setting shadow..."),e=(e=e.replace(oe,"")).split(" ");for(var t="",n=0;n<e.length;n++){var r=e[n];"four"!==r&&"for"!==r||(r=4),"one"===r&&(r=1),n<3&&(r+="px "),t+=r}return t}(i)),"textAlign"===r&&"Centre"===i&&(i="center"),i=(i=i.replace(ae,"px")).replace(se,"vw");var s=z.findDOMNode(this.active.reference);this.active.originalStyle||(this.active.originalStyle={}),s&&(le("Setting "+r+" to "+i),this.active.originalStyle[r]=s.style[r],s.style[r]=i),this.active.originalStyle||(this.active.originalStyle={}),"small caps"===i&&(i="small-caps")}else this.sendNotUnderstoodMsg()}},{key:"check",value:function(e,t){for(var n=t.onStart,r=void 0===n?te():n,i=t.onEnd,s=void 0===i?te():i,o=0;o<e.length;o++){var a=e[o];if(le("Checking text: `"+a+"`"),this.active?le("Active component is: "+this.active.name):le("No active component..."),S()(a,"select")){le("Received a selection command: "+a);var u=a.match(ue);if(u){r();var c=u[1];return this.setActive(c,s)}}if(this.active){if(fe(a,this.active))return;if(ce.test(a))return le("Found style setting command..."),this.updateStyle(a);if(S()(a,"reset"))return this.resetStyle()}for(var l=0;l<this.components.length;l++){var f=this.components[l],h=f.name;if(-1!==a.search(h))if(le("Checking triggers for "+h+" component..."),fe(a,f))return}}}},{key:"register",value:function(e){le("Register component: "+e.name),$()(e)&&e.name&&$()(e.reference)&&this.components.push(e)}}]),e}(),pe="/ocpu/library/base/R/identity/identity-d",me=n(10724),ge=n(65695),ve={CALCULATOR_SOLVE:4,DASHBOARD_CLICK_GENERATE:4,TABLE_FILTER:2,TABLE_RESET:2,TABLE_SORT:2,USER_FEEDBACK_CONFUSED:5,USER_FEEDBACK_UNDERSTOOD:5,USER_FEEDBACK_FORM:10,FREE_TEXT_QUESTION_SUBMIT_ANSWER:20,FREE_TEXT_QUESTION_DISPLAY_SOLUTION:5,FREE_TEXT_QUESTION_OPEN_HINT:-2,TEXT_SURVEY_SUBMISSION:4,JSSHELL_DISPLAY_SOLUTION:4,JSSHELL_EVALUATION:4,JSSHELL_OPEN_HINT:-2,LESSON_SUBMIT:20,LIKERT_SCALE_SUBMISSION:2,DATA_EXPLORER_CONTINGENCY_TABLE:4,DATA_EXPLORER_FREQUENCY_TABLE:4,DATA_EXPLORER_SUMMARY_STATISTICS:4,DATA_EXPLORER_HISTOGRAM:4,DATA_EXPLORER_BARCHART:4,DATA_EXPLORER_BOXPLOT:4,DATA_EXPLORER_CONTOURPLOT:4,DATA_EXPLORER_HEATMAP:4,DATA_EXPLORER_MOSAIC:4,DATA_EXPLORER_PIECHART:4,DATA_EXPLORER_SCATTERPLOT:4,DATA_EXPLORER_VIOLINPLOT:4,DATA_EXPLORER_TESTS_ANOVA:4,DATA_EXPLORER_TESTS_CHISQUARE:4,DATA_EXPLORER_TESTS_CORRTEST:4,DATA_EXPLORER_TESTS_PROPTEST:4,DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST:4,DATA_EXPLORER_TESTS_TWO_SAMPLE_ZTEST:4,DATA_EXPLORER_TESTS_ZTEST:4,DATA_EXPLORER_SHARE_HISTOGRAM:2,DATA_EXPLORER_SHARE_BARCHART:2,DATA_EXPLORER_SHARE_BOXPLOT:2,DATA_EXPLORER_SHARE_CONTOURPLOT:2,DATA_EXPLORER_SHARE_HEATMAP:2,DATA_EXPLORER_SHARE_MOSAIC:2,DATA_EXPLORER_SHARE_PIECHART:2,DATA_EXPLORER_SHARE_SCATTERPLOT:2,DATA_EXPLORER_SHARE_VIOLINPLOT:2,DATA_EXPLORER_LINEAR_REGRESSION:4,DATA_EXPLORER_VARIABLE_TRANSFORMER:8,INSERT_STICKY_NOTE:5,EDITOR_SUBMIT:100,EDITOR_PEER_REPORT:50,EDITOR_PEER_COMMENTS:50,PLOT_DRAGGED:8,MATCH_LIST_SUBMISSION:20,MATCH_LIST_TOGGLE_SOLUTION:5,MATCH_LIST_OPEN_HINT:-2,MULTIPLE_CHOICE_MATRIX_SUBMISSION:40,MULTIPLE_CHOICE_OPEN_HINT:-2,MULTIPLE_CHOICE_SUBMISSION:20,MULTIPLE_CHOICE_SURVEY_SUBMISSION:20,NUMBER_QUESTION_SUBMISSION:20,NUMBER_QUESTION_OPEN_HINT:-2,NUMBER_SURVEY_SUBMISSION:20,ORDER_QUESTION_OPEN_HINT:-2,ORDER_QUESTION_SUBMISSION:20,PAGES_FIRST_PAGE:2,PAGES_NEXT_PAGE:2,PAGES_PREVIOUS_PAGE:2,PAGES_LAST_PAGE:2,PAGES_JUMP_PAGE:2,SKETCHPAD_FIRST_PAGE:2,SKETCHPAD_NEXT_PAGE:2,SKETCHPAD_PREVIOUS_PAGE:2,SKETCHPAD_LAST_PAGE:2,SKETCHPAD_GOTO_PAGE:2,SKETCHPAD_INIT_PAGES:2,SKETCHPAD_HIDE_POINTER:2,SKETCHPAD_HIDE_ZOOM:2,SKETCHPAD_REPLAY:2,SKETCHPAD_CLEAR_PAGE:2,SKETCHPAD_CLEAR_ALL_PAGES:2,SKETCHPAD_DRAW_CURVE:2,SKETCHPAD_DRAW_TEXT:2,SKETCHPAD_DRAG_ELEMENT:2,SKETCHPAD_INSERT_PAGE:2,SKETCHPAD_DELETE_ELEMENT:2,STICKY_NOTE_MOVE:0,STICKY_NOTE_TITLE:0,STICKY_NOTE_BODY:0,STICKY_NOTE_DELETE:0,PLOT_UPDATE:5,PROPORTIONS_SURVEY_SUBMISSION:20,SEND_QUEUE_SIZE:4,ENTER_QUEUE:8,LEFT_QUEUE:4,QUESTION_CONFIDENCE:5,RSHELL_DISPLAY_SOLUTION:8,RSHELL_EVALUATION:5,RSHELL_OPEN_HINT:-2,RANGE_QUESTION_SUBMIT_ANSWER:20,RANGE_QUESTION_OPEN_HINT:-2,RESPONSE_VISUALIZER_TOGGLE:1,RESPONSE_VISUALIZER_EXTENDED:1,REVEAL_CONTENT:5,HIDE_CONTENT:5,SELECT_QUESTION_SUBMISSION:20,SELECT_QUESTION_MATRIX_SUBMISSION:40,START_SURVEY:1,STOP_SURVEY:1,USERS_ASSIGNED:1,INDIVIDUAL_ASSIGNED:1,ASSIGNMENT_CLEARED:1,REMOVE_ASSIGNMENT:1,VIDEO_PLAY:1,VIDEO_PAUSE:1,VIDEO_END:8},Ee=["Dog","Cat","Cow","Sheep","Rabbit","Duck","Hen","Horse","Pig","Turkey","Chicken","Donkey","Goat","Guinea-Pig","Llama","Squirrel","Snail","Mouse","Chameleon","Deer","Raccoon","Moose","Antelope","Beaver","Weasel","Hedgehog","Ferret","Koala","Wolf","Lynx","Groundhog","Anteater","Panda-Bear","Grizzly-Bear","Wombat","Panther","Mole","Lion","Hyena","Camel","Elephant","Hippo","Fennec","Leopard","Puma","Zebra","Mule"],_e=n(45906),Ae=f()("isle:session"),Se=/^\/([^/]*)\/([^/]*)\//i,Te=/\/ocpu\/tmp\/[^/]+\/stdout/,Re=/\/ocpu\/tmp\/[^/]+\/graphics\/[^\n]*/g,ye=/\nIn call:[\s\S]*$/gm,Oe=/\/(?:site-)?library\/([^/]*)\/help\/([^/"]*)/,Ie=3e5,Ne=null,be=(new Date).getTime(),De=be,Le=0,Pe={progress:null,score:null,elapsed:0,feedbacks:0,addedChatMessages:0,addedActionTypes:[],active:!0,startTime:be,endTime:null,duration:null},Ce=null,we=null,ke=null,Me=null,xe=null,Ue=null,He=null,Ge=null;function Xe(e,t){return(""+e.title).localeCompare(t.title)}var Ze=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;(0,o.Z)(this,e),(0,u.Z)(this,"onLessonMount",(function(){Ae("Lesson has mounted..."),t.anonymous||C()(t.currentUserActions)||(t.logSessionInterval=setInterval(t.interval,Ie))})),(0,u.Z)(this,"onlineListener",(function(){Ae("Browser switched to being online..."),t.startPingServer()})),(0,u.Z)(this,"offlineListener",(function(){Ae("Browser switched to being offline..."),t.live=!1,t.socket&&(t.socket.close(),t.socket=null),t.update(ge.SC)})),(0,u.Z)(this,"visibilityChangeListener",(function(){document.hidden?(t.logSession(),t.stopPingServer(),clearInterval(t.logSessionInterval)):(t.startPingServer(),De=(new Date).getTime(),t.logSessionInterval=setInterval(t.logSession,Ie))})),(0,u.Z)(this,"focusInListener",(function(e){var n,r=document.activeElement;if(r)for(n=r.id;!n&&r;)(r=r.parentElement)&&(n=r.id);Ae("Focused element with id ".concat(n)),t.log({type:ge.gz,value:t.user.email,id:n,noSave:!0},"owners")})),(0,u.Z)(this,"focusOutListener",(function(e){Ae("Users ".concat(t.user.email," lost focus...")),t.log({type:ge.sS,id:t.userFocuses[t.user.email],value:t.user.email,noSave:!0},"owners")})),(0,u.Z)(this,"logSession",(function(){Ae("Logging current session object to database..."),!t.anonymous&&t.live&&t.updateDatabase()})),(0,u.Z)(this,"subscribe",(function(e){return Ce.push(e),function(){Ce=Ce.filter((function(t){return t!==e}))}})),(0,u.Z)(this,"pingServer",(function(){Ae("Should ping the server at ".concat(t.server,"...")),d().get(t.server+"/ping").then((function(e){"live"===e.data?(t.live=!0,t.socket&&!t.socket.disconnected||t.socketConnect(),t.update(ge.QG),t.lessonID||t.namespaceID||t.getLessonInfo()):(t.live=!1,t.config.server&&(t.server=t.config.server)),t.update(ge.OG)})).catch((function(e){Ae("Encountered an error: "+e.message),t.config.server&&(t.server=t.config.server)}))})),(0,u.Z)(this,"startPingServer",(function(){t.pingServer(),t.pingInterval=setInterval(t.pingServer,1e4)})),(0,u.Z)(this,"stopPingServer",(function(){Ae("Should clear the interval pinging the server"),clearInterval(t.pingInterval)})),(0,u.Z)(this,"executeRCode",(function(e){var n=e.code,r=e.onPlots,i=e.onResult,o=e.onError;Ae("Executing R code...");var a=t.getOpenCPUServer();Ae("Post request at ".concat(a+pe,' for code "').concat(n,'"'));var u=new FormData;u.append("x",n),d().post(a+pe,u).then((function(e){var t=e.data;Ae("Received body:\n "+t),Ae("Response status: "+e.status);var n,o=[],u=t.match(Te);u&&u[0]&&(n=u[0],d().get(a+n).then((function(e){i(null,e,e.data)})).catch((function(e){return i(e)})));var c,l=t.matchAll(Re),f=(0,s.Z)(l);try{for(f.s();!(c=f.n()).done;){var h=c.value,p=a+h[0]+"/svg";o.push(p)}}catch(m){f.e(m)}finally{f.f()}I()(r)&&r(o)})).catch((function(e){Ae("Encountered an error: "+e.message),e.response.data&&o(e.response.data.replace(ye,""))}))})),(0,u.Z)(this,"getRHelpPage",(function(e,n){var r=t.getOpenCPUServer(),s=new FormData;s.append("x","y = "+e+"; y[1]"),d().post(r+pe,s).then((function(e){e.data.split("\n").forEach((function(e){!0===Te.test(e)&&function(e){d().get(r+e).then((function(e){var t=e.data.match(Oe),r=(0,i.Z)(t,3),s=r[1],o=r[2];d().get("https://public.opencpu.org/ocpu/library/".concat(s,"/man/").concat(o,"/html")).then((function(e){n(null,e,e.data)})).catch((function(e){return n(e)}))}))}(e)}))})).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"getRHelp",(function(e,n,r){var i=t.getOpenCPUServer();d().get(i+"/ocpu/library/".concat(e,"/man/").concat(n,"/html")).then((function(e){r(null,e,e.data)})).catch((function(e){return r(e)}))})),(0,u.Z)(this,"getRPlot",(function(e,n,r){var i=t.getOpenCPUServer(),s=new FormData;s.append("x",e),d().post(i+pe,s).then((function(e){e.data.split("\n").forEach((function(e){!0===Re.test(e)&&function(e){d().get(e,{responseType:"arraybuffer"}).then((function(t){var n=t.headers["content-type"],i=btoa(new Uint8Array(t.data).reduce((function(e,t){return e+String.fromCharCode(t)}),"")),s="data:".concat(n,";base64,").concat(i);return r(null,e,s)})).catch((function(e){return r(e)}))}(i+e+"/"+n)}))})).catch((function(e){return r(e)}))})),(0,u.Z)(this,"getJitsiToken",(function(){var e=t.server+"/get_jitsi_token";e+="?",e+=c.stringify({namespaceID:t.namespaceID}),d().get(e).then((function(e){Ae("Retrieved JITSI token: "+JSON.stringify(e.data)),Ge=e.data,t.update(ge.O4)})).catch((function(e){Ge=null,Ae("Encountered an error "+e.message)}))})),(0,u.Z)(this,"sendSocketMessage",(function(e,n){n||(n="owners"),t.socket?t.socket.emit("event",e,n):(e.email="anonymous",e.name="anonymous",t.saveAction(e))})),(0,u.Z)(this,"getUserRights",(function(){t.anonymous||t.userRightsQuestionPosed||t._offline||Ne||!t.lessonID||!t.namespaceID||(Ae("Retrieve user rights..."),t.userRightsQuestionPosed=!0,d().post(t.server+"/get_user_rights",{namespaceName:t.namespaceName,lessonName:t.lessonName}).then((function(e){Ne=e.data,t.cohort=Ne.cohort,Ne.owner&&b()(t.socketActions)?(Ae("[3a] Retrieve all user actions for owners:"),t.getUserActions()):(Ae("[3b] Retrieve only own actions otherwise:"),t.getCurrentUserActions()),t.update(ge.YQ,Ne),Ge||t.getJitsiToken(),t.getStickyNotes(),t.getTextEditorDocuments()})).catch((function(e){t.userRightsQuestionPosed=!1,Ae("Encountered an error "+e.message)})))})),(0,u.Z)(this,"removeUserRights",(function(){Ne=null,t.userRightsQuestionPosed=!1})),(0,u.Z)(this,"isEnrolled",(function(){return!!Ne&&Ne.enrolled})),(0,u.Z)(this,"isOwner",(function(){return!!Ne&&Ne.owner})),(0,u.Z)(this,"isActive",(function(){return Pe.active})),(0,u.Z)(this,"removeChat",(function(e){e=t.stripChatName(e),Ae('Remove the "'.concat(e,'" chat from the list of chats'));for(var n=ke.length-1;n>=0;n--)ke[n].name===e&&ke.splice(n,1);t.update(ge._Z,e)})),(0,u.Z)(this,"deleteGroups",(function(){for(var e=0;e<Me.length;e++)t.closeChatForAll(Me[e].name);t.socket.emit("delete_groups")})),(0,u.Z)(this,"getStickyNotes",(function(){d().get(t.server+"/get_sticky_notes?"+c.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){"ok"===e.data.message&&e.data.notes.length>0&&(t.stickyNotes=e.data.notes,t.update(ge.WQ))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))})),(0,u.Z)(this,"updateStickyNote",(function(e){return d().post(t.server+"/update_sticky_note",(0,r.Z)((0,r.Z)({},e),{},{namespaceID:t.namespaceID})).then((function(e){if("ok"===e.data.message)for(var n=e.data.note,r=0;r<t.stickyNotes.length;r++)t.stickyNotes[r]._id===n._id&&(t.stickyNotes[r]=n),t.update(ge.WQ)})).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"deleteStickyNote",(function(e){return Ae("Deleting sticky note..."),d().post(t.server+"/delete_sticky_note",{noteID:e,namespaceID:t.namespaceID}).then((function(n){if("ok"===n.data.message){for(var r=null,i=0;i<t.stickyNotes.length;i++)t.stickyNotes[i]._id===e&&(r=i);null!==r&&(Ae("Remove note at position "+r),t.stickyNotes.splice(r,1),setTimeout((function(){t.update(ge.WQ)}),1100))}})).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"getTextEditorDocuments",(function(){Ne&&Ne.owner&&d().get(t.server+"/text_editor_document_list?"+c.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){"ok"===e.data.message&&e.data.documents.length>0&&(t.textEditorDocuments=e.data.documents.map((function(e){return e.id})),t.update(ge.Ys))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))})),(0,u.Z)(this,"getTextEditorDocument",(function(e){var n=t.server+"/text_editor_document?"+c.stringify({id:e,lessonID:t.lessonID,namespaceID:t.namespaceID});return d().get(n).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"updateMetadata",(function(e,n,i){if(!t.isOwner())return null;t.metadata[e]||(t.metadata[e]={}),t.metadata[e][n]=i;var s={namespaceID:t.namespaceID,lessonID:t.lessonID,type:e,key:n,value:i};d().post(t.server+"/update_metadata",s).then((function(e){e.data.metadata&&(t.metadata=(0,r.Z)((0,r.Z)({},t.metadata),e.data.metadata))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))})),(0,u.Z)(this,"getFakeUsers",(function(){var e=t.server+"/get_fake_users?";return e+=c.stringify({namespaceID:t.namespaceID}),d().get(e).then((function(e){return e.data})).catch((function(e){return t.addNotification({title:_e.a.t("session:request-failed"),message:e.message,level:"error",position:"tl"})}))})),(0,u.Z)(this,"getUserActions",(function(){Ae("Retrieve user actions..."),d().post(t.server+"/get_user_actions",{lessonID:t.lessonID,anonymous:!0}).then((function(e){Ae("/get_user_actions response status: "+e.status);var n=e.data.actions;Ae("Received ".concat(n.length," actions for lesson ").concat(t.lessonName," (id: ").concat(t.lessonID,")...")),t.socketActions=n,t.update(ge.Hl,n),Ae("[4] Retrieve cohort information..."),t.getCohorts()})).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"getCohorts",(function(){var e=t.server+"/get_cohorts?"+c.stringify({namespaceID:t.namespaceID,memberFields:"email name picture"});d().get(e).then((function(e){var n=e.data.cohorts;t.cohorts=n.sort(Xe),t.update(ge.$L,t.cohorts)})).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"selectCohort",(function(e){if(!t.cohorts||t.selectedCohort&&e===t.selectedCohort.title)return Ae("No cohorts available or already changed to the requested cohort...");for(var n,r,i=t.cohorts,s=0;s<i.length;s++){if(i[s].title===e)if("break"===function(){n=i[s];var e=t.userList.map((function(e){return e.email}));return r=n.members.filter((function(t){return S()(e,t.email)})),"break"}())break}t.selectedCohort=n,t.activeCohortMembers=r,t.update(ge.c_,t.selectedCohort)})),(0,u.Z)(this,"getCurrentUserActions",(function(){d().post(t.server+"/get_current_user_actions",{lessonID:t.lessonID}).then((function(e){Ae("Received current user actions..."),t.currentUserActions=e.data.actions,t.update(ge.u,t.currentUserActions)})).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"saveAction",(function(e){if(Ae("Received a member action..."),!e.noSave){var n=t.socketActions;n.unshift(e),t.socketActions=n,Ae("Number of actions: "+t.socketActions.length)}e.type===ge.gz?(Ae("Received focus for element with ID ".concat(e.id," by ").concat(e.email)),t.userFocuses[e.email]=e.id):e.type===ge.sS&&(Ae("Remove focus for user ".concat(e.email)),delete t.userFocuses[e.email]),t.update(ge.Wh,e)})),(0,u.Z)(this,"login",(function(e,n){var r;r=e.token?t.server+"/login_tfa":t.server+"/login",d().post(r,e).then((function(e){var r=e.data,i=r.token,s=r.id,o=r.message;He={token:i,id:s},localStorage.setItem(t.userVal,JSON.stringify(He)),"ok"===o&&t.handleLogin({token:i,id:s}),n(null,e,e.data)})).catch((function(e){return 404===e.response.status||401===e.response.status?t.addNotification({title:e.response.statusText,message:e.response.data,level:"error",position:"tl"}):void n(e)}))})),(0,u.Z)(this,"getLessonInfo",(function(){var e=t.lessonName,n=t.namespaceName,i=t.server;Ae("Retrieve lesson info for ".concat(n,"/").concat(e," from ").concat(i)),e&&n&&d().get(t.server+"/get_lesson_info?"+c.stringify({lessonName:e,namespaceName:n})).then((function(e){var n=e.data;t.lessonID=n.lessonID,t.namespaceID=n.namespaceID,n.enableTicketing&&(t.enableTicketing=n.enableTicketing),Pe.active=void 0===n.active||n.active,n.time&&(Pe.startTime=n.time),n.metadata&&(t.metadata=(0,r.Z)((0,r.Z)({},t.metadata),n.metadata)),Ae("[2] Retrieve user rights and data for said lesson and its namespace"),Ae(JSON.stringify(n)),t.update(ge.KI,n),t.getUserRights()})).catch((function(e){Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"handleLogin",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];d().post(t.server+"/credentials",{id:e.id}).then((function(e){Ae("Received credentials for login..."),n||t.addNotification({title:_e.a.t("session:loggedin"),message:_e.a.t("session:loggedin-message"),level:"success",position:"tl"}),t.user=e.data,t.user&&t.user.picture&&(t.user.picture=t.server+"/avatar/"+t.user.picture),Pe.score=t.user.score,t.anonymous=!1,t.socket.close(),t.socketConnect(),Ne||t.getUserRights(),t.update(ge.Fw)})).catch((function(e){Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"adjustGrades",(function(e,n){var r=0;for(var i in n)k()(n,i)&&"_sumPoints"!==i&&(r+=n[i]);n._sumPoints=r,t.lessonGrades[e]=n,d().post(t.server+"/user_adjust_grades",{email:e,grades:n,lessonID:t.lessonID,namespaceID:t.namespaceID}).then((function(e){t.addNotification({title:_e.a.t("session:grades-saved"),message:e.data.message,level:"success",position:"tl"})}))})),(0,u.Z)(this,"appendGradeMessage",(function(e,n,r){var i={time:(new Date).getTime(),user:t.user.name,picture:(0,g.basename)(t.user.picture),content:r};t.lessonGradeMessages[e]||(t.lessonGradeMessages[e]={}),L()(t.lessonGradeMessages[e][n])?t.lessonGradeMessages[e][n].push(i):t.lessonGradeMessages[e][n]=[i],d().post(t.server+"/user_append_grade_message",{lessonID:t.lessonID,namespaceID:t.namespaceID,email:e,componentID:n,message:i}).then((function(e){t.addNotification({title:_e.a.t("session:message-saved"),message:e.data.message,level:"success",position:"tl"})}))})),(0,u.Z)(this,"getLessonGrades",(function(){for(var e=t.responseVisualizerIds,n=0,r=e.length-1;r>=0;r--){var i=e[r],s=t.responseVisualizers[i].ref;s&&s.props&&s.props.points&&(n+=s.props.points)}t.metadata.grades&&t.metadata.grades.maxPoints!==n&&(t.metadata.grades.maxPoints=n,t.updateMetadata("grades","maxPoints",n)),d().get(t.server+"/get_lesson_grades?"+c.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){t.lessonGrades=e.data.grades})).catch((function(e){Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"getLessonGradeMessages",(function(){d().get(t.server+"/get_lesson_grade_messages?"+c.stringify({lessonID:t.lessonID,namespaceID:t.namespaceID})).then((function(e){t.lessonGradeMessages=e.data.gradeMessages})).catch((function(e){Ae("Encountered an error: "+e.message)}))})),(0,u.Z)(this,"getLessonOwnerFiles",(function(e){if(t.lessonName&&t.namespaceName){var n=t.server+"/get_files";n+="?"+c.stringify({namespaceName:t.namespaceName,lessonName:t.lessonName,owner:!0}),d().get(n).then((function(t){e(null,t.data.files)})).catch((function(t){Ae("Encountered an error: "+t.message),e(t)}))}})),(0,u.Z)(this,"uploadFile",(function(e){var n=e.formData,r=e.callback,i=void 0===r?function(){}:r,s=e.showNotification,o=void 0===s||s;if(t.lessonName&&n.append("lessonName",t.lessonName),t.namespaceName&&n.append("namespaceName",t.namespaceName),t.isOwner()&&n.append("owner",!0),C()(t.user))return t.addNotification({title:_e.a.t("session:file-upload"),message:_e.a.t("session:file-upload-signin-required"),level:"warning",position:"tl"}),i(new Error(_e.a.t("session:file-upload-signin-required")));var a=new XMLHttpRequest;a.open("POST",t.server+"/upload_file",!0),a.setRequestHeader("Authorization","JWT "+He.token),a.onreadystatechange=function(){var e,n,r,s;if(a.readyState===XMLHttpRequest.DONE)return s=null,200===a.status?(e=(r=JSON.parse(a.responseText)).message,n="success"):(e=a.responseText,n="error",s=new Error(a.responseText)),o&&t.addNotification({title:_e.a.t("session:file-upload"),message:e,level:n,position:"tl"}),i(s,r)},a.send(n)})),(0,u.Z)(this,"sendMail",(function(e,n){var i=(0,r.Z)({},e);k()(i,"from")||(i.from=t.config.email||"notifications@".concat(window.location.host)),k()(i,"to")||(i.to=n),d().post(t.server+"/send_mail",i).catch((function(e){return Ae("Encountered an error: "+e.message)}))})),Ae("Should create session..."),this.server=a?null:j.Z?n.server:window.location.origin,this._offline=a||!1,Ce=[],this.userVal="ISLE_USER_"+this.server,this.anonymous=!0;var l,f="ISLE_ANONYMOUS_"+this.server;if(localStorage&&((l=localStorage.getItem(f))?this.anonymousIdentifier=l:(this.anonymousIdentifier=V()(Ee,{size:1})+" "+(0,F.Z)(4),localStorage.setItem(f,this.anonymousIdentifier))),this.sessionID=(0,F.Z)(3),this.user={},d().interceptors.request.use((function(e){e.headers["Accept-Language"]=_e.a.language;var n=He.token;return n&&y()(e.url,t.server)&&(e.headers.Authorization="JWT ".concat(n)),e})),localStorage&&((l=localStorage.getItem(this.userVal))?(He=JSON.parse(l),this.handleLogin(He,!0)):(He={},!this.server||this._offline||this.socket||this.socketConnect())),this.finished=!1,this.live=!1,this.actions=[],this.currentUserActions={},this.cohort=null,this.cohorts=null,this.socketActions=[],this.responseVisualizers={},this.responseVisualizerIds=[],this.presentationMode=!1,this.userList=[],this.userFocuses={},this.userProgress={},xe=null,Me=[],Ue=[],this.selectedCohort=null,this.activeCohortMembers=null,this.hasOwner=!1,ke=[],we=[],this.state=n.state,this.speechInterface=new de,this.config=n,this.VoiceRecordingStatus=!1,this.lessonID=null,this.namespaceID=null,this.enableTicketing=!1,this.metadata={revealer:{},grades:{},store:{}},this.lessonGrades={},this.lessonGradeMessages={},this.stickyNotes=[],this.textEditorDocuments=[],this.namespaceName=null,this.lessonName=null,j.Z||a)this.lessonName=n.lesson,this.namespaceName=n.namespace;else{var h=window.location.pathname;if((0,T.isPrimitive)(h)){var p=h.match(Se);p&&p.length>=2&&h.endsWith("/")&&(this.namespaceName=decodeURIComponent(p[1]),this.lessonName=decodeURIComponent(p[2]))}}this.store=m().createInstance({driver:m().INDEXEDDB,name:"ISLE_".concat(this.namespaceName,"_").concat(this.lessonName),description:"Persistent data storage for ISLE lesson"}),this._offline||this.startPingServer(),this.lessonID||this.namespaceID||this._offline||(Ae("[1] Retrieve lesson information:"),this.getLessonInfo()),this.debouncedInitializeProgress=_()(this.initializeProgress,3e3),j.Z||a||(document.addEventListener("focusin",this.focusInListener),document.addEventListener("focusout",this.focusOutListener),document.addEventListener("visibilitychange",this.visibilityChangeListener),window.addEventListener("online",this.onlineListener),window.addEventListener("offline",this.offlineListener)),this.server&&(d().get(this.server+"/get_lesson_settings").then((function(e){Pe.settings=e.data})).catch((function(e){Ae("Encountered an error: "+e.message)})),d().get(this.server+"/get_translations").then((function(e){var t=e.data||{};_e.a.store.on("added",(function(e,n){if(t[e]&&t[e][n])for(var r=t[e][n],i=Object.keys(r),s=0;s<i.length;s++)_e.a.store.data[e][n][i[s]]=r[i[s]]}))})).catch((function(e){Ae("Encountered an error: "+e.message)})))}return(0,a.Z)(e,[{key:"startTime",get:function(){return Pe.startTime}},{key:"endTime",get:function(){return Pe.endTime}},{key:"duration",get:function(){return Pe.duration}},{key:"videoChats",get:function(){return we}},{key:"chats",get:function(){return ke}},{key:"group",get:function(){return xe}},{key:"allGroups",get:function(){return Me}},{key:"questions",get:function(){return Ue}},{key:"settings",get:function(){return Pe.settings||{}}},{key:"jitsi",get:function(){return(0,r.Z)({},Ge)}},{key:"joinChat",value:function(e){var t=e.name,n=e.canLeave,r=void 0===n||n,i=e.anonymousSubmissions,s=void 0!==i&&i;if(this.socket){for(var o=!1,a=0;a<ke.length;a++)ke[a].name===t&&(o=!0);o||(ke.push({name:t,messages:[],members:[],canLeave:r,anonymousSubmissions:s}),this.socket.emit("join_chat",t))}}},{key:"joinVideoChat",value:function(e){for(var t=e.name,n=e.subject,r=!1,i=0;i<we.length;i++)we[i].name===t&&(r=!0);r||(we.push({name:t,subject:n}),this.update(ge.q,t))}},{key:"inviteToChat",value:function(e,t){this.socket.emit("chat_invitation",e,t)}},{key:"inviteToVideo",value:function(e,t){this.socket.emit("video_invitation",e,t)}},{key:"closeChatForAll",value:function(e){Ae("Closing chat "+e+" for all users..."),this.socket.emit("close_chat",e)}},{key:"joinCollaborativeEditing",value:function(e,t){e="".concat(this.namespaceID,"-").concat(this.lessonID,"-").concat(e),this.socket&&(Ae("Join collaborative editing for "+e),t?this.socket.emit("join_collaborative_editing",e,t):this.socket.emit("join_collaborative_editing",e))}},{key:"sendCollaborativeEvents",value:function(e,t){this.socket&&(e="".concat(this.namespaceID,"-").concat(this.lessonID,"-").concat(e),this.socket.emit("send_collaborative_editing_events",{docID:e,data:t}))}},{key:"pollCollaborativeEditingEvents",value:function(e,t){this.socket&&(e="".concat(this.namespaceID,"-").concat(this.lessonID,"-").concat(e),this.socket.emit("poll_collaborative_editing_events",{docID:e,data:t}))}},{key:"markChatMessagesAsRead",value:function(e){var t=this.getChat(e);t.messages=t.messages.map((function(e){return e.unread=!1,e})),this.update(ge.NH)}},{key:"sendChatMessage",value:function(e,t,n){if(Pe.addedChatMessages+=1,this.socket){var r={time:(new Date).getTime(),user:this.user.name,picture:(0,g.basename)(this.user.picture),content:t};n&&(r.anonymous=!0);var i=this.getChat(e);i&&(i.messages.push(r),this.markChatMessagesAsRead(e)),Ae("Should emit message to room "+e+": "+JSON.stringify(r)),this.socket.emit("chat_message",{msg:r,namespaceName:this.namespaceName,lessonName:this.lessonName,chatroom:e}),this.update(ge.EG,e)}}},{key:"getChat",value:function(e){e=this.stripChatName(e);for(var t=0;t<ke.length;t++){var n=ke[t];if(n.name===e)return n}return null}},{key:"stripChatName",value:function(e){var t=e.indexOf(":");return-1!==t&&(e=e.substr(t+1)),e}},{key:"leaveChat",value:function(e){this.removeChat(e),this.socket&&this.socket.emit("leave_chat",e)}},{key:"leaveVideoChat",value:function(e){Ae("Closing video chat with name ".concat(e));for(var t=we.length-1;t>=0;t--)we[t].name===e&&we.splice(t,1);this.update(ge.lK,e)}},{key:"createGroups",value:function(e){this.socket.emit("create_groups",e)}},{key:"addQuestionToQueue",value:function(e){this.socket.emit("add_question",e)}},{key:"removeQuestionFromQueue",value:function(e){this.socket.emit("remove_question",e)}},{key:"saveSketchpadData",value:function(e,t){var n=this;return d().post(this.server+"/save_sketchpad_data",{namespaceID:this.namespaceID,lessonID:this.lessonID,sketchpadID:e,data:t}).catch((function(e){n.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))}},{key:"getSketchpadVisitorData",value:function(e){var t=this;return this._offline?new Promise((function(e,t){e(null)})):this.store.getItem(e).then((function(n){var i=t.server+"/get_sketchpad_shared_data";return i+="?"+c.stringify({lessonID:t.lessonID,sketchpadID:e}),d().get(i).then((function(e){var t=e.data;return n?(0,r.Z)((0,r.Z)({},n),t):t}))}))}},{key:"getSketchpadUserData",value:function(e){if(this._offline)return new Promise((function(e,t){e(null)}));var t=this.server+"/get_sketchpad_user_data";return t+="?"+c.stringify({namespaceID:this.namespaceID,lessonID:this.lessonID,sketchpadID:e}),d().get(t).then((function(e){return e.data}))}},{key:"saveStickyNote",value:function(e){var t=this,n=e.title,r=e.body,i=e.left,s=e.top,o=e.visibility;return d().post(this.server+"/save_sticky_note",{namespaceID:this.namespaceID,lessonID:this.lessonID,title:n,body:r,left:i,top:s,visibility:o}).then((function(e){"ok"===e.data.message&&(t.stickyNotes.push(e.data.note),t.update(ge.WQ))})).catch((function(e){t.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"})}))}},{key:"socketConnect",value:function(){var e=this;if(Ae("Connecting via socket to server..."),this.socket){if(!this.socket.disconnected)return void Ae("Socket connection is still working, no need to create new one...");Ae("Close existing connection before creating new socket connection..."),this.socket.close(),this.socket=null}var t=v.connect(this.server,{transports:["websocket"]});t.on("connect",(function(){Ae("I am connected..."),setTimeout((function(){e.log({type:me.lJ,value:t.id,id:e.lessonName})}),1e3),e.stopPingServer()}));var n={namespaceName:this.namespaceName,lessonName:this.lessonName,userID:this.user.id,userName:this.user.name||this.anonymousIdentifier,userEmail:this.user.email||this.anonymousIdentifier};t.emit("join",n),t.on("console",(function(e){Ae(e)})),t.on("userlist",(function(t){Ae("Received list of users currently in the lesson: "+t),e.userList=JSON.parse(t);for(var n=0;n<e.userList.length;n++){if(e.userList[n].owner){e.hasOwner=!0;break}}e.update(ge.lf)})),t.on("progress",(function(t){Ae("Receiving progress ".concat(t.progress," from user ").concat(t.email)),e.userProgress[t.email]=t.progress,e.update(ge.Ny)})),t.on("user_joins",(function(t){Ae("A user has joined and should be added to the user list: "+t),(t=JSON.parse(t)).owner&&(e.hasOwner=!0),e.userList=e.userList.filter((function(e){return e.email!==t.email})),e.userList.push(t),e.update(ge.At,t)})),t.on("user_leaves",(function(t){Ae("A user has disconnected and should be removed: "+t),t=JSON.parse(t),e.userList=e.userList.map((function(e){return e.email===t.email&&(e.inactive=!0,e.exitTime=t.exitTime),e})),setTimeout((function(){e.userList=e.userList.filter((function(e){return e.email!==t.email||!e.inactive})),e.update(ge.p0,t.email)}),18e4);var n=t.email===e.user.email;e.update(ge.vu,t.email),n&&e.forcedLogout()})),t.on("chat_history",(function(t){var n=t.name,r=t.messages,i=t.members;Ae("Received chat history: "+JSON.stringify(r));var s=e.getChat(n);s?(s.messages=r,s.members=i):(s={name:n=e.stripChatName(n),messages:r,members:i},ke.push(s)),e.update(ge.PY,s)})),t.on("member_has_joined_chat",(function(t){var n=t.name,r=t.member;Ae("Member ".concat(r.name," has joined chat ").concat(n));var i=e.getChat(n);n=e.stripChatName(n),i?(i.members.push(r),e.update(ge.xG,i)):r.email===e.user.email&&(i={name:n,messages:[],members:[]},ke.push(i),e.socket.emit("join_chat",n),e.update(ge.JV,i))})),t.on("member_has_left_chat",(function(t){var n=t.name,r=t.member;Ae("Member ".concat(r.name," has left chat ").concat(n));var i=e.getChat(n);n=e.stripChatName(n),i.members=i.members.filter((function(e){return e.email!==r.email})),e.user.email===r.email?(Ae("I have left the chat..."),e.removeChat(n),e.update(ge.TY,n)):(Ae("Somebody else has left the chat"),e.update(ge.Jz,n))})),t.on("joined_collaborative_editing",(function(t,n){e.update(ge.qG,{id:t,data:n})})),t.on("sent_collaborative_editing_events",(function(t,n){e.update(ge.t0,{id:t,data:n})})),t.on("polled_collaborative_editing_events",(function(t,n){e.update(ge.ug,{id:t,data:n})})),t.on("collaborative_editing_events",(function(t,n){e.update(ge.q$,{id:t,data:n})})),t.on("chat_message",(function(t){var n=e.getChat(t.chatroom);n&&(t.msg.unread=!0,n.messages.push(t.msg)),e.update(ge.LL,t.chatroom)})),t.on("chat_invitation",(function(t){e.joinChat(t)})),t.on("video_invitation",(function(t){e.joinVideoChat(t)})),t.on("closed_chat",(function(t){Ae("Should close chat with name "+t),e.removeChat(t)})),t.on("chat_statistics",(function(t){t.name=e.stripChatName(t.name),e.update(ge.em,t)})),t.on("created_groups",(function(t){Me=t,xe=B(t,e.user),e.update(ge.WF,xe),xe&&!e.isOwner()&&e.joinChat({name:e.group.name,canLeave:!1})})),t.on("deleted_groups",(function(){xe=null;var t=Me;Me=[],e.update(ge.vB,t)})),t.on("queue_questions",(function(t){Ue=t,e.update(ge.Kd,Ue)})),t.on("memberAction",this.saveAction),t.on("error",(function(e){Ae("Encountered an error: "+e.message)})),t.on("disconnect",(function(t){Ae("Socket is disconnected from the server. Reason: "+t),e.live=!1,e.socket&&(e.socket.close(),e.socket=null),e.startPingServer(),e.update(ge.SC)})),this.socket=t}},{key:"update",value:function(e,t){Ce.forEach((function(n){return n(e,t)}))}},{key:"registerUser",value:function(e,t){var n=this;d().post(this.server+"/create_user",e).then((function(){n.addNotification({title:_e.a.t("session:user-created"),message:_e.a.t("session:user-created-message"),level:"success",position:"tl"}),n.login({email:e.email,password:e.password},t)})).catch((function(e){n.addNotification({title:_e.a.t("session:user-not-created"),message:e.response.data,level:"error",position:"tl"}),Ae("Encountered an error: "+e.message),t(e)}))}},{key:"logout",value:function(){Ae("Logout initiated by user ".concat(this.user.name)),localStorage.removeItem(this.userVal),this.socket.emit("leave"),this.socket.close(),this.user={},this.anonymous=!0,this.userRightsQuestionPosed=!1,this.reset(),this.addNotification({title:_e.a.t("session:logout-title"),message:_e.a.t("session:logout-message"),level:"success",position:"tl"}),this.update(ge.E7)}},{key:"forcedLogout",value:function(){Ae("Forced logout of user ".concat(this.user.name," by server, connect again"));var e=localStorage.getItem(this.userVal);this.reset(),e&&(e=JSON.parse(e),this.handleLogin(e,!0))}},{key:"reset",value:function(){ke=[],we=[],this.actions=[],this.socketActions=[],this.currentUserActions={},this.userList=[],this.removeUserRights()}},{key:"forgotPassword",value:function(e){var t=this;d().get(this.server+"/forgot_password?"+c.stringify({email:e})).then((function(){Ae("GET: /forgot_password"),t.addNotification({title:_e.a.t("session:new-password-title"),message:_e.a.t("session:new-password-message"),level:"success",position:"tl"})})).catch((function(e){t.addNotification({title:_e.a.t("session:new-password-title"),message:e.message,level:"error",position:"tl"})}))}},{key:"retrieveData",value:function(e,t){d().post(this.server+"/retrieve_data",{query:e,user:this.user}).then((function(e){return t(null,e.data)})).catch((function(e){return t(e)}))}},{key:"get",value:function(e){return Pe[e]}},{key:"finalize",value:function(){Pe.endTime=(new Date).getTime(),Pe.duration=Pe.endTime-Pe.startTime,this.finished=!0,!1===this.anonymous&&this.updateDatabase()}},{key:"initializeProgress",value:function(){if(!(this.anonymous||C()(this.currentUserActions)||Ne&&Ne.owner)){Ae("Set initial progress...");var e=0,t=this.responseVisualizerIds;this.unfinished=t.slice();for(var n=t.length-1;n>=0;n--){var r=t[n],i=this.currentUserActions[r],s=this.responseVisualizers[r];if(s){var o=s.type;if(i)for(var a=0;a<i.length;a++)if(i[a].type===o){this.unfinished.splice(n,1),e+=1/t.length;break}}}Pe.progress=X()(e,0,1),Ae("Initial progress: "+e),this.update(ge.Gq,e),this.socket.emit("progress",e),this.logSession()}}},{key:"setProgress",value:function(e){if(!(this.anonymous||C()(this.currentUserActions)||Ne&&Ne.owner)){var t=this.responseVisualizerIds;if(e){var n=this.currentUserActions[e],r=this.responseVisualizers[e];if(n&&r)for(var i=r.type,s=0;s<n.length;s++)if(n[s].type===i){if(s<n.length-1)break;if(s===n.length-1){var o=X()(this.get("progress")+1/t.length,0,1);Pe.progress=o,this.update(ge.tf,o),this.unfinished||this.initializeProgress(),this.unfinished=this.unfinished.filter((function(t){return t!==e})),this.socket.emit("progress",o),this.logSession()}}}}}},{key:"setScore",value:function(e){if(!(this.anonymous||C()(this.currentUserActions)||Ne&&Ne.owner)){var t=this.currentUserActions;if(t){var n=t[e.id],r=ve[e.type]||1;if(n){var i=n.map((function(e){return e.type}));S()(i,e.type)||(Le+=r,Pe.score=this.get("score")+r,this.update(ge.Zh,r))}else Le+=r,Pe.score=this.get("score")+r,this.update(ge.Zh,r)}}}},{key:"togglePresentationView",value:function(){this.presentationMode=!this.presentationMode,this.update(me.x$,this.presentationMode);var e="You have started the presentation mode which hides the status bar, the instructorView and all owner elements. Hit F7 to leave the it.",t="Started presentation mode";!1===this.presentationMode&&(e="You have finished the presentation mode. Hit F7 to start it again.",t="Finished presentation mode"),this.addNotification({title:t,message:e,level:"success",position:"tl"})}},{key:"updateDatabase",value:function(){var e=(new Date).getTime(),t=e-De;De=e;var n=this.get("addedActionTypes");if(0===n.length)return Ae("Do not update user session when user is idle...");Ae("Updates session object in database...");var r={elapsed:t,addedScore:Le,addedChatMessages:this.get("addedChatMessages"),vars:this.vars,lessonID:this.lessonID,progress:this.get("progress"),addedActionTypes:x()(n,H())};Le=0,Pe.addedChatMessages=0,Pe.addedActionTypes=[],this._offline||this.anonymous||d().post(this.server+"/update_user_session",r).then((function(e){Ae("/update_user_session returns: "+e.status)})).catch((function(e){Ae("Encountered an error: "+e.message)}))}},{key:"logToDatabase",value:function(e,t,n){Ae("Logging ".concat(e," to database..."));var r={startTime:Pe.startTime,userID:this.user.id,lessonID:this.lessonID,type:e,data:t};this._offline||(Pe.addedActionTypes.push(t.type),Ae("Storing session element..."),d().post(this.server+"/store_session_element",r).then((function(e){Ae("/store_session_element status code: "+e.status),n(null,e.data)})).catch((function(e){Ae("Encountered an error: ".concat(e.message,".")),n(e)})))}},{key:"removeSessionElementFromDB",value:function(e,t){var n=this;d().get(this.server+"/delete_session_element?"+c.stringify({_id:e})).then((function(){for(var r=0;r<n.socketActions.length;r++)if(n.socketActions[r].sessiondataID===e){n.socketActions.splice(r,1);break}n.addNotification({title:_e.a.t("session:deleted"),message:_e.a.t("session:deleted-message"),level:"success",position:"tl"}),t(null)})).catch((function(e){n.addNotification({title:_e.a.t("session:error-encountered"),message:e.message,level:"error",position:"tl"}),t(e)}))}},{key:"log",value:function(e,t){var n=this;e&&e.id&&(e.absoluteTime=(new Date).getTime(),e.time=e.absoluteTime-this.startTime,e.owner=this.isOwner(),this.anonymous?(e.email=this.anonymousIdentifier,e.name=this.anonymousIdentifier):(e.email=this.user.email,e.name=this.user.name),e.noSave?this.sendSocketMessage(e,t):(Ae("Save action..."),this.actions.push(e),this.logToDatabase("action",e,(function(r,i){if(r)return n.addNotification({title:_e.a.t("session:error-encountered"),message:r.message,level:"error",position:"tl"});e.sessiondataID=i.id;var s=n.currentUserActions;n.setScore(e),s&&(s[e.id]?s[e.id].push(e):s[e.id]=[e]),n.setProgress(e.id),Ae("Send to socket connections after ID is attached..."),n.sendSocketMessage(e,t),1===n.actions.length&&n.updateDatabase()}))))}},{key:"createTicket",value:function(e){var t=e.title,n=e.description,r=e.component,i=e.platform,s=e.files,o=void 0===s?[]:s;if(0===o.length)return d().post(this.server+"/create_ticket",{title:t,description:n,platform:i,component:r,namespaceID:this.namespaceID,lessonID:this.lessonID}).catch((function(e){return Ae("Encountered an error: "+e.message)}));for(var a=new FormData,u=0;u<o.length;u++)a.append("attachment",o[u]);return a.append("title",t),a.append("description",n),a.append("platform",JSON.stringify(i)),a.append("namespaceID",this.namespaceID),a.append("lessonID",this.lessonID),d().post(this.server+"/create_ticket",a).catch((function(e){return Ae("Encountered an error: "+e.message)}))}},{key:"getOpenCPUServer",value:function(){return this.config.rshell&&this.config.rshell.server?this.config.rshell.server:"https://phd-serv5.heinz.cmu.edu"}},{key:"setVoiceRecordingStatus",value:function(e){this.voiceRecordingStatus=e,this.update(ge.cK,e)}},{key:"addNotification",value:function(e){return e.onAdd||e.onRemove||(e.onAdd=function(){window.addEventListener("beforeunload",q)},e.onRemove=function(){window.removeEventListener("beforeunload",q)}),e.position||(e.position="tc"),n.g.notificationSystemISLE?n.g.notificationSystemISLE.addNotification(e):null}},{key:"removeNotification",value:function(e){n.g.notificationSystemISLE&&n.g.notificationSystemISLE.removeNotification(e)}}]),e}()},2183:function(e,t,n){"use strict";var r=n(86890),i=n.n(r),s=n(20842),o="object"===typeof process&&i()(process.versions)&&(0,s.isPrimitive)(process.versions.electron)&&(0,s.isPrimitive)(process.versions.chrome)&&("browser"===process.type||"renderer"===process.type);t.Z=o},82948:function(e,t,n){"use strict";var r=n(7380),i=n.n(r),s=n(15377),o=n.n(s),a=[48,49,50,51,52,53,54,55,56,57,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122];t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=o()(a,{size:e});return i().apply(null,t)}},35411:function(e,t,n){"use strict";var r=n(48194),i=n(43834),s=n(90597),o=n(17554),a=n(11105),u=n(83489),c=n(70475),l=n(71634),f=[[n(59776),"Float64Array"],[l,"Float32Array"],[u,"Int32Array"],[c,"Uint32Array"],[o,"Int16Array"],[a,"Uint16Array"],[r,"Int8Array"],[i,"Uint8Array"],[s,"Uint8ClampedArray"]];e.exports=f},65259:function(e,t,n){"use strict";var r=n(87435);e.exports=r},87435:function(e,t,n){"use strict";var r=n(65105),i=n(59800);e.exports=function(e){var t,n;if(!r(e))throw new TypeError("invalid argument. Must provide a typed array. Value: `"+e+"`.");for((t={}).type=i(e),t.data=[],n=0;n<e.length;n++)t.data.push(e[n]);return t}},59800:function(e,t,n){"use strict";var r=n(30392),i=n(88888),s=n(61989),o=n(35411);e.exports=function(e){var t,n;for(n=0;n<o.length;n++)if(r(e,o[n][0]))return o[n][1];for(;e;){for(t=i(e),n=0;n<o.length;n++)if(t===o[n][1])return o[n][1];e=s(e)}}},36812:function(e){"use strict";e.exports=function(){}},88412:function(e,t,n){"use strict";var r=n(47827);e.exports=r},47827:function(e,t,n){"use strict";var r=n(36812);e.exports=function(){return"foo"===r.name}},30392:function(e,t,n){"use strict";var r=n(84825);e.exports=r},84825:function(e){"use strict";e.exports=function(e,t){if("function"!==typeof t)throw new TypeError("invalid argument. `constructor` argument must be callable. Value: `"+t+"`.");return e instanceof t}},265:function(e,t,n){"use strict";var r=n(6742);e.exports=r},6742:function(e,t,n){"use strict";var r=n(55212),i=n(48708);e.exports=function(e){return void 0!==e&&null!==e&&"function"!==typeof e&&"number"===typeof e.length&&r(e.length)&&e.length>=0&&e.length<=i}},98718:function(e,t,n){"use strict";var r=n(10039);e.exports=r},10039:function(e,t,n){"use strict";var r=n(70954);e.exports=function(e){return r(e)&&0===e.length}},90485:function(e,t,n){"use strict";var r=n(54227);e.exports=r},54227:function(e,t,n){"use strict";var r=n(67583),i=n(16561),s=n(57701)();e.exports=function(e){return!!i(e)&&(!(r(e).length>0)&&!(s&&Object.getOwnPropertySymbols(e).length>0))}},78422:function(e,t,n){"use strict";var r=n(55037),i=n(83916),s=n(42836),o=n(73354);r(i,"isPrimitive",s),r(i,"isObject",o),e.exports=i},83916:function(e,t,n){"use strict";var r=n(42836),i=n(73354);e.exports=function(e){return r(e)||i(e)}},73354:function(e,t,n){"use strict";var r=n(16910).isObject;e.exports=function(e){return r(e)&&e.valueOf()>0}},42836:function(e,t,n){"use strict";var r=n(16910).isPrimitive;e.exports=function(e){return r(e)&&e>0}},77895:function(e,t,n){"use strict";var r=n(16023);e.exports=r},16023:function(e,t,n){"use strict";var r=n(38600).isPrimitive,i=n(47715);e.exports=function(e){return null!==e&&"object"===typeof e&&r(e.length)&&e.length<=i&&"number"===typeof e.BYTES_PER_ELEMENT&&"number"===typeof e.byteOffset&&"number"===typeof e.byteLength}},76388:function(e,t,n){"use strict";var r=n(48194),i=n(43834),s=n(90597),o=n(17554),a=n(11105),u=n(83489),c=n(70475),l=n(71634),f=[n(59776),l,u,c,o,a,r,i,s];e.exports=f},65105:function(e,t,n){"use strict";var r=n(92266);e.exports=r},92266:function(e,t,n){"use strict";var r=n(88888),i=n(58619),s=n(61989),o=n(63062),a=n(59776),u=n(76388),c=n(98733),l=o()?s(a):f;function f(){}l="TypedArray"===i(l)?l:f,e.exports=function(e){var t,n;if("object"!==typeof e||null===e)return!1;if(e instanceof l)return!0;for(n=0;n<u.length;n++)if(e instanceof u[n])return!0;for(;e;){for(t=r(e),n=0;n<c.length;n++)if(c[n]===t)return!0;e=s(e)}return!1}},5e3:function(e,t,n){"use strict";var r=n(13559);e.exports=r},13559:function(e,t,n){"use strict";var r=n(65105),i=n(70954),s=n(37221).isPrimitive,o=n(84458),a=n(646);e.exports=function(e){var t,n;if(i(e)){for(t=0,n=0;n<e.length;n++){if(!s(e[n])||e[n]>1||e[n]<0)return!1;t+=e[n]}return o(t,1)<=a}if(r(e)){for(t=0,n=0;n<e.length;n++){if(e[n]>1||e[n]<0)return!1;t+=e[n]}return o(t,1)<=a}return!1}},71263:function(e,t,n){"use strict";var r=n(55037),i=n(48578);r(i,"ndarray",n(16654)),e.exports=i},48578:function(e){"use strict";e.exports=function(e,t,n,r,i){var s,o,a,u;if(e<=0)return r;if(1===n&&1===i){if((a=e%8)>0)for(u=0;u<a;u++)r[u]=t[u];if(e<8)return r;for(u=a;u<e;u+=8)r[u]=t[u],r[u+1]=t[u+1],r[u+2]=t[u+2],r[u+3]=t[u+3],r[u+4]=t[u+4],r[u+5]=t[u+5],r[u+6]=t[u+6],r[u+7]=t[u+7];return r}for(s=n<0?(1-e)*n:0,o=i<0?(1-e)*i:0,u=0;u<e;u++)r[o]=t[s],s+=n,o+=i;return r}},16654:function(e){"use strict";e.exports=function(e,t,n,r,i,s,o){var a,u,c,l;if(e<=0)return i;if(a=r,u=o,1===n&&1===s){if((c=e%8)>0)for(l=0;l<c;l++)i[u]=t[a],a+=n,u+=s;if(e<8)return i;for(l=c;l<e;l+=8)i[u]=t[a],i[u+1]=t[a+1],i[u+2]=t[a+2],i[u+3]=t[a+3],i[u+4]=t[a+4],i[u+5]=t[a+5],i[u+6]=t[a+6],i[u+7]=t[a+7],a+=8,u+=8;return i}for(l=0;l<e;l++)i[u]=t[a],a+=n,u+=s;return i}},48708:function(e){"use strict";e.exports=4294967295},63989:function(e){"use strict";e.exports=9007199254740991},646:function(e){"use strict";e.exports=1.4901161193847656e-8},64947:function(e){"use strict";e.exports=65535},62897:function(e){"use strict";e.exports=1114111},19758:function(e,t,n){"use strict";var r=n(43022);e.exports=r},43022:function(e,t,n){"use strict";var r=n(14444),i=n(27394);e.exports=function(e){return e===r||e===i}},96551:function(e,t,n){"use strict";var r=n(96671);e.exports=r},96671:function(e,t,n){"use strict";var r=n(27394);e.exports=function(e){return 0===e&&1/e===r}},40223:function(e,t,n){"use strict";var r=n(56409);e.exports=r},56409:function(e,t,n){"use strict";var r=n(14444);e.exports=function(e){return 0===e&&1/e===r}},28135:function(e,t,n){"use strict";var r=n(16943);e.exports=r},16943:function(e){"use strict";e.exports=function(e){return Math.abs(e)}},79693:function(e,t,n){"use strict";var r=n(63388);e.exports=r},63388:function(e,t,n){"use strict";var r=n(62423),i=n(96551);e.exports=function(e,t,n){return r(e)||r(t)||r(n)?NaN:e<t?t:e>n?n:0===t&&i(e)?t:0===e&&i(n)?n:e}},2554:function(e,t,n){"use strict";var r=n(92919);e.exports=r},92919:function(e,t,n){"use strict";var r=n(40223),i=n(62423),s=n(27394),o=n(14444);e.exports=function(e,t){var n,a,u,c;if(2===(n=arguments.length))return i(e)||i(t)?NaN:e===o||t===o?o:e===t&&0===e?r(e)?e:t:e>t?e:t;for(a=s,c=0;c<n;c++){if(i(u=arguments[c])||u===o)return u;(u>a||u===a&&0===u&&r(u))&&(a=u)}return a}},59596:function(e,t,n){"use strict";var r=n(70300);e.exports=r},70300:function(e){"use strict";e.exports=function(e,t){var n,r;return((n=(65535&(e>>>=0))>>>0)*(r=(65535&(t>>>=0))>>>0)>>>0)+((e>>>16>>>0)*r+n*(t>>>16>>>0)<<16>>>0)>>>0}},84458:function(e,t,n){"use strict";var r=n(93115);e.exports=r},93115:function(e,t,n){"use strict";var r=n(14444),i=n(28135),s=n(62423),o=n(19758);e.exports=function(e,t){return s(e)||s(t)?NaN:o(e)||o(t)?e===t?NaN:r:i(e-t)}},37471:function(e,t,n){"use strict";var r=n(55037),i=n(49553),s=n(48666),o=n(12087),a=n(16561),u=n(52894),c=n(46040),l=n(18306).isPrimitive,f=n(78422).isPrimitive,h=n(63989),d=n(47161),p=n(70475),m=n(2554),g=n(59596),v=n(71263),E=n(65259),_=n(25195),A=624,S=d>>>0,T=19650218,R=2147483648,y=2147483647,O=2636928640,I=4022730752,N=[0,2567483615],b=1/(h+1),D=67108864,L=h*b,P=630;function C(e,t){var n;return n=t?"option":"argument",e.length<631?new RangeError("invalid "+n+". `state` array has insufficient length."):1!==e[0]?new RangeError("invalid "+n+". `state` array has an incompatible schema version. Expected: 1. Actual: "+e[0]+"."):3!==e[1]?new RangeError("invalid "+n+". `state` array has an incompatible number of sections. Expected: 3. Actual: "+e[1]+"."):e[2]!==A?new RangeError("invalid "+n+". `state` array has an incompatible state length. Expected: "+A+". Actual: "+e[2]+"."):1!==e[627]?new RangeError("invalid "+n+". `state` array has an incompatible section length. Expected: "+1..toString()+". Actual: "+e[627]+"."):e[629]!==e.length-P?new RangeError("invalid "+n+". `state` array length is incompatible with seed section length. Expected: "+(e.length-P)+". Actual: "+e[629]+"."):null}function w(e,t,n){var r;for(e[0]=n>>>0,r=1;r<t;r++)n=((n=e[r-1]>>>0)^n>>>30)>>>0,e[r]=g(n,1812433253)+r>>>0;return e}function k(e,t,n,r){var i,s,o,a;for(s=1,o=0,a=m(t,r);a>0;a--)i=e[s-1]>>>0,i=g(i=(i^i>>>30)>>>0,1664525)>>>0,e[s]=(e[s]>>>0^i)+n[o]+o>>>0,o+=1,(s+=1)>=t&&(e[0]=e[t-1],s=1),o>=r&&(o=0);for(a=t-1;a>0;a--)i=e[s-1]>>>0,i=g(i=(i^i>>>30)>>>0,1566083941)>>>0,e[s]=(e[s]>>>0^i)-s>>>0,(s+=1)>=t&&(e[0]=e[t-1],s=1);return e[0]=2147483648,e}function M(e){var t,n;for(227,n=0;n<227;n++)t=e[n]&R|e[n+1]&y,e[n]=e[n+397]^t>>>1^N[1&t];for(623;n<623;n++)t=e[n]&R|e[n+1]&y,e[n]=e[n-227]^t>>>1^N[1&t];return t=e[623]&R|e[0]&y,e[623]=e[396]^t>>>1^N[1&t],e}e.exports=function(e){var t,n,h,m,g,R;if(h={},arguments.length){if(!a(e))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(o(e,"copy")&&(h.copy=e.copy,!l(e.copy)))throw new TypeError("invalid option. `copy` option must be a boolean. Option: `"+e.copy+"`.");if(o(e,"state")){if(n=e.state,h.state=!0,!c(n))throw new TypeError("invalid option. `state` option must be a Uint32Array. Option: `"+n+"`.");if(R=C(n,!0))throw R;!1===h.copy?t=n:(t=new p(n.length),v(n.length,n,1,t,1)),n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,A),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,n[629])}if(void 0===m)if(o(e,"seed"))if(m=e.seed,h.seed=!0,f(m)){if(m>S)throw new RangeError("invalid option. `seed` option must be a positive integer less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");m>>>=0}else{if(!1===u(m)||m.length<1)throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");if(1===m.length){if(m=m[0],!f(m))throw new TypeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");if(m>S)throw new RangeError("invalid option. `seed` option must be either a positive integer less than or equal to the maximum unsigned 32-bit integer or an array-like object containing integer values less than or equal to the maximum unsigned 32-bit integer. Option: `"+m+"`.");m>>>=0}else g=m.length,(t=new p(P+g))[0]=1,t[1]=3,t[2]=A,t[627]=1,t[628]=A,t[629]=g,v.ndarray(g,m,1,0,t,1,630),n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,A),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,g),n=k(n=w(n,A,T),A,m,g)}else m=_()>>>0}else m=_()>>>0;return void 0===n&&((t=new p(631))[0]=1,t[1]=3,t[2]=A,t[627]=1,t[628]=A,t[629]=1,t[630]=m,n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,A),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,1),n=w(n,A,m)),r(Z,"NAME","mt19937"),i(Z,"seed",y),i(Z,"seedLength",N),s(Z,"state",H,G),i(Z,"stateLength",x),i(Z,"byteLength",U),r(Z,"toJSON",X),r(Z,"MIN",1),r(Z,"MAX",d),r(Z,"normalized",V),r(V,"NAME",Z.NAME),i(V,"seed",y),i(V,"seedLength",N),s(V,"state",H,G),i(V,"stateLength",x),i(V,"byteLength",U),r(V,"toJSON",X),r(V,"MIN",0),r(V,"MAX",L),Z;function y(){var e=t[629];return v(e,m,1,new p(e),1)}function N(){return t[629]}function x(){return t.length}function U(){return t.byteLength}function H(){var e=t.length;return v(e,t,1,new p(e),1)}function G(e){var r;if(!c(e))throw new TypeError("invalid argument. Must provide a Uint32Array. Value: `"+e+"`.");if(r=C(e,!1))throw r;!1===h.copy?h.state&&e.length===t.length?v(e.length,e,1,t,1):(t=e,h.state=!0):(e.length!==t.length&&(t=new p(e.length)),v(e.length,e,1,t,1)),n=new p(t.buffer,t.byteOffset+3*t.BYTES_PER_ELEMENT,A),m=new p(t.buffer,t.byteOffset+630*t.BYTES_PER_ELEMENT,t[629])}function X(){var e={type:"PRNG"};return e.name=Z.NAME,e.state=E(t),e.params=[],e}function Z(){var e,r;return(r=t[628])>=A&&(n=M(n),r=0),e=n[r],t[628]=r+1,e^=e>>>11,e^=e<<7&O,e^=e<<15&I,(e^=e>>>18)>>>0}function V(){var e=Z()>>>5,t=Z()>>>6;return(e*D+t)*b}}},52788:function(e,t,n){"use strict";var r=n(55037),i=n(45025);r(i,"factory",n(37471)),e.exports=i},45025:function(e,t,n){"use strict";var r=n(37471)({seed:n(25195)()});e.exports=r},25195:function(e,t,n){"use strict";var r=n(47161),i=n(42339),s=r-1;e.exports=function(){return i(1+s*Math.random())>>>0}},70520:function(e,t,n){"use strict";var r=n(42339);e.exports=function(e,t,n){var i,s,o,a;for(o=e.length,s=new Array(t),a=0;a<t;a++)i=r(o*n()),s[a]=e[i];return s}},69895:function(e,t,n){"use strict";var r=n(55037),i=n(265),s=n(77895),o=n(20842).isPrimitive,a=n(52788).factory,u=n(97623),c=n(70520),l=n(25458),f=n(46128),h=n(20101),d=n(41830),p=n(66715),m=Array.prototype.slice;e.exports=function(){var e,t,n,g,v,E;if(n=u(d),1===arguments.length)i(arguments[0])||s(arguments[0])?t=arguments[0]:v=p(n,e=arguments[0]);else if(arguments.length>1){if(e=arguments[1],!i(t=arguments[0])&&!s(t))throw new TypeError("invalid argument. `pool` argument must be array-like. Value: `"+t+"`.");v=p(n,e)}if(v)throw v;return g=e&&e.seed?a({seed:e.seed}):a(),void 0===t?E=_:(t=o(t)?t.split(""):u(t),E=A),r(E,"seed",g.seed),r(E,"PRNG",g),g=g.normalized,E;function _(e,t){var r,a,u,d,v,E;if(!i(e)&&!s(e))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+e+"`.");if(o(e)&&(e=e.split("")),d={},arguments.length>1&&(E=p(d,t)))throw E;if(r=void 0===d.replace?n.replace:d.replace,void 0!==d.probs&&(u=d.probs),v=d.size?d.size:n.size?n.size:e.length,!1===r&&v>e.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the length of `x` when `replace` is `false`. Option: `"+v+"`.");return u?r?h(e,v,g,u):l(e,v,g,u):r?c(e,v,g):(a=m.call(e),f(a,v,g))}function A(e){var r,i,s,o,a,u;if(0===t.length)return null;if(s={},arguments.length&&(a=p(s,e)))throw a;if(i=void 0===s.mutate?n.mutate:s.mutate,r=void 0===s.replace?n.replace:s.replace,o=s.size?s.size:n.size?n.size:t.length,!1===r&&o>t.length)throw new RangeError("invalid input option. `size` option must be less than or equal to the population size when `replace` is `false`. Option: `"+o+"`.");return r?c(t,o,g):(u=f(t,o,g),i&&(t=t.slice(o,t.length)),u)}}},46128:function(e,t,n){"use strict";var r=n(42339),i=Array.prototype.slice;e.exports=function(e,t,n){var s,o,a;for(o=e.length-1;o>0;o--)a=r(n()*(o+1)),s=e[o],e[o]=e[a],e[a]=s;return i.call(e,0,t)}},15377:function(e,t,n){"use strict";var r=n(55037),i=n(37971);r(i,"factory",n(69895)),e.exports=i},25458:function(e){"use strict";e.exports=function(e,t,n,r){var i,s,o,a,u,c,l,f;for(a=e.length,i=new Array(a),u=0;u<a;u++)i[u]=r[u];for(o=new Array(t),u=0;u<t;u++){for(f=n(),s=0,c=0;c<a&&!(f<(s+=i[c]));c++);for(l=0;l<a;l++)l!==c&&(i[l]/=1-i[c]);i[c]=0,o[u]=e[c]}return o}},37971:function(e,t,n){"use strict";var r=n(69895)();e.exports=r},66715:function(e,t,n){"use strict";var r=n(38600),i=n(5e3),s=n(12087),o=n(18306).isPrimitive,a=n(16561);e.exports=function(e,t){return a(t)?s(t,"size")&&(e.size=t.size,!r(e.size))?new TypeError("invalid option. `size` option must be a nonnegative integer. Option: `"+e.size+"`."):s(t,"probs")&&(e.probs=t.probs,!i(e.probs))?new TypeError("invalid option. `probs` option must be an array of probabilities that sum to one. Option: `"+e.probs+"`."):s(t,"mutate")&&(e.mutate=t.mutate,!o(e.mutate))?new TypeError("invalid option. `mutate` option must be a boolean primitive. Option: `"+e.mutate+"`."):s(t,"replace")&&(e.replace=t.replace,!o(e.replace))?new TypeError("invalid option. `replace` option must be a boolean primitive. Option: `"+e.replace+"`."):null:new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.")}},20101:function(e,t,n){"use strict";var r=n(42339);e.exports=function(e,t,n,i){var s,o,a,u,c,l,f,h,d,p;for(a=i.slice(),l=e.length,s=[],o=[],d=0;d<l;d++)a[d]*=l,a[d]<1?s.push(d):o.push(d);for(u=new Array(l),f=new Array(l);0!==s.length&&0!==o.length;)p=s.shift(),h=o.shift(),f[p]=a[p],u[p]=h,a[h]=a[h]+a[p]-1,a[h]<1?s.push(h):o.push(h);for(d=0;d<o.length;d++)f[o[d]]=1;for(d=0;d<s.length;d++)f[s[d]]=1;for(c=new Array(t),d=0;d<t;d++)p=r(l*n()),n()<f[p]?c[d]=e[p]:c[d]=e[u[p]];return c}},7380:function(e,t,n){"use strict";var r=n(49504);e.exports=r},49504:function(e,t,n){"use strict";var r=n(38600).isPrimitive,i=n(52894),s=n(62897),o=n(64947),a=String.fromCharCode;e.exports=function(e){var t,n,u,c,l;if(1===(t=arguments.length)&&i(e))t=(u=arguments[0]).length;else for(u=[],l=0;l<t;l++)u.push(arguments[l]);if(0===t)throw new Error("insufficient input arguments. Must provide either an array of code points or one or more code points as separate arguments.");for(n="",l=0;l<t;l++){if(c=u[l],!r(c))throw new TypeError("invalid argument. Must provide valid code points (nonnegative integers). Value: `"+c+"`.");if(c>s)throw new RangeError("invalid argument. Must provide a valid code point (cannot exceed max). Value: `"+c+"`.");n+=c<=o?a(c):a(55296+((c-=65536)>>10),56320+(1023&c))}return n}},71226:function(e,t,n){"use strict";var r=n(91070);e.exports=r},91070:function(e,t,n){"use strict";var r=n(16910).isPrimitive,i=n(20842).isPrimitive;e.exports=function(e,t,n){var s,o;if(!i(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(!i(t))throw new TypeError("invalid argument. Second argument must be a string primitive. Value: `"+t+"`.");if(arguments.length>2){if(!r(n))throw new TypeError("invalid argument. Third argument must be an integer. Value: `"+n+"`.");s=n<0?e.length+n:n}else s=0;if(0===t.length)return!0;if(s<0||s+t.length>e.length)return!1;for(o=0;o<t.length;o++)if(e.charCodeAt(s+o)!==t.charCodeAt(o))return!1;return!0}},86645:function(e,t,n){"use strict";var r=n(52894),i=n(65773),s=n(12087),o=n(13447);e.exports=function(e,t,n){var a,u,c,l,f,h,d,p;if(!r(e))throw new TypeError("invalid argument. First argument must be a collection. Value: `"+e+"`.");if(u={},2===arguments.length)h=t;else{if(c=o(u,t))throw c;h=n}if(!i(h))throw new TypeError("invalid argument. Last argument must be a function. Value: `"+h+"`.");for(a=u.thisArg,f=e.length,l={},p=0;p<f;p++)d=h.call(a,e[p],p),s(l,d)?l[d]+=1:l[d]=1;return l}},48726:function(e,t,n){"use strict";var r=n(86645);e.exports=r},13447:function(e,t,n){"use strict";var r=n(16561),i=n(12087);e.exports=function(e,t){return r(t)?(i(t,"thisArg")&&(e.thisArg=t.thisArg),null):new TypeError("invalid argument. Options must be an object. Value: `"+t+"`.")}},49553:function(e,t,n){"use strict";var r=n(78497);e.exports=r},78497:function(e,t,n){"use strict";var r=n(45591);e.exports=function(e,t,n){r(e,t,{configurable:!1,enumerable:!1,get:n})}},48666:function(e,t,n){"use strict";var r=n(21696);e.exports=r},21696:function(e,t,n){"use strict";var r=n(45591);e.exports=function(e,t,n,i){r(e,t,{configurable:!1,enumerable:!1,get:n,set:i})}},31195:function(e,t,n){"use strict";var r=n(65773),i=n(88412),s=n(301).REGEXP,o=i();e.exports=function(e){if(!1===r(e))throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return o?e.name:s.exec(e.toString())[1]}},58619:function(e,t,n){"use strict";var r=n(31195);e.exports=r},5352:function(e){"use strict";e.exports=function(e){return e}},33857:function(e,t,n){"use strict";var r=n(5352);e.exports=r},81193:function(e,t,n){var r;if("function"===typeof fetch&&("undefined"!==typeof n.g&&n.g.fetch?r=n.g.fetch:"undefined"!==typeof window&&window.fetch&&(r=window.fetch)),"undefined"===typeof window||"undefined"===typeof window.document){var i=r||n(99282);i.default&&(i=i.default),t.default=i,e.exports=t.default}},30672:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,a=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype.toString,h=Math.max,d=Math.min,p=function(){return l.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||o.test(e)?a(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,s,o,a,u,c=0,l=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function E(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function _(e){return c=e,a=setTimeout(S,t),l?E(e):o}function A(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=s}function S(){var e=p();if(A(e))return T(e);a=setTimeout(S,function(e){var n=t-(e-u);return f?d(n,s-(e-c)):n}(e))}function T(e){return a=void 0,v&&r?E(e):(r=i=void 0,o)}function R(){var e=p(),n=A(e);if(r=arguments,i=this,u=e,n){if(void 0===a)return _(u);if(f)return a=setTimeout(S,t),E(u)}return void 0===a&&(a=setTimeout(S,t)),o}return t=g(t)||0,m(n)&&(l=!!n.leading,s=(f="maxWait"in n)?h(g(n.maxWait)||0,t):s,v="trailing"in n?!!n.trailing:v),R.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=u=i=a=void 0},R.flush=function(){return void 0===a?o:T(p())},R}},41074:function(e){"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,s=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(s===a-1||1===o);else if(s!==a-1&&2===o){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",i=0):i=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),s=a,o=0;continue}}else if(2===r.length||1===r.length){r="",i=0,s=a,o=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(s+1,a):r=e.slice(s+1,a),i=a-s-1;s=a,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o;s>=0?o=arguments[s]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(r=o+"/"+r,i=47===o.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var s=e.length,o=s-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var u=n.length-a,c=o<u?o:u,l=-1,f=0;f<=c;++f){if(f===c){if(u>c){if(47===n.charCodeAt(a+f))return n.slice(a+f+1);if(0===f)return n.slice(a+f)}else o>c&&(47===e.charCodeAt(i+f)?l=f:0===f&&(l=0));break}var h=e.charCodeAt(i+f);if(h!==n.charCodeAt(a+f))break;47===h&&(l=f)}var d="";for(f=i+l+1;f<=s;++f)f!==s&&47!==e.charCodeAt(f)||(0===d.length?d+="..":d+="/..");return d.length>0?d+n.slice(a+l):(a+=l,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,s=!0,o=e.length-1;o>=1;--o)if(47===(n=e.charCodeAt(o))){if(!s){i=o;break}}else s=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,s=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,u=-1;for(r=e.length-1;r>=0;--r){var c=e.charCodeAt(r);if(47===c){if(!o){i=r+1;break}}else-1===u&&(o=!1,u=r+1),a>=0&&(c===n.charCodeAt(a)?-1===--a&&(s=r):(a=-1,s=u))}return i===s?s=u:-1===s&&(s=e.length),e.slice(i,s)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){i=r+1;break}}else-1===s&&(o=!1,s=r+1);return-1===s?"":e.slice(i,s)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===i&&(s=!1,i=a+1),46===u?-1===n?n=a:1!==o&&(o=1):-1!==n&&(o=-1);else if(!s){r=a+1;break}}return-1===n||-1===i||0===o||1===o&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),s=47===i;s?(n.root="/",r=1):r=0;for(var o=-1,a=0,u=-1,c=!0,l=e.length-1,f=0;l>=r;--l)if(47!==(i=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===i?-1===o?o=l:1!==f&&(f=1):-1!==o&&(f=-1);else if(!c){a=l+1;break}return-1===o||-1===u||0===f||1===f&&o===u-1&&o===a+1?-1!==u&&(n.base=n.name=0===a&&s?e.slice(1,u):e.slice(a,u)):(0===a&&s?(n.name=e.slice(1,o),n.base=e.slice(1,u)):(n.name=e.slice(a,o),n.base=e.slice(a,u)),n.ext=e.slice(o,u)),a>0?n.dir=e.slice(0,a-1):s&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},62300:function(e,t,n){"use strict";var r=n(22122),i=n(19756),s=n(41488),o=n(78265),a=n.n(o),u=n(38674),c=["as","className","fluid","bsPrefix"],l=s.forwardRef((function(e,t){var n,o=e.as,l=void 0===o?"div":o,f=e.className,h=e.fluid,d=e.bsPrefix,p=(0,i.Z)(e,c),m=((n={})[d=(0,u.vE)(d,"jumbotron")]=!0,n[d+"-fluid"]=h,n);return s.createElement(l,(0,r.Z)({ref:t},p,{className:a()(f,m)}))}));l.defaultProps={fluid:!1},l.displayName="Jumbotron",t.Z=l},75824:function(e,t,n){"use strict";n.d(t,{a:function(){return s}});var r=n(41488),i=n(6244);function s(e){var t=e.i18n,n=e.defaultNS,s=e.children,o=(0,r.useMemo)((function(){return{i18n:t,defaultNS:n}}),[t,n]);return(0,r.createElement)(i.OO.Provider,{value:o},s)}}}]);
//# sourceMappingURL=2308.9164247d.chunk.js.map