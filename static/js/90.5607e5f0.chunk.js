/*! For license information please see 90.5607e5f0.chunk.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{2211:function(e,t,a){"use strict";var n=a(2212);e.exports=n},2212:function(e,t,a){"use strict";var n=a(40).isPrimitive;e.exports=function(e){if(!n(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");return""===e?"":e.charAt(0).toUpperCase()+e.slice(1)}},3978:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(3),o=a(12),l=a(13),i=a(27),c=a(20),u=a(39),d=a(50),p=a(1),m=a.n(p),f=a(30),v=a.n(f),h=a(1048),g=a(488),b=a.n(g),D=a(490),E=a(496),x=a(505),y=a(595),w=a(2211),O=a.n(w),C=a(63),j=a.n(C),k=a(628),T=a(631),A=a(627),L=a(613),S=a(5),M=a(850),H=a(683),F=a(647),N=v()("isle-dashboard:admin"),R=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),Object(d.a)(Object(i.a)(n),"createColumns",(function(){for(var e=n.props.t,t=n.props.admin.lessons,a=j.a,r=0,s=0;s<t.length;s++)t[s].createdAt>r&&(r=t[s].createdAt),t[s].updatedAt>r&&(r=t[s].updatedAt),t[s].createdAt<a&&(a=t[s].createdAt),t[s].updatedAt<a&&(a=t[s].updatedAt);return r=b()(r),a=b()(a),[{Header:e("common:title"),id:"title",accessor:"title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:F.a,Cell:function(e){return m.a.createElement("a",{href:"".concat(S.a,"/").concat(e.original.namespace.title,"/").concat(e.original.title)},e.original.title)}},{Header:e("common:course"),id:"namespace",accessor:"namespace.title",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:F.a},{Header:e("common:description"),id:"description",accessor:"description",maxWidth:200,style:{marginTop:"8px",color:"darkslategrey"},filterMethod:F.a},Object(M.a)({Header:O()(e("lesson:active")),accessor:"active",trueLabel:e("lesson:active"),falseLabel:e("lesson:inactive")}),Object(M.a)({Header:O()(e("lesson:public")),accessor:"public",trueLabel:e("lesson:public"),falseLabel:e("lesson:private")}),Object(H.a)({Header:e("last-updated"),accessor:"updatedAt",startDate:a,endDate:r}),Object(H.a)({Header:e("created-at"),accessor:"createdAt",startDate:a,endDate:r}),{Header:e("metadata"),accessor:"metadata",style:{marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center",cursor:"pointer"},Cell:function(e){if(e.value){var t=m.a.createElement(y.a,{id:"popover-data",style:{maxWidth:400}},m.a.createElement(y.a.Title,{as:"h3"},"Data"),m.a.createElement(y.a.Content,{style:{backgroundColor:"lightblue"}},m.a.createElement("pre",null,JSON.stringify(e.value,null,2))));return m.a.createElement(E.a,{trigger:"click",placement:"right",overlay:t},m.a.createElement("i",{className:"data-icon fas fa-tablet-alt"}))}return null},maxWidth:120,resizable:!1,filterable:!1,sortable:!1},{Header:e("common:actions"),Cell:function(t){return m.a.createElement("div",null,m.a.createElement(E.a,{placement:"bottom",overlay:m.a.createElement(x.a,{id:"delete_lesson"},e("lesson:delete-lesson"))},m.a.createElement(D.a,{variant:"outline-secondary",style:{marginLeft:8},onClick:n.askToDeleteSelectedLessonFactory(t.row._original),"aria-label":e("lesson:delete-lesson")},m.a.createElement("div",{className:"fa fa-trash-alt"}))))},resizable:!1,filterable:!1,sortable:!1}]})),Object(d.a)(Object(i.a)(n),"askToDeleteSelectedLessonFactory",(function(e){return function(){n.setState({showDeleteModal:!n.state.showDeleteModal,selectedLesson:e})}})),Object(d.a)(Object(i.a)(n),"deleteSelectedLesson",(function(){var e=n.state.selectedLesson.title,t=n.state.selectedLesson.namespace.title;N("Delete lesson ".concat(e," of course ").concat(t,".")),n.setState({showDeleteModal:!1},Object(s.a)(r.a.mark((function a(){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.props.deleteLesson({lessonName:e,namespaceName:t});case 2:n.props.getAllLessons();case 3:case"end":return a.stop()}}),a)}))))})),Object(d.a)(Object(i.a)(n),"toggleDeleteModal",(function(){n.setState({showDeleteModal:!n.state.showDeleteModal})})),Object(d.a)(Object(i.a)(n),"toggleExplorer",(function(){n.setState({showExplorer:!n.state.showExplorer})})),n.state={selectedLesson:null,showDeleteModal:!1,columns:n.createColumns(),showExplorer:!1},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.getAllLessons()}},{key:"componentDidUpdate",value:function(e){e.admin.lessons!==this.props.admin.lessons&&this.setState({columns:this.createColumns()})}},{key:"render",value:function(){var e=this.props.t;if(this.state.showExplorer){for(var t=this.props.admin.lessons,a=[],n=0;n<t.length;n++){var r=t[n],s={};s.title=r.title,s.namespace=r.namespace?r.namespace.title:null,s.description=r.description,s.active=r.active,s.public=r.public,s.createdAt=r.createdAt,s.updatedAt=r.updatedAt,a.push(s)}return a=Object(k.a)(a),m.a.createElement(A.a,{title:e("explorer-lessons-title"),data:a,categorical:["title","namespace","active","public","createdAt","updatedAt"],quantitative:[],close:this.toggleExplorer})}return m.a.createElement(p.Fragment,null,m.a.createElement(T.a,{data:this.props.admin.lessons,columns:this.state.columns,onButtonClick:this.toggleExplorer,t:e}),this.state.showDeleteModal?m.a.createElement(L.a,{title:e("lesson:delete-lesson"),message:m.a.createElement("span",null,e("lesson:delete-modal-body",{name:this.state.selectedLesson.title})),close:this.toggleDeleteModal,show:this.state.showDeleteModal,onConfirm:this.deleteSelectedLesson}):null)}}]),a}(p.Component);t.default=Object(h.a)(["admin","lesson","common"])(R)},541:function(e,t,a){"use strict";var n=a(598);e.exports=n},561:function(e,t,a){"use strict";var n=a(597);e.exports=n},591:function(e,t,a){"use strict";var n=a(601);e.exports=n},597:function(e,t,a){"use strict";var n=a(40).isPrimitive,r=a(541),s=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;e.exports=function(e){if(!n(e))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+e+"`.");return r(e,s,"$1")}},598:function(e,t,a){"use strict";var n=a(599),r=a(54),s=a(40).isPrimitive,o=a(591);e.exports=function(e,t,a){if(!s(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(s(t))t=n(t),t=new RegExp(t,"g");else if(!o(t))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+t+"`.");if(!s(a)&&!r(a))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+a+"`.");return e.replace(t,a)}},599:function(e,t,a){"use strict";var n=a(600);e.exports=n},600:function(e,t,a){"use strict";var n=a(40).isPrimitive,r=/[-\/\\^$*+?.()|[\]{}]/g;e.exports=function(e){var t,a;if(!n(e))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+e+"`.");if("/"===e[0])for(a=e.length-1;a>=0&&"/"!==e[a];a--);return void 0===a||a<=0?e.replace(r,"\\$&"):(t=(t=e.substring(1,a)).replace(r,"\\$&"),e=e[0]+t+e.substring(a))}},601:function(e,t,a){"use strict";var n=a(56),r=a(14),s=a(602),o=n();e.exports=function(e){return"object"===typeof e&&(e instanceof RegExp||(o?s(e):"[object RegExp]"===r(e)))}},602:function(e,t,a){"use strict";var n=a(603);e.exports=function(e){try{return n.call(e),!0}catch(t){return!1}}},603:function(e,t,a){"use strict";var n=RegExp.prototype.exec;e.exports=n},613:function(e,t,a){"use strict";var n=a(1),r=a.n(n),s=a(1048),o=a(490),l=a(559),i=function(e){return r.a.createElement(l.a,{show:e.show,onHide:e.close},r.a.createElement(l.a.Header,null,r.a.createElement(l.a.Title,{as:"h3"},e.title)),r.a.createElement(l.a.Body,null,e.message),r.a.createElement(l.a.Footer,null,r.a.createElement(o.a,{onClick:e.close},e.t("cancel")),r.a.createElement(o.a,{variant:"danger",onClick:e.onConfirm},e.t("confirm"))))};i.defaultProps={close:function(){},message:"",onConfirm:function(){},show:!1,title:""},t.a=Object(s.a)(["common"])(i)},627:function(e,t,a){"use strict";var n=a(10),r=Object(n.a)((function(){return Promise.all([a.e(61),a.e(145)]).then(a.bind(null,894))}));t.a=r},628:function(e,t,a){"use strict";var n=a(561),r=a.n(n),s=a(41),o=a.n(s),l=/^\s*[+-]?[\d.]+e?[+-]?\d*\s*$/;t.a=function(e){for(var t={},a={},n=o()(e[0]).filter((function(e){return""!==e})),s=0;s<n.length;s++){var i=r()(n[s]);a[n[s]]=i,t[i]=new Array(e.length)}for(var c=0;c<e.length;c++)for(var u=0;u<n.length;u++){var d=n[u],p=e[c][d];l.test(p)&&(p=Number(p)),t[a[d]][c]=p}return t}},631:function(e,t,a){"use strict";var n=a(9),r=a(12),s=a(13),o=a(20),l=a(39),i=a(1),c=a.n(i),u=a(792),d=a(490),p=a(590),m=a(496),f=a(505),v=(a(782),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.t;return c.a.createElement(i.Fragment,null,c.a.createElement(u.a,Object(n.a)({},this.props,{filterable:!0,className:"dashboard-table ".concat(this.props.className),data:this.props.data,columns:this.props.columns,previousText:t("common:previous"),nextText:t("common:next"),loadingText:t("common:loading"),noDataText:t("common:no-rows-found"),pageText:t("common:page"),ofText:t("common:of"),rowsText:t("common:rows"),ref:function(t){e.table=t}})),this.props.onButtonClick?c.a.createElement(p.a,{vertical:!0,style:{float:"right",marginRight:-9}},c.a.createElement(m.a,{placement:"left",overlay:c.a.createElement(f.a,{id:"explorer-tooltip"},t("common:data-explorer"))},c.a.createElement(d.a,{variant:"primary",style:{marginBottom:8},onClick:this.props.onButtonClick},c.a.createElement("i",{className:"fas fa-chart-bar"})))):null)}}]),a}(i.Component));v.defaultProps={t:function(){}};t.a=v},647:function(e,t,a){"use strict";var n=a(97),r=a.n(n),s=a(104),o=a.n(s);t.a=function(e,t){var a=t[e.id]||"";return r()(o()(a),o()(e.value))}},683:function(e,t,a){"use strict";var n=a(12),r=a(13),s=a(27),o=a(20),l=a(39),i=a(50),c=a(1),u=a.n(c),d=a(754),p=a(496),m=a(595),f=a(490),v=(a(710),function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(n.a)(this,a),r=t.call(this,e),Object(i.a)(Object(s.a)(r),"handleDatesChange",(function(e){var t=e.startDate,a=e.endDate;r.setState({startDate:t,endDate:a},(function(){r.props.onDatesChange(r.state)}))})),Object(i.a)(Object(s.a)(r),"handleReset",(function(){r.setState({startDate:r.props.minDate,endDate:r.props.maxDate},(function(){r.props.onDatesChange(r.state)}))})),r.state={startDate:e.startDate,endDate:e.endDate},r}return Object(r.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.startDate===e.startDate&&this.props.endDate===e.endDate||this.setState({startDate:this.props.startDate,endDate:this.props.endDate})}},{key:"render",value:function(){var e=this;return u.a.createElement(c.Fragment,null,u.a.createElement(d.DateRangePicker,{startDate:this.state.startDate,endDate:this.state.endDate,startDateId:"start_date_input",endDateId:"end_date_input",onDatesChange:this.handleDatesChange,focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})},isOutsideRange:function(){return!1}}),u.a.createElement(f.a,{variant:"warning",onClick:this.handleReset,style:{paddingTop:8,paddingLeft:16,paddingRight:16,paddingBottom:8,fontSize:20}},"x"))}}]),a}(c.Component)),h=function(e){return new Date(e.value).toLocaleString()};t.a=function(e){var t=e.Header,a=e.accessor,n=e.Cell,r=e.style,s=e.startDate,o=e.endDate,l=e.maxWidth;return{Header:t,accessor:a,style:r,Cell:n||h,filterMethod:function(e,t){if(!e.value)return!0;var a=e.value,n=a.startDate,r=a.endDate,s=t[e.pivotId||e.id].getTime();return n&&r?s>=n.valueOf()&&s<=r.valueOf():n?s>=n.valueOf():!r||s<=r.valueOf()},Filter:function(e){var t=e.filter,a=e.onChange,n=t&&t.value||{},r=u.a.createElement(m.a,{id:"popover-data",style:{maxWidth:400}},u.a.createElement(m.a.Title,{as:"h3"},"Dates"),u.a.createElement(m.a.Content,{style:{backgroundColor:"grey"}},u.a.createElement(v,{startDate:n.startDate||s,minDate:s,maxDate:o,endDate:n.endDate||o,onDatesChange:function(e){var t=e.startDate,n=e.endDate;a({startDate:t,endDate:n})}})));return u.a.createElement(p.a,{trigger:"click",placement:"right",overlay:r},u.a.createElement(f.a,{size:"sm",style:{float:"left",marginLeft:6},variant:"secondary"},u.a.createElement("i",{className:"far fa-calendar-alt"})))},maxWidth:void 0===l?150:l}}},850:function(e,t,a){"use strict";var n=a(1),r=a.n(n);t.a=function(e){var t,a,n=e.Header,s=e.accessor,o=e.trueLabel,l=e.falseLabel,i=e.printLabels,c=void 0!==i&&i,u=e.maxWidth;return c?(t=function(e){return!0===e.value?o:!1===e.value?l:null},a={marginTop:"8px",color:"darkslategrey"}):(t=function(e){return e.value?r.a.createElement("i",{className:"far fa-check-square"}):null},a={marginTop:"2px",color:"darkslategrey",fontSize:24,textAlign:"center"}),{Header:n,accessor:s,style:a,Cell:t,filterMethod:function(e,t){if("all"===e.value)return!0;var a=e.pivotId||e.id;return void 0===t[a]||String(t[a])===e.value},Filter:function(e){var t,a=e.filter,n=e.onChange,s=function(e){var t=e.target.value;n(t)};return t=a?a.value:"all",r.a.createElement("select",{onBlur:s,onChange:s,style:{width:"100%",backgroundColor:"ghostwhite"},value:t},r.a.createElement("option",{value:"all"},"Show All"),r.a.createElement("option",{value:!0},o),r.a.createElement("option",{value:!1},l))},maxWidth:void 0===u?150:u}}}}]);
//# sourceMappingURL=90.5607e5f0.chunk.js.map