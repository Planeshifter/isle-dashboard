const t=require("axios"),e=require("glob"),n=require("fs"),s=require("path"),o=require("qs"),r=require("@stdlib/fs/read-json"),l=require("@stdlib/utils/keys"),i=["de","es","fr","it","ja","nl","pl","pt","ru","zh"],c="https://api.deepl.com/v2/translate",a="fa2bffeb-2b6f-0eba-9a6a-c8984589c3fd";e("**/en/*.json",{},(function(e,f){for(let g=0;g<f.length;g++){const e=f[g],u=r.sync(e),p=l(u),h={};for(let t=0;t<p.length;t++){const e=p[t];h[e]=u[e]}n.writeFileSync(f[g],JSON.stringify(h,null,"\t").concat("\n"));for(let l=0;l<i.length;l++){const f=i[l],g=s.join(__dirname,"..",e.replace("en",f));n.existsSync(g)||n.writeFileSync(g,JSON.stringify({}));const h=r.sync(g),y=[],d=[];for(let e=0;e<p.length;e++){const n=p[e];if(!h[n]){const e=u[n];console.log("Translate `"+e+"` to "+f),d.push(n),y.push(t.post(c,o.stringify({auth_key:a,source_lang:"EN",text:e,target_lang:"pt"===f?"PT-BR":f.toUpperCase()})))}}Promise.all(y).then((t=>{const e=t.map((t=>t.data.translations[0].text));for(let n=0;n<d.length;n++){const t=d[n];h[t]=e[n]}p.sort(((t,e)=>t.localeCompare(e)));const s={};for(let n=0;n<p.length;n++){const t=p[n];s[t]=h[t]}n.writeFileSync(g,JSON.stringify(s,null,"\t").concat("\n"))})).catch((t=>{console.log(t)}))}}}));